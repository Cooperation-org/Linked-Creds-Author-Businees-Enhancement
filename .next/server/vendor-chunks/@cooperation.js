"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@cooperation";
exports.ids = ["vendor-chunks/@cooperation"];
exports.modules = {

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialEngine: () => (/* reexport safe */ _models_CredentialEngine_js__WEBPACK_IMPORTED_MODULE_1__.CredentialEngine),\n/* harmony export */   GoogleDriveStorage: () => (/* reexport safe */ _models_GoogleDriveStorage_js__WEBPACK_IMPORTED_MODULE_0__.GoogleDriveStorage),\n/* harmony export */   Resume: () => (/* reexport safe */ _models_Resume_js__WEBPACK_IMPORTED_MODULE_4__.Resume),\n/* harmony export */   ResumeVC: () => (/* reexport safe */ _models_ResumeVC_js__WEBPACK_IMPORTED_MODULE_5__.ResumeVC),\n/* harmony export */   StorageHandler: () => (/* reexport safe */ _models_Resume_js__WEBPACK_IMPORTED_MODULE_4__.StorageHandler),\n/* harmony export */   createAndSignVerifiablePresentation: () => (/* reexport safe */ _utils_presentation_js__WEBPACK_IMPORTED_MODULE_3__.createAndSignVerifiablePresentation),\n/* harmony export */   extractGoogleDriveFileId: () => (/* reexport safe */ _utils_google_js__WEBPACK_IMPORTED_MODULE_2__.extractGoogleDriveFileId),\n/* harmony export */   generateViewLink: () => (/* reexport safe */ _utils_google_js__WEBPACK_IMPORTED_MODULE_2__.generateViewLink),\n/* harmony export */   getVCWithRecommendations: () => (/* reexport safe */ _utils_google_js__WEBPACK_IMPORTED_MODULE_2__.getVCWithRecommendations),\n/* harmony export */   resumeFolderTypes: () => (/* reexport safe */ _models_Resume_js__WEBPACK_IMPORTED_MODULE_4__.resumeFolderTypes),\n/* harmony export */   saveToGoogleDrive: () => (/* reexport safe */ _utils_google_js__WEBPACK_IMPORTED_MODULE_2__.saveToGoogleDrive),\n/* harmony export */   uploadToGoogleDrive: () => (/* reexport safe */ _utils_google_js__WEBPACK_IMPORTED_MODULE_2__.uploadToGoogleDrive)\n/* harmony export */ });\n/* harmony import */ var _models_GoogleDriveStorage_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./models/GoogleDriveStorage.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/models/GoogleDriveStorage.js\");\n/* harmony import */ var _models_CredentialEngine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./models/CredentialEngine.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/models/CredentialEngine.js\");\n/* harmony import */ var _utils_google_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/google.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/google.js\");\n/* harmony import */ var _utils_presentation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/presentation.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/presentation.js\");\n/* harmony import */ var _models_Resume_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./models/Resume.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/models/Resume.js\");\n/* harmony import */ var _models_ResumeVC_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./models/ResumeVC.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/models/ResumeVC.js\");\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0M7QUFDRjtBQUNYO0FBQ007QUFDTDtBQUNFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvaW5kZXguanM/NmRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tICcuL21vZGVscy9Hb29nbGVEcml2ZVN0b3JhZ2UuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMvQ3JlZGVudGlhbEVuZ2luZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL2dvb2dsZS5qcyc7XG5leHBvcnQgKiBmcm9tICcuL3V0aWxzL3ByZXNlbnRhdGlvbi5qcyc7XG5leHBvcnQgKiBmcm9tICcuL21vZGVscy9SZXN1bWUuanMnO1xuZXhwb3J0ICogZnJvbSAnLi9tb2RlbHMvUmVzdW1lVkMuanMnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/models/CredentialEngine.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/models/CredentialEngine.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialEngine: () => (/* binding */ CredentialEngine)\n/* harmony export */ });\n/* harmony import */ var _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @digitalbazaar/ed25519-verification-key-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-verification-key-2020/lib/index.js\");\n/* harmony import */ var _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @digitalbazaar/ed25519-signature-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-signature-2020/lib/index.js\");\n/* harmony import */ var _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @digitalbazaar/vc */ \"(ssr)/./node_modules/@digitalbazaar/vc/lib/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _utils_credential_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/credential.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/credential.js\");\n/* harmony import */ var _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/digitalbazaar.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/digitalbazaar.js\");\n/* harmony import */ var _utils_google_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/google.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/google.js\");\n\n\n\n\n\n\n\n/**\n * Class representing the Credential Engine.\n * @class CredentialEngine\n * @classdesc Credential Engine class to create DIDs and VCs.\n * @method createDID - Create a new DID with Digital Bazaar's Ed25519VerificationKey2020 key pair.\n * @method createWalletDID - Create a new DID with user metamask address as controller.\n * @method signVC - Sign a Verifiable Credential (VC).\n * @method verifyCredential - Verify a Verifiable Credential (VC).\n * @method createPresentation - Create a Verifiable Presentation (VP).\n * @method signPresentation - Sign a Verifiable Presentation (VP).\n */\nclass CredentialEngine {\n    storage;\n    keyPair;\n    constructor(storage) {\n        this.storage = storage;\n    }\n    async getKeyPair(vc) {\n        // Fetch all stored key pairs\n        const keyPairs = await this.storage.getAllFilesByType('KEYPAIRs');\n        if (!keyPairs || keyPairs.length === 0) {\n            throw new Error('No key pairs found in storage.');\n        }\n        // Extract UUID from VC ID\n        const vcIdParts = vc.id.split(':');\n        if (vcIdParts.length < 3) {\n            throw new Error('Invalid Verifiable Credential ID format.');\n        }\n        const uuidFromVC = vcIdParts[2];\n        // Match UUID with key pair files\n        const matchingKeyPairFile = keyPairs.find((key) => {\n            const [uuidPart] = key.name.split('_');\n            return uuidPart === uuidFromVC;\n        });\n        if (!matchingKeyPairFile) {\n            throw new Error('No matching key pair found for the Verifiable Credential ID.');\n        }\n        // Return the key pair content\n        const key = matchingKeyPairFile.content;\n        this.keyPair = key;\n        return key;\n    }\n    generateKeyPair = async (address) => {\n        const keyPair = await _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__.Ed25519VerificationKey2020.generate();\n        const a = address || keyPair.publicKeyMultibase;\n        keyPair.controller = `did:key:${a}`;\n        keyPair.id = `${keyPair.controller}#${a}`;\n        keyPair.revoked = false;\n        return keyPair;\n    };\n    async verifyCreds(creds) {\n        await Promise.all(creds.map((cred) => {\n            const res = this.verifyCredential(cred);\n            if (!res)\n                return false;\n        }));\n        return true;\n    }\n    /**\n     * Create a new DID with Digital Bazaar's Ed25519VerificationKey2020 key pair.\n     * @returns {Promise<{didDocument: object, keyPair: object}>} The created DID document and key pair.\n     * @throws Will throw an error if DID creation fails.\n     */\n    async createDID() {\n        try {\n            const keyPair = await this.generateKeyPair();\n            // const keyFile = await saveToGoogleDrive({\n            // \tstorage: this.storage,\n            // \tdata: keyPair,\n            // \ttype: 'KEYPAIR',\n            // });\n            const didDocument = await (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_3__.generateDIDSchema)(keyPair);\n            return { didDocument, keyPair };\n        }\n        catch (error) {\n            console.error('Error creating DID:', error);\n            throw error;\n        }\n    }\n    async findKeysAndDIDs() {\n        const keyPairs = (await this.storage.getAllFilesByType('KEYPAIRs'));\n        const DIDs = (await this.storage.getAllFilesByType('DIDs'));\n        if (DIDs.length === 0 || keyPairs.length === 0)\n            return null;\n        const keyPair = keyPairs[0].data;\n        const didDocument = DIDs[0].data.didDocument;\n        return {\n            didDocument,\n            keyPair,\n        };\n    }\n    /**\n     * Create a new DID with user metamask address as controller\n     * @param walletrAddress\n     * @returns {Promise<{didDocument: object, keyPair: object}>} The created DID document and key pair.\n     * @throws Will throw an error if DID creation fails.\n     */\n    async createWalletDID(walletrAddress) {\n        try {\n            const keyPair = await this.generateKeyPair(walletrAddress);\n            const keyFile = await (0,_utils_google_js__WEBPACK_IMPORTED_MODULE_5__.saveToGoogleDrive)({\n                storage: this.storage,\n                data: keyPair,\n                type: 'KEYPAIR',\n            });\n            console.log('🚀 ~ CredentialEngine ~ createWalletDID ~ keyFile:', keyFile);\n            const didDocument = await (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_3__.generateDIDSchema)(keyPair);\n            return { didDocument, keyPair };\n        }\n        catch (error) {\n            console.error('Error creating DID:', error);\n            throw error;\n        }\n    }\n    /**\n     * Sign a Verifiable Credential (VC)\n     * @param {'VC' | 'RECOMMENDATION'} type - The signature type.\n     * @param {string} issuerId - The ID of the issuer [currently we put it as the did id]\n     * @param {KeyPair} keyPair - The key pair to use for signing.\n     * @param {FormDataI | RecommendationFormDataI} formData - The form data to include in the VC.\n     * @param {string} VCId - The ID of the credential when the type is RECOMMENDATION\n     * @returns {Promise<Credential>} The signed VC.\n     * @throws Will throw an error if VC signing fails.\n     */\n    async signVC({ data, type, keyPair, issuerId, vcFileId }) {\n        let credential = (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_3__.generateUnsignedVC)({ formData: data, issuerDid: issuerId });\n        if (type == 'RECOMMENDATION' && vcFileId) {\n            console.log('WOW');\n            credential = (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_3__.generateUnsignedRecommendation)({\n                vcId: vcFileId,\n                recommendation: data,\n                issuerDid: issuerId,\n            });\n        }\n        try {\n            console.log('🚀 ~ CredentialEngine ~ signVC ~ credential:', credential);\n            if (!credential)\n                throw new Error('Invalid credential type');\n            const suite = new _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_1__.Ed25519Signature2020({ key: keyPair, verificationMethod: keyPair.id });\n            console.log('before');\n            const signedVC = await _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.issue({ credential, suite, documentLoader: _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_4__.customDocumentLoader });\n            return signedVC;\n        }\n        catch (error) {\n            console.error('Error signing VC:', error);\n            throw error;\n        }\n    }\n    /**\n     * Verify a Verifiable Credential (VC)\n     * @param {object} credential - The Verifiable Credential to verify.\n     * @returns {Promise<boolean>} The verification result.\n     * @throws Will throw an error if VC verification fails.\n     */\n    async verifyCredential(credential) {\n        try {\n            const keyPair = await (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_3__.extractKeyPairFromCredential)(credential);\n            const suite = new _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_1__.Ed25519Signature2020({\n                key: keyPair,\n                verificationMethod: keyPair.id,\n            });\n            const result = await _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.verifyCredential({\n                credential,\n                suite,\n                documentLoader: _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_4__.customDocumentLoader,\n            });\n            console.log(JSON.stringify(result));\n            return result;\n        }\n        catch (error) {\n            console.error('Verification failed:', error);\n            throw error;\n        }\n    }\n    /**\n     * Create a Verifiable Presentation (VP)\n     * @param verifiableCredential\n     * @returns\n     */\n    async createPresentation(verifiableCredential) {\n        try {\n            const res = await this.verifyCreds(verifiableCredential);\n            if (!res)\n                throw new Error('Some credentials failed verification');\n            const id = `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`;\n            const keyPair = await this.getKeyPair(verifiableCredential[0]);\n            console.log('🚀 ~ CredentialEngine ~ createPresentation ~ keyPair:', keyPair);\n            const VP = await _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.createPresentation({ verifiableCredential, id, holder: keyPair.controller });\n            return VP;\n        }\n        catch (error) {\n            console.error('Error creating presentation:', error);\n            throw error;\n        }\n    }\n    /**\n     * Sign a Verifiable Presentation (VP)\n     * @param presentation\n     * @returns\n     */\n    async signPresentation(presentation) {\n        try {\n            // Wrap the keyPair into an Ed25519VerificationKey2020 that includes the signer method\n            const signingKey = new _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__.Ed25519VerificationKey2020({\n                id: this.keyPair.id,\n                controller: this.keyPair.controller,\n                type: this.keyPair.type,\n                publicKeyMultibase: this.keyPair.publicKeyMultibase,\n                privateKeyMultibase: this.keyPair.privateKeyMultibase,\n            });\n            // Create the Ed25519Signature2020 suite with the wrapped key that includes the signer\n            const suite = new _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_1__.Ed25519Signature2020({\n                key: signingKey,\n                verificationMethod: this.keyPair.id,\n            });\n            // Sign the presentation\n            const signedVP = await _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.signPresentation({\n                presentation,\n                suite,\n                documentLoader: _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_4__.customDocumentLoader,\n                challenge: '', // Provide the challenge if required\n            });\n            return signedVP;\n        }\n        catch (error) {\n            console.error('Error signing presentation:', error);\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9tb2RlbHMvQ3JlZGVudGlhbEVuZ2luZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEwRjtBQUNiO0FBQ25DO0FBQ047QUFDMEc7QUFDN0U7QUFDVjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9HQUEwQjtBQUN4RDtBQUNBLHdDQUF3QyxFQUFFO0FBQzFDLHdCQUF3QixtQkFBbUIsR0FBRyxFQUFFO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsU0FBUyxxQ0FBcUMsR0FBRztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEIsc0NBQXNDLHVFQUFpQjtBQUN2RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVMscUNBQXFDLEdBQUc7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxtRUFBaUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esc0NBQXNDLHVFQUFpQjtBQUN2RCxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUseUJBQXlCO0FBQ3hDLGVBQWUsUUFBUTtBQUN2QixlQUFlLFNBQVM7QUFDeEIsZUFBZSxxQ0FBcUM7QUFDcEQsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixxQkFBcUI7QUFDdEM7QUFDQTtBQUNBLG1CQUFtQix5Q0FBeUM7QUFDNUQseUJBQXlCLHdFQUFrQixHQUFHLHFDQUFxQztBQUNuRjtBQUNBO0FBQ0EseUJBQXlCLG9GQUE4QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4Qix1RkFBb0IsR0FBRyw4Q0FBOEM7QUFDbkc7QUFDQSxtQ0FBbUMsb0RBQVUsR0FBRyxtQ0FBbUMseUVBQW9CLEVBQUU7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixrQkFBa0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0ZBQTRCO0FBQzlELDhCQUE4Qix1RkFBb0I7QUFDbEQ7QUFDQTtBQUNBLGFBQWE7QUFDYixpQ0FBaUMsK0RBQXFCO0FBQ3REO0FBQ0E7QUFDQSxnQ0FBZ0MseUVBQW9CO0FBQ3BELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0RBQU0sR0FBRztBQUM1QztBQUNBO0FBQ0EsNkJBQTZCLGlFQUF1QixHQUFHLHNEQUFzRDtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsb0dBQTBCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEIsdUZBQW9CO0FBQ2xEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQ0FBbUMsK0RBQXFCO0FBQ3hEO0FBQ0E7QUFDQSxnQ0FBZ0MseUVBQW9CO0FBQ3BEO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9tb2RlbHMvQ3JlZGVudGlhbEVuZ2luZS5qcz8wZTNjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwIH0gZnJvbSAnQGRpZ2l0YWxiYXphYXIvZWQyNTUxOS12ZXJpZmljYXRpb24ta2V5LTIwMjAnO1xuaW1wb3J0IHsgRWQyNTUxOVNpZ25hdHVyZTIwMjAgfSBmcm9tICdAZGlnaXRhbGJhemFhci9lZDI1NTE5LXNpZ25hdHVyZS0yMDIwJztcbmltcG9ydCAqIGFzIGRiVmMgZnJvbSAnQGRpZ2l0YWxiYXphYXIvdmMnO1xuaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgeyBleHRyYWN0S2V5UGFpckZyb21DcmVkZW50aWFsLCBnZW5lcmF0ZURJRFNjaGVtYSwgZ2VuZXJhdGVVbnNpZ25lZFJlY29tbWVuZGF0aW9uLCBnZW5lcmF0ZVVuc2lnbmVkVkMsIH0gZnJvbSAnLi4vdXRpbHMvY3JlZGVudGlhbC5qcyc7XG5pbXBvcnQgeyBjdXN0b21Eb2N1bWVudExvYWRlciB9IGZyb20gJy4uL3V0aWxzL2RpZ2l0YWxiYXphYXIuanMnO1xuaW1wb3J0IHsgc2F2ZVRvR29vZ2xlRHJpdmUgfSBmcm9tICcuLi91dGlscy9nb29nbGUuanMnO1xuLyoqXG4gKiBDbGFzcyByZXByZXNlbnRpbmcgdGhlIENyZWRlbnRpYWwgRW5naW5lLlxuICogQGNsYXNzIENyZWRlbnRpYWxFbmdpbmVcbiAqIEBjbGFzc2Rlc2MgQ3JlZGVudGlhbCBFbmdpbmUgY2xhc3MgdG8gY3JlYXRlIERJRHMgYW5kIFZDcy5cbiAqIEBtZXRob2QgY3JlYXRlRElEIC0gQ3JlYXRlIGEgbmV3IERJRCB3aXRoIERpZ2l0YWwgQmF6YWFyJ3MgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjAga2V5IHBhaXIuXG4gKiBAbWV0aG9kIGNyZWF0ZVdhbGxldERJRCAtIENyZWF0ZSBhIG5ldyBESUQgd2l0aCB1c2VyIG1ldGFtYXNrIGFkZHJlc3MgYXMgY29udHJvbGxlci5cbiAqIEBtZXRob2Qgc2lnblZDIC0gU2lnbiBhIFZlcmlmaWFibGUgQ3JlZGVudGlhbCAoVkMpLlxuICogQG1ldGhvZCB2ZXJpZnlDcmVkZW50aWFsIC0gVmVyaWZ5IGEgVmVyaWZpYWJsZSBDcmVkZW50aWFsIChWQykuXG4gKiBAbWV0aG9kIGNyZWF0ZVByZXNlbnRhdGlvbiAtIENyZWF0ZSBhIFZlcmlmaWFibGUgUHJlc2VudGF0aW9uIChWUCkuXG4gKiBAbWV0aG9kIHNpZ25QcmVzZW50YXRpb24gLSBTaWduIGEgVmVyaWZpYWJsZSBQcmVzZW50YXRpb24gKFZQKS5cbiAqL1xuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxFbmdpbmUge1xuICAgIHN0b3JhZ2U7XG4gICAga2V5UGFpcjtcbiAgICBjb25zdHJ1Y3RvcihzdG9yYWdlKSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgfVxuICAgIGFzeW5jIGdldEtleVBhaXIodmMpIHtcbiAgICAgICAgLy8gRmV0Y2ggYWxsIHN0b3JlZCBrZXkgcGFpcnNcbiAgICAgICAgY29uc3Qga2V5UGFpcnMgPSBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0QWxsRmlsZXNCeVR5cGUoJ0tFWVBBSVJzJyk7XG4gICAgICAgIGlmICgha2V5UGFpcnMgfHwga2V5UGFpcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGtleSBwYWlycyBmb3VuZCBpbiBzdG9yYWdlLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3QgVVVJRCBmcm9tIFZDIElEXG4gICAgICAgIGNvbnN0IHZjSWRQYXJ0cyA9IHZjLmlkLnNwbGl0KCc6Jyk7XG4gICAgICAgIGlmICh2Y0lkUGFydHMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZlcmlmaWFibGUgQ3JlZGVudGlhbCBJRCBmb3JtYXQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXVpZEZyb21WQyA9IHZjSWRQYXJ0c1syXTtcbiAgICAgICAgLy8gTWF0Y2ggVVVJRCB3aXRoIGtleSBwYWlyIGZpbGVzXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nS2V5UGFpckZpbGUgPSBrZXlQYWlycy5maW5kKChrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFt1dWlkUGFydF0gPSBrZXkubmFtZS5zcGxpdCgnXycpO1xuICAgICAgICAgICAgcmV0dXJuIHV1aWRQYXJ0ID09PSB1dWlkRnJvbVZDO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFtYXRjaGluZ0tleVBhaXJGaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hdGNoaW5nIGtleSBwYWlyIGZvdW5kIGZvciB0aGUgVmVyaWZpYWJsZSBDcmVkZW50aWFsIElELicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiB0aGUga2V5IHBhaXIgY29udGVudFxuICAgICAgICBjb25zdCBrZXkgPSBtYXRjaGluZ0tleVBhaXJGaWxlLmNvbnRlbnQ7XG4gICAgICAgIHRoaXMua2V5UGFpciA9IGtleTtcbiAgICAgICAgcmV0dXJuIGtleTtcbiAgICB9XG4gICAgZ2VuZXJhdGVLZXlQYWlyID0gYXN5bmMgKGFkZHJlc3MpID0+IHtcbiAgICAgICAgY29uc3Qga2V5UGFpciA9IGF3YWl0IEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwLmdlbmVyYXRlKCk7XG4gICAgICAgIGNvbnN0IGEgPSBhZGRyZXNzIHx8IGtleVBhaXIucHVibGljS2V5TXVsdGliYXNlO1xuICAgICAgICBrZXlQYWlyLmNvbnRyb2xsZXIgPSBgZGlkOmtleToke2F9YDtcbiAgICAgICAga2V5UGFpci5pZCA9IGAke2tleVBhaXIuY29udHJvbGxlcn0jJHthfWA7XG4gICAgICAgIGtleVBhaXIucmV2b2tlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4ga2V5UGFpcjtcbiAgICB9O1xuICAgIGFzeW5jIHZlcmlmeUNyZWRzKGNyZWRzKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGNyZWRzLm1hcCgoY3JlZCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy52ZXJpZnlDcmVkZW50aWFsKGNyZWQpO1xuICAgICAgICAgICAgaWYgKCFyZXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgRElEIHdpdGggRGlnaXRhbCBCYXphYXIncyBFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMCBrZXkgcGFpci5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx7ZGlkRG9jdW1lbnQ6IG9iamVjdCwga2V5UGFpcjogb2JqZWN0fT59IFRoZSBjcmVhdGVkIERJRCBkb2N1bWVudCBhbmQga2V5IHBhaXIuXG4gICAgICogQHRocm93cyBXaWxsIHRocm93IGFuIGVycm9yIGlmIERJRCBjcmVhdGlvbiBmYWlscy5cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVESUQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXlQYWlyID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUtleVBhaXIoKTtcbiAgICAgICAgICAgIC8vIGNvbnN0IGtleUZpbGUgPSBhd2FpdCBzYXZlVG9Hb29nbGVEcml2ZSh7XG4gICAgICAgICAgICAvLyBcdHN0b3JhZ2U6IHRoaXMuc3RvcmFnZSxcbiAgICAgICAgICAgIC8vIFx0ZGF0YToga2V5UGFpcixcbiAgICAgICAgICAgIC8vIFx0dHlwZTogJ0tFWVBBSVInLFxuICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICBjb25zdCBkaWREb2N1bWVudCA9IGF3YWl0IGdlbmVyYXRlRElEU2NoZW1hKGtleVBhaXIpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGlkRG9jdW1lbnQsIGtleVBhaXIgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIERJRDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmaW5kS2V5c0FuZERJRHMoKSB7XG4gICAgICAgIGNvbnN0IGtleVBhaXJzID0gKGF3YWl0IHRoaXMuc3RvcmFnZS5nZXRBbGxGaWxlc0J5VHlwZSgnS0VZUEFJUnMnKSk7XG4gICAgICAgIGNvbnN0IERJRHMgPSAoYXdhaXQgdGhpcy5zdG9yYWdlLmdldEFsbEZpbGVzQnlUeXBlKCdESURzJykpO1xuICAgICAgICBpZiAoRElEcy5sZW5ndGggPT09IDAgfHwga2V5UGFpcnMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGtleVBhaXIgPSBrZXlQYWlyc1swXS5kYXRhO1xuICAgICAgICBjb25zdCBkaWREb2N1bWVudCA9IERJRHNbMF0uZGF0YS5kaWREb2N1bWVudDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpZERvY3VtZW50LFxuICAgICAgICAgICAga2V5UGFpcixcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IERJRCB3aXRoIHVzZXIgbWV0YW1hc2sgYWRkcmVzcyBhcyBjb250cm9sbGVyXG4gICAgICogQHBhcmFtIHdhbGxldHJBZGRyZXNzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8e2RpZERvY3VtZW50OiBvYmplY3QsIGtleVBhaXI6IG9iamVjdH0+fSBUaGUgY3JlYXRlZCBESUQgZG9jdW1lbnQgYW5kIGtleSBwYWlyLlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiBESUQgY3JlYXRpb24gZmFpbHMuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlV2FsbGV0RElEKHdhbGxldHJBZGRyZXNzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXlQYWlyID0gYXdhaXQgdGhpcy5nZW5lcmF0ZUtleVBhaXIod2FsbGV0ckFkZHJlc3MpO1xuICAgICAgICAgICAgY29uc3Qga2V5RmlsZSA9IGF3YWl0IHNhdmVUb0dvb2dsZURyaXZlKHtcbiAgICAgICAgICAgICAgICBzdG9yYWdlOiB0aGlzLnN0b3JhZ2UsXG4gICAgICAgICAgICAgICAgZGF0YToga2V5UGFpcixcbiAgICAgICAgICAgICAgICB0eXBlOiAnS0VZUEFJUicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIH4gQ3JlZGVudGlhbEVuZ2luZSB+IGNyZWF0ZVdhbGxldERJRCB+IGtleUZpbGU6Jywga2V5RmlsZSk7XG4gICAgICAgICAgICBjb25zdCBkaWREb2N1bWVudCA9IGF3YWl0IGdlbmVyYXRlRElEU2NoZW1hKGtleVBhaXIpO1xuICAgICAgICAgICAgcmV0dXJuIHsgZGlkRG9jdW1lbnQsIGtleVBhaXIgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIERJRDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaWduIGEgVmVyaWZpYWJsZSBDcmVkZW50aWFsIChWQylcbiAgICAgKiBAcGFyYW0geydWQycgfCAnUkVDT01NRU5EQVRJT04nfSB0eXBlIC0gVGhlIHNpZ25hdHVyZSB0eXBlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpc3N1ZXJJZCAtIFRoZSBJRCBvZiB0aGUgaXNzdWVyIFtjdXJyZW50bHkgd2UgcHV0IGl0IGFzIHRoZSBkaWQgaWRdXG4gICAgICogQHBhcmFtIHtLZXlQYWlyfSBrZXlQYWlyIC0gVGhlIGtleSBwYWlyIHRvIHVzZSBmb3Igc2lnbmluZy5cbiAgICAgKiBAcGFyYW0ge0Zvcm1EYXRhSSB8IFJlY29tbWVuZGF0aW9uRm9ybURhdGFJfSBmb3JtRGF0YSAtIFRoZSBmb3JtIGRhdGEgdG8gaW5jbHVkZSBpbiB0aGUgVkMuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFZDSWQgLSBUaGUgSUQgb2YgdGhlIGNyZWRlbnRpYWwgd2hlbiB0aGUgdHlwZSBpcyBSRUNPTU1FTkRBVElPTlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENyZWRlbnRpYWw+fSBUaGUgc2lnbmVkIFZDLlxuICAgICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiBWQyBzaWduaW5nIGZhaWxzLlxuICAgICAqL1xuICAgIGFzeW5jIHNpZ25WQyh7IGRhdGEsIHR5cGUsIGtleVBhaXIsIGlzc3VlcklkLCB2Y0ZpbGVJZCB9KSB7XG4gICAgICAgIGxldCBjcmVkZW50aWFsID0gZ2VuZXJhdGVVbnNpZ25lZFZDKHsgZm9ybURhdGE6IGRhdGEsIGlzc3VlckRpZDogaXNzdWVySWQgfSk7XG4gICAgICAgIGlmICh0eXBlID09ICdSRUNPTU1FTkRBVElPTicgJiYgdmNGaWxlSWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdXT1cnKTtcbiAgICAgICAgICAgIGNyZWRlbnRpYWwgPSBnZW5lcmF0ZVVuc2lnbmVkUmVjb21tZW5kYXRpb24oe1xuICAgICAgICAgICAgICAgIHZjSWQ6IHZjRmlsZUlkLFxuICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uOiBkYXRhLFxuICAgICAgICAgICAgICAgIGlzc3VlckRpZDogaXNzdWVySWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgfiBDcmVkZW50aWFsRW5naW5lIH4gc2lnblZDIH4gY3JlZGVudGlhbDonLCBjcmVkZW50aWFsKTtcbiAgICAgICAgICAgIGlmICghY3JlZGVudGlhbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY3JlZGVudGlhbCB0eXBlJyk7XG4gICAgICAgICAgICBjb25zdCBzdWl0ZSA9IG5ldyBFZDI1NTE5U2lnbmF0dXJlMjAyMCh7IGtleToga2V5UGFpciwgdmVyaWZpY2F0aW9uTWV0aG9kOiBrZXlQYWlyLmlkIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2JlZm9yZScpO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmVkVkMgPSBhd2FpdCBkYlZjLmlzc3VlKHsgY3JlZGVudGlhbCwgc3VpdGUsIGRvY3VtZW50TG9hZGVyOiBjdXN0b21Eb2N1bWVudExvYWRlciB9KTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWRWQztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgVkM6JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZ5IGEgVmVyaWZpYWJsZSBDcmVkZW50aWFsIChWQylcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY3JlZGVudGlhbCAtIFRoZSBWZXJpZmlhYmxlIENyZWRlbnRpYWwgdG8gdmVyaWZ5LlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGJvb2xlYW4+fSBUaGUgdmVyaWZpY2F0aW9uIHJlc3VsdC5cbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgVkMgdmVyaWZpY2F0aW9uIGZhaWxzLlxuICAgICAqL1xuICAgIGFzeW5jIHZlcmlmeUNyZWRlbnRpYWwoY3JlZGVudGlhbCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5UGFpciA9IGF3YWl0IGV4dHJhY3RLZXlQYWlyRnJvbUNyZWRlbnRpYWwoY3JlZGVudGlhbCk7XG4gICAgICAgICAgICBjb25zdCBzdWl0ZSA9IG5ldyBFZDI1NTE5U2lnbmF0dXJlMjAyMCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlQYWlyLFxuICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbk1ldGhvZDoga2V5UGFpci5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGJWYy52ZXJpZnlDcmVkZW50aWFsKHtcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgIHN1aXRlLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50TG9hZGVyOiBjdXN0b21Eb2N1bWVudExvYWRlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVmVyaWZpY2F0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWZXJpZmlhYmxlIFByZXNlbnRhdGlvbiAoVlApXG4gICAgICogQHBhcmFtIHZlcmlmaWFibGVDcmVkZW50aWFsXG4gICAgICogQHJldHVybnNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVQcmVzZW50YXRpb24odmVyaWZpYWJsZUNyZWRlbnRpYWwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMudmVyaWZ5Q3JlZHModmVyaWZpYWJsZUNyZWRlbnRpYWwpO1xuICAgICAgICAgICAgaWYgKCFyZXMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTb21lIGNyZWRlbnRpYWxzIGZhaWxlZCB2ZXJpZmljYXRpb24nKTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gYHVybjp1dWlkOiR7dXVpZHY0KCl9YDtcbiAgICAgICAgICAgIGNvbnN0IGtleVBhaXIgPSBhd2FpdCB0aGlzLmdldEtleVBhaXIodmVyaWZpYWJsZUNyZWRlbnRpYWxbMF0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgfiBDcmVkZW50aWFsRW5naW5lIH4gY3JlYXRlUHJlc2VudGF0aW9uIH4ga2V5UGFpcjonLCBrZXlQYWlyKTtcbiAgICAgICAgICAgIGNvbnN0IFZQID0gYXdhaXQgZGJWYy5jcmVhdGVQcmVzZW50YXRpb24oeyB2ZXJpZmlhYmxlQ3JlZGVudGlhbCwgaWQsIGhvbGRlcjoga2V5UGFpci5jb250cm9sbGVyIH0pO1xuICAgICAgICAgICAgcmV0dXJuIFZQO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcHJlc2VudGF0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ24gYSBWZXJpZmlhYmxlIFByZXNlbnRhdGlvbiAoVlApXG4gICAgICogQHBhcmFtIHByZXNlbnRhdGlvblxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgc2lnblByZXNlbnRhdGlvbihwcmVzZW50YXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdyYXAgdGhlIGtleVBhaXIgaW50byBhbiBFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMCB0aGF0IGluY2x1ZGVzIHRoZSBzaWduZXIgbWV0aG9kXG4gICAgICAgICAgICBjb25zdCBzaWduaW5nS2V5ID0gbmV3IEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5rZXlQYWlyLmlkLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IHRoaXMua2V5UGFpci5jb250cm9sbGVyLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMua2V5UGFpci50eXBlLFxuICAgICAgICAgICAgICAgIHB1YmxpY0tleU11bHRpYmFzZTogdGhpcy5rZXlQYWlyLnB1YmxpY0tleU11bHRpYmFzZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlS2V5TXVsdGliYXNlOiB0aGlzLmtleVBhaXIucHJpdmF0ZUtleU11bHRpYmFzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBFZDI1NTE5U2lnbmF0dXJlMjAyMCBzdWl0ZSB3aXRoIHRoZSB3cmFwcGVkIGtleSB0aGF0IGluY2x1ZGVzIHRoZSBzaWduZXJcbiAgICAgICAgICAgIGNvbnN0IHN1aXRlID0gbmV3IEVkMjU1MTlTaWduYXR1cmUyMDIwKHtcbiAgICAgICAgICAgICAgICBrZXk6IHNpZ25pbmdLZXksXG4gICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uTWV0aG9kOiB0aGlzLmtleVBhaXIuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFNpZ24gdGhlIHByZXNlbnRhdGlvblxuICAgICAgICAgICAgY29uc3Qgc2lnbmVkVlAgPSBhd2FpdCBkYlZjLnNpZ25QcmVzZW50YXRpb24oe1xuICAgICAgICAgICAgICAgIHByZXNlbnRhdGlvbixcbiAgICAgICAgICAgICAgICBzdWl0ZSxcbiAgICAgICAgICAgICAgICBkb2N1bWVudExvYWRlcjogY3VzdG9tRG9jdW1lbnRMb2FkZXIsXG4gICAgICAgICAgICAgICAgY2hhbGxlbmdlOiAnJywgLy8gUHJvdmlkZSB0aGUgY2hhbGxlbmdlIGlmIHJlcXVpcmVkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzaWduZWRWUDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNpZ25pbmcgcHJlc2VudGF0aW9uOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/models/CredentialEngine.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/models/GoogleDriveStorage.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/models/GoogleDriveStorage.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GoogleDriveStorage: () => (/* binding */ GoogleDriveStorage)\n/* harmony export */ });\n/**\n * @class GoogleDriveStorage\n * @description Class to interact with Google Drive API\n * @param accessToken - Access token to authenticate with Google Drive API\n * @method createFolder - Create a new folder in Google Drive\n * @method save - Save data to Google Drive\n * @method addCommentToFile - Add a comment to a file in Google Drive\n * @method addCommenterRoleToFile - Add commenter role to a file in Google Drive\n * @method retrieve - Retrieve a file from Google Drive\n * @method findFolders - Find folders in Google Drive\n * @method findLastFile - Find the last file in a folder\n * @method getAllVCs - Get all verifiable credentials from Google Drive\n * @method getAllSessions - Get all sessions from Google Drive\n * @method delete - Delete a file from Google Drive\n */\nclass GoogleDriveStorage {\n    accessToken;\n    folderCache = {};\n    fileIdsCache = null;\n    async updateFileIdsJson(newFileId) {\n        const constructUrl = () => {\n            const baseUrl = 'https://www.googleapis.com/drive/v3/files';\n            const queryParams = new URLSearchParams({\n                spaces: 'appDataFolder',\n                q: \"name='file_ids.json'\",\n                fields: 'files(id)',\n            });\n            return `${baseUrl}?${queryParams.toString()}`;\n        };\n        try {\n            // ✅ Fetch `file_ids.json` ID once per session (cached)\n            if (!this.fileIdsCache) {\n                const existingFile = await this.fetcher({\n                    method: 'GET',\n                    headers: {},\n                    url: constructUrl(),\n                });\n                if (existingFile.files.length > 0) {\n                    this.fileIdsCache = existingFile.files[0].id;\n                }\n                else {\n                    console.log('No existing file_ids.json found, creating a new one.');\n                    this.fileIdsCache = null;\n                }\n            }\n            let existingFileIds = [];\n            // ✅ Fetch existing file IDs **only if `file_ids.json` exists**\n            if (this.fileIdsCache) {\n                try {\n                    const fileContent = await this.fetcher({\n                        method: 'GET',\n                        headers: {},\n                        url: `https://www.googleapis.com/drive/v3/files/${this.fileIdsCache}?alt=media`,\n                    });\n                    existingFileIds = fileContent;\n                }\n                catch (error) {\n                    console.log('Error fetching existing file_ids.json content, creating new list.');\n                }\n            }\n            // ✅ Append the new file ID to the list\n            existingFileIds.push(newFileId);\n            console.log('File ID saved to appDataFolder.', this.fileIdsCache);\n        }\n        catch (error) {\n            console.error('Error updating file_ids.json:', error.message);\n            throw error;\n        }\n    }\n    constructor(accessToken) {\n        this.accessToken = accessToken;\n    }\n    async fetcher({ method, headers, body, url }) {\n        try {\n            const res = await fetch(url, {\n                method,\n                headers: {\n                    Authorization: `Bearer ${this.accessToken}`,\n                    ...headers,\n                },\n                body,\n            });\n            const contentType = res.headers.get('Content-Type') || '';\n            let data;\n            if (contentType.includes('application/json')) {\n                data = await res.json();\n            }\n            else {\n                const text = await res.text();\n                console.error('Unexpected Response Type:', text);\n                throw new Error(`Expected JSON response but got: ${contentType}`);\n            }\n            if (!res.ok) {\n                console.error('Error Response:', JSON.stringify(data));\n                throw new Error(data?.error?.message || 'Unknown error occurred');\n            }\n            return data;\n        }\n        catch (error) {\n            console.error('Error fetching data:', error.message || error);\n            throw error;\n        }\n    }\n    async getFileContent(fileId) {\n        const url = `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`;\n        try {\n            const response = await this.fetcher({ method: 'GET', headers: {}, url });\n            return response;\n        }\n        catch (error) {\n            console.error(`Error fetching content for file ID: ${fileId}:`, error.message);\n            throw new Error(`Failed to fetch content for file ID: ${fileId}`);\n        }\n    }\n    async searchFiles(query) {\n        const result = await this.fetcher({\n            method: 'GET',\n            headers: {},\n            url: `https://www.googleapis.com/drive/v3/files?q=${encodeURIComponent(query)}&trashed=false&fields=files(id,name,mimeType,parents)`,\n        });\n        return result.files || [];\n    }\n    async createFolder({ folderName, parentFolderId }) {\n        if (!parentFolderId) {\n            throw new Error(`Parent folder ID must be provided when creating folder \"${folderName}\".`);\n        }\n        const metadata = {\n            name: folderName,\n            mimeType: 'application/vnd.google-apps.folder',\n            parents: [parentFolderId],\n        };\n        const folder = await this.fetcher({\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(metadata),\n            url: 'https://www.googleapis.com/drive/v3/files',\n        });\n        console.log(`Folder created: \"${folderName}\" with ID: ${folder.id}, Parent: ${parentFolderId}`);\n        await this.fetcher({\n            method: 'POST',\n            url: `https://www.googleapis.com/drive/v3/files/${folder.id}/permissions`,\n            headers: {},\n            body: JSON.stringify({ role: 'reader', type: 'anyone' }),\n        });\n        return folder;\n    }\n    async getMediaFolderId() {\n        if (this.folderCache['MEDIAs']) {\n            return this.folderCache['MEDIAs'];\n        }\n        const rootFolders = await this.findFolders();\n        let credentialsFolder = rootFolders.find((f) => f.name === 'Credentials');\n        if (!credentialsFolder) {\n            credentialsFolder = await this.createFolder({ folderName: 'Credentials', parentFolderId: 'root' });\n        }\n        const credentialsFolderId = credentialsFolder.id;\n        const subfolders = await this.findFolders(credentialsFolder.id);\n        let mediasFolder = subfolders.find((f) => f.name === 'MEDIAs');\n        if (!mediasFolder) {\n            mediasFolder = await this.createFolder({ folderName: 'MEDIAs', parentFolderId: credentialsFolderId });\n        }\n        const mediasFolderId = mediasFolder.id;\n        this.folderCache['MEDIAs'] = mediasFolderId;\n        return mediasFolderId;\n    }\n    async uploadBinaryFile({ file }) {\n        try {\n            const accessToken = this.accessToken; // Ensure access token is available\n            if (!accessToken) {\n                throw new Error('Missing Google OAuth access token.');\n            }\n            const folderId = await this.getMediaFolderId(); // Ensure folderId is correct\n            // ✅ Correct metadata for Google Drive API\n            const metadata = {\n                name: file.name,\n                mimeType: file.type,\n                parents: [folderId], // Store in the correct folder\n            };\n            // ✅ Create FormData for multipart upload\n            const formData = new FormData();\n            formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\n            formData.append('file', file);\n            // ✅ Correct Google Drive Upload URL\n            const url = `https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,parents`;\n            const response = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    Authorization: `Bearer ${accessToken}`, // ✅ Include valid OAuth token\n                },\n                body: formData,\n            });\n            const data = await response.json();\n            if (!response.ok) {\n                throw new Error(`Google Drive Upload Error: ${data.error?.message || 'Unknown error'}`);\n            }\n            console.log('✅ File uploaded successfully:', data);\n            return data; // Returns the uploaded file ID and parents\n        }\n        catch (error) {\n            console.error('❌ Error uploading file to Google Drive:', error);\n            throw error;\n        }\n    }\n    async saveFile({ data, folderId }) {\n        console.log('🚀 ~ GoogleDriveStorage ~ saveFile ~ data:', data);\n        try {\n            if (!folderId) {\n                throw new Error('Folder ID is required to save a file.');\n            }\n            const fileMetadata = {\n                name: data.fileName || data.name + '.json' || 0 || 0,\n                parents: [folderId],\n                mimeType: data.mimeType || 'application/json',\n            };\n            const fileBlob = new Blob([JSON.stringify(data)], { type: 'application/json' });\n            const formData = new FormData();\n            formData.append('metadata', new Blob([JSON.stringify(fileMetadata)], { type: 'application/json' }));\n            formData.append('file', fileBlob);\n            const file = await this.fetcher({\n                method: 'POST',\n                headers: {},\n                body: formData,\n                url: `https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,parents`,\n            });\n            // Set public read permissions\n            await this.fetcher({\n                method: 'POST',\n                url: `https://www.googleapis.com/drive/v3/files/${file.id}/permissions`,\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    role: 'reader',\n                    type: 'anyone',\n                }),\n            });\n            console.log(`File uploaded successfully: ${file.id}`);\n            return file;\n        }\n        catch (error) {\n            console.error('Error in saveFile:', error);\n            throw error;\n        }\n    }\n    /**\n     * Get file from google drive by id\n     * @param id\n     * @returns file content\n     */\n    async retrieve(id) {\n        const dataUrl = `https://www.googleapis.com/drive/v3/files/${id}?alt=media`;\n        try {\n            const dataResponse = await fetch(dataUrl, {\n                method: 'GET',\n                headers: {\n                    Authorization: `Bearer ${this.accessToken}`,\n                },\n            });\n            if (!dataResponse.ok) {\n                const errorData = await dataResponse.json();\n                console.error(`Failed to retrieve file data for ID ${id}:`, errorData);\n                return null;\n            }\n            const contentType = dataResponse.headers.get('Content-Type');\n            let fileData;\n            if (contentType?.includes('application/json')) {\n                fileData = await dataResponse.json();\n            }\n            else if (contentType?.includes('image') ||\n                contentType?.includes('video') ||\n                contentType?.includes('audio') ||\n                contentType?.includes('application/octet-stream') ||\n                contentType?.includes('application/pdf') ||\n                contentType?.includes('application/msword') ||\n                contentType?.includes('application/vnd.openxmlformats-officedocument.wordprocessingml.document') ||\n                contentType?.includes('application/vnd.ms-excel') ||\n                contentType?.includes('application/vnd.openxmlformats-officedocument.spreadsheetml.sheet')) {\n                fileData = await dataResponse.blob();\n            }\n            else {\n                fileData = await dataResponse.arrayBuffer();\n            }\n            return { data: fileData, id: id };\n        }\n        catch (error) {\n            console.error(`Error retrieving file with ID ${id}:`, error.message);\n            return null;\n        }\n    }\n    /**\n     * Get folder by folderId, if folderId == null you will have them all\n     * @param folderId [Optional]\n     * @returns\n     */\n    async findFolders(folderId) {\n        const cacheKey = folderId || 'root';\n        if (this.folderCache[cacheKey]) {\n            return this.folderCache[cacheKey];\n        }\n        const query = folderId\n            ? `'${folderId}' in parents and mimeType='application/vnd.google-apps.folder'`\n            : `'root' in parents and mimeType='application/vnd.google-apps.folder'`;\n        const folders = await this.searchFiles(query);\n        this.folderCache[cacheKey] = folders;\n        return folders;\n    }\n    /**\n     * Get all files content for the specified type ('KEYPAIRs' | 'VCs' | 'SESSIONs' | 'DIDs' | 'RECOMMENDATIONs')\n     * @param type\n     * @returns\n     */\n    async getAllFilesByType(type) {\n        try {\n            if (!this.folderCache['Credentials']) {\n                const rootFolders = await this.findFolders();\n                this.folderCache['Credentials'] = rootFolders;\n            }\n            const credentialsFolder = this.folderCache['Credentials'].find((f) => f.name === 'Credentials');\n            if (!credentialsFolder) {\n                console.error('Credentials folder not found.');\n                return [];\n            }\n            if (type === 'VCs') {\n                if (!this.folderCache['VCs']) {\n                    const vcSubfolder = await this.findFolders(credentialsFolder.id);\n                    const vcsFolder = vcSubfolder.find((f) => f.name === 'VCs');\n                    const vcSubFolders = await this.findFolders(vcsFolder.id);\n                    this.folderCache['VCs'] = vcSubFolders.filter((folder) => folder.name.startsWith('VC-'));\n                }\n                const vcSubfolders = this.folderCache['VCs'];\n                if (!vcSubfolders.length) {\n                    console.error(`No subfolders found for type: ${type}`);\n                    return [];\n                }\n                const allFilesNested = await Promise.all(vcSubfolders.map(async (folder) => await this.findFilesUnderFolder(folder.id)));\n                const allVcJsonFiles = allFilesNested.flat().filter((file) => file.mimeType === 'application/json');\n                const fileContentsResults = await Promise.allSettled(allVcJsonFiles.map((file) => this.retrieve(file.id)));\n                const validFileContents = fileContentsResults.filter((result) => result.status === 'fulfilled').map((result) => result.value);\n                return validFileContents.filter((file) => file.data.fileName !== 'RELATIONS');\n            }\n            if (!this.folderCache[type]) {\n                const subfolders = await this.findFolders(credentialsFolder.id);\n                const targetFolder = subfolders.find((f) => f.name === type);\n                this.folderCache[type] = targetFolder ? targetFolder.id : null;\n            }\n            const targetFolderId = this.folderCache[type];\n            if (!targetFolderId) {\n                console.error(`Folder for type ${type} not found.`);\n                return [];\n            }\n            const filesResponse = await this.fetcher({\n                method: 'GET',\n                headers: {},\n                url: `https://www.googleapis.com/drive/v3/files?q='${targetFolderId}' in parents and trashed=false&fields=files(id,name,mimeType)`,\n            });\n            const files = filesResponse.files || [];\n            const fileContents = await Promise.allSettled(files.map((file) => this.retrieve(file.id)));\n            console.log('🚀 ~ GoogleDriveStorage ~ getAllFilesByType ~ fileContents:', fileContents);\n            return fileContents.filter((res) => res.status === 'fulfilled').map((res) => res.value);\n        }\n        catch (error) {\n            console.error(`Error getting files of type ${type}:`, error);\n            return [];\n        }\n    }\n    /**\n     * Update the name of a file in Google Drive\n     * @param fileId - The ID of the file to update\n     * @param newFileName - The new name for the file\n     * @returns The updated file metadata, including the new name\n     */\n    async updateFileName(fileId, newFileName) {\n        try {\n            const metadata = { name: newFileName };\n            const updatedFile = await this.fetcher({\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(metadata),\n                url: `https://www.googleapis.com/drive/v3/files/${fileId}`,\n            });\n            console.log('File name updated successfully:', updatedFile.name);\n            return updatedFile;\n        }\n        catch (error) {\n            console.error('Error updating file name:', error.message);\n            throw error;\n        }\n    }\n    async findFileByName(name) {\n        const rootFolders = await this.findFolders();\n        const credentialsFolderId = rootFolders.find((f) => f.name === 'Credentials')?.id;\n        if (!credentialsFolderId)\n            throw new Error('Credentials folder not found');\n        const files = await this.searchFiles(`'${credentialsFolderId}' in parents and name='${name}'`);\n        return files[0];\n    }\n    async findFilesUnderFolder(folderId) {\n        if (!folderId)\n            throw new Error('Folder ID is required');\n        const files = await this.searchFiles(`'${folderId}' in parents`);\n        if (files.length === 0) {\n            console.log('No files found in the folder.');\n            return [];\n        }\n        const filesWithContent = await Promise.all(files.map(async (file) => {\n            try {\n                const content = await this.getFileContent(file.id);\n                return { ...file, content };\n            }\n            catch (error) {\n                console.error(`Error fetching content for file \"${file.name}\" (ID: ${file.id}):`, error);\n                return { ...file, content: null };\n            }\n        }));\n        return filesWithContent;\n    }\n    async updateFileData(fileId, data) {\n        try {\n            const updateUrl = `https://www.googleapis.com/drive/v3/files/${fileId}`;\n            const updatedFile = await this.fetcher({\n                method: 'PATCH',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({ name: data.fileName }),\n                url: updateUrl,\n            });\n            console.log('✅ File renamed successfully:', updatedFile);\n            return updatedFile;\n        }\n        catch (error) {\n            throw error;\n        }\n    }\n    async getFileParents(fileId) {\n        const file = await this.fetcher({\n            method: 'GET',\n            headers: {},\n            url: `https://www.googleapis.com/drive/v3/files/${fileId}?fields=parents`,\n        });\n        console.log('FILE: ', file);\n        return file.parents;\n    }\n    async updateRelationsFile({ relationsFileId, recommendationFileId }) {\n        const relationsFileContent = await this.retrieve(relationsFileId);\n        const relationsData = relationsFileContent.data.body ? JSON.parse(relationsFileContent.data.body) : relationsFileContent.data;\n        relationsData.recommendations.push(recommendationFileId);\n        const updatedContent = JSON.stringify(relationsData);\n        const updateResponse = await this.fetcher({\n            method: 'PATCH',\n            headers: { 'Content-Type': 'application/json' },\n            body: updatedContent,\n            url: `https://www.googleapis.com/upload/drive/v3/files/${relationsFileId}?uploadType=media`,\n        });\n        this.updateFileIdsJson(relationsFileId);\n        return updateResponse;\n    }\n    async createRelationsFile({ vcFolderId }) {\n        const files = await this.findFilesUnderFolder(vcFolderId);\n        const vcFile = files.find((file) => file.name === 'VC');\n        const vcContent = await this.getFileContent(vcFile.id);\n        console.log('🚀 ~ GoogleDriveStorage ~ createRelationsFile ~ vcContent:', vcContent);\n        const subject = JSON.parse(vcContent.body).credentialSubject;\n        console.log('🚀 ~ GoogleDriveStorage ~ createRelationsFile ~ subject:', subject);\n        const relationsFile = await this.saveFile({\n            data: {\n                fileName: 'RELATIONS',\n                mimeType: 'application/json',\n                body: JSON.stringify({\n                    vc: {\n                        fileId: vcContent.id,\n                        subject,\n                    },\n                    recommendations: [],\n                }),\n            },\n            folderId: vcFolderId,\n        });\n        await this.updateFileIdsJson(relationsFile.id);\n        return relationsFile;\n    }\n    async updateResumeRelation({ authorFolderId, draftFileId, signedFileId, }) {\n        try {\n            const relationFileName = 'relations.json';\n            // Step 1: Check if `relations.json` exists in RESUMES_AUTHOR/\n            const existingRelationFiles = await this.searchFiles(`name='${relationFileName}' and '${authorFolderId}' in parents`);\n            let relationFileId = null;\n            let existingRelations = {};\n            if (existingRelationFiles.length > 0) {\n                relationFileId = existingRelationFiles[0].id;\n                existingRelations = await this.getFileContent(relationFileId);\n            }\n            else {\n                console.log('relations.json does not exist. Will create a new one.');\n            }\n            // Step 2: Update relations object\n            existingRelations[draftFileId] = signedFileId;\n            // Step 3: Create or update the file on Drive\n            const fileBlob = new Blob([JSON.stringify(existingRelations, null, 2)], {\n                type: 'application/json',\n            });\n            const formData = new FormData();\n            const metadata = {\n                name: relationFileName,\n                parents: [authorFolderId],\n                mimeType: 'application/json',\n            };\n            formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\n            formData.append('file', fileBlob);\n            let uploadedFile;\n            if (relationFileId) {\n                // Update existing file\n                uploadedFile = await this.fetcher({\n                    method: 'PATCH',\n                    headers: {},\n                    body: formData,\n                    url: `https://www.googleapis.com/upload/drive/v3/files/${relationFileId}?uploadType=multipart&fields=id,parents`,\n                });\n            }\n            else {\n                // Create new file\n                uploadedFile = await this.fetcher({\n                    method: 'POST',\n                    headers: {},\n                    body: formData,\n                    url: `https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,parents`,\n                });\n            }\n            console.log(`✅ Resume relation updated. File ID: ${uploadedFile.id}`);\n            return uploadedFile;\n        }\n        catch (error) {\n            console.error('❌ Failed to update resume relation:', error);\n            throw error;\n        }\n    }\n    /**\n     * Delete file by id\n     * @param id\n     * @returns\n     */\n    async delete(id) {\n        try {\n            const response = await this.fetcher({\n                method: 'DELETE',\n                headers: {},\n                url: `https://www.googleapis.com/drive/v3/files/${id}`,\n            });\n            console.log('File deleted:', response);\n            return response;\n        }\n        catch (error) {\n            console.error('Error deleting file:', error);\n            return null;\n        }\n    }\n    async update(fileId, data) {\n        const metadata = {\n            name: data.fileName || 'resume.json',\n            mimeType: 'application/json',\n        };\n        const uploadUrl = `https://www.googleapis.com/upload/drive/v3/files/${fileId}?uploadType=multipart`;\n        const formData = new FormData();\n        formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\n        formData.append('file', new Blob([JSON.stringify(data.body)], { type: 'application/json' }));\n        try {\n            const response = await this.fetcher({\n                method: 'PATCH',\n                headers: {},\n                body: formData,\n                url: `${uploadUrl}&fields=id,name,mimeType`,\n            });\n            console.log('✅ File updated successfully:', response);\n            return response;\n        }\n        catch (error) {\n            console.error('❌ Error updating Google Drive file:', error);\n            throw error;\n        }\n    }\n    async getFileIdsFromAppDataFolder() {\n        try {\n            const constructUrl = () => {\n                const baseUrl = 'https://www.googleapis.com/drive/v3/files';\n                const queryParams = new URLSearchParams({\n                    spaces: 'appDataFolder',\n                    q: \"name='file_ids.json'\",\n                    fields: 'files(id)',\n                });\n                return `${baseUrl}?${queryParams.toString()}`;\n            };\n            // Step 1: Search for the file_ids.json file in the appDataFolder\n            const response = await this.fetcher({\n                method: 'GET',\n                headers: {},\n                url: constructUrl(),\n            });\n            console.log(':  GoogleDriveStorage  getFileIdsFromAppDataFolder  response', response);\n            // Step 2: Check if the file exists\n            if (!response.files || response.files.length === 0) {\n                console.log('No file_ids.json found in appDataFolder.');\n                return [];\n            }\n            // Step 3: Get the file ID of file_ids.json\n            const fileId = response.files[0].id;\n            console.log(':  GoogleDriveStorage  getFileIdsFromAppDataFolder  fileId', fileId);\n            // Step 4: Fetch the content of file_ids.json\n            const fileContent = await this.fetcher({\n                method: 'GET',\n                headers: {},\n                url: `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`,\n            });\n            console.log(':  GoogleDriveStorage  getFileIdsFromAppDataFolder  fileContent', fileContent);\n            // Step 5: Parse the file content (array of file IDs)\n            const fileIds = fileContent;\n            console.log(':  GoogleDriveStorage  getFileIdsFromAppDataFolder  fileIds', fileIds);\n            return fileIds;\n        }\n        catch (error) {\n            console.error('Error fetching file IDs from appDataFolder:', error.message);\n            return [];\n        }\n    }\n    async getAllFilesData() {\n        try {\n            // Step 1: Get the file IDs from appDataFolder\n            const fileIds = await this.getFileIdsFromAppDataFolder();\n            if (fileIds.length === 0) {\n                console.log('No files found.');\n                return [];\n            }\n            // Step 2: Return the array of file IDs\n            return fileIds;\n        }\n        catch (error) {\n            console.error('Error fetching all files data:', error.message);\n            return [];\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9tb2RlbHMvR29vZ2xlRHJpdmVTdG9yYWdlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNCQUFzQixRQUFRLEdBQUcsdUJBQXVCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLDBFQUEwRSxrQkFBa0I7QUFDNUYscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsaUJBQWlCO0FBQzlEO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsWUFBWTtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxPQUFPO0FBQ3hFO0FBQ0Esa0RBQWtELDBCQUEwQixPQUFPO0FBQ25GO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxPQUFPO0FBQ3hFLG9FQUFvRSxPQUFPO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsZ0VBQWdFLDBCQUEwQjtBQUMxRixTQUFTO0FBQ1Q7QUFDQTtBQUNBLHlCQUF5Qiw0QkFBNEI7QUFDckQ7QUFDQSx1RkFBdUYsV0FBVztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9DQUFvQztBQUMzRDtBQUNBO0FBQ0EsU0FBUztBQUNULHdDQUF3QyxXQUFXLGFBQWEsVUFBVSxZQUFZLGVBQWU7QUFDckc7QUFDQTtBQUNBLDhEQUE4RCxVQUFVO0FBQ3hFLHVCQUF1QjtBQUN2QixtQ0FBbUMsZ0NBQWdDO0FBQ25FLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsbURBQW1EO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsMkRBQTJEO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsTUFBTTtBQUNuQztBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtFQUErRSwwQkFBMEI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFlBQVk7QUFDekQsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSw4REFBOEQsdUNBQXVDO0FBQ3JHO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGdCQUFnQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsQ0FBMEQsSUFBSSxDQUFvQjtBQUNoSjtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsMEJBQTBCO0FBQzFGO0FBQ0EsbUZBQW1GLDBCQUEwQjtBQUM3RztBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrRUFBa0UsUUFBUTtBQUMxRSwyQkFBMkIsb0NBQW9DO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsdURBQXVELFFBQVE7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsR0FBRztBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxpQkFBaUI7QUFDOUQsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EscUVBQXFFLEdBQUc7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSwyREFBMkQsR0FBRztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFNBQVM7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE1BQU07QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0IscUVBQXFFLGVBQWU7QUFDcEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxLQUFLO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBLDJCQUEyQixvQ0FBb0M7QUFDL0Q7QUFDQSxrRUFBa0UsT0FBTztBQUN6RSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsb0JBQW9CLHlCQUF5QixLQUFLO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsU0FBUztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0Esa0VBQWtFLFVBQVUsU0FBUyxRQUFRO0FBQzdGLHlCQUF5QjtBQUN6QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQSwyQkFBMkIsb0NBQW9DO0FBQy9ELHVDQUF1QyxxQkFBcUI7QUFDNUQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsOERBQThELE9BQU87QUFDckUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx1Q0FBdUM7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG9DQUFvQztBQUMzRDtBQUNBLHFFQUFxRSxnQkFBZ0I7QUFDckYsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyw0Q0FBNEM7QUFDN0U7QUFDQTtBQUNBO0FBQ0EsMEVBQTBFLGlCQUFpQixTQUFTLGVBQWU7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0UsMEJBQTBCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQjtBQUNBLDZFQUE2RSxlQUFlO0FBQzVGLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSwrREFBK0QsZ0JBQWdCO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCLGtFQUFrRSxHQUFHO0FBQ3JFLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSxPQUFPO0FBQ3JGO0FBQ0EsMkVBQTJFLDBCQUEwQjtBQUNyRyx3RUFBd0UsMEJBQTBCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQiwwQkFBMEIsUUFBUSxHQUFHLHVCQUF1QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0Isa0VBQWtFLE9BQU87QUFDekUsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvbW9kZWxzL0dvb2dsZURyaXZlU3RvcmFnZS5qcz8zNzQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGNsYXNzIEdvb2dsZURyaXZlU3RvcmFnZVxuICogQGRlc2NyaXB0aW9uIENsYXNzIHRvIGludGVyYWN0IHdpdGggR29vZ2xlIERyaXZlIEFQSVxuICogQHBhcmFtIGFjY2Vzc1Rva2VuIC0gQWNjZXNzIHRva2VuIHRvIGF1dGhlbnRpY2F0ZSB3aXRoIEdvb2dsZSBEcml2ZSBBUElcbiAqIEBtZXRob2QgY3JlYXRlRm9sZGVyIC0gQ3JlYXRlIGEgbmV3IGZvbGRlciBpbiBHb29nbGUgRHJpdmVcbiAqIEBtZXRob2Qgc2F2ZSAtIFNhdmUgZGF0YSB0byBHb29nbGUgRHJpdmVcbiAqIEBtZXRob2QgYWRkQ29tbWVudFRvRmlsZSAtIEFkZCBhIGNvbW1lbnQgdG8gYSBmaWxlIGluIEdvb2dsZSBEcml2ZVxuICogQG1ldGhvZCBhZGRDb21tZW50ZXJSb2xlVG9GaWxlIC0gQWRkIGNvbW1lbnRlciByb2xlIHRvIGEgZmlsZSBpbiBHb29nbGUgRHJpdmVcbiAqIEBtZXRob2QgcmV0cmlldmUgLSBSZXRyaWV2ZSBhIGZpbGUgZnJvbSBHb29nbGUgRHJpdmVcbiAqIEBtZXRob2QgZmluZEZvbGRlcnMgLSBGaW5kIGZvbGRlcnMgaW4gR29vZ2xlIERyaXZlXG4gKiBAbWV0aG9kIGZpbmRMYXN0RmlsZSAtIEZpbmQgdGhlIGxhc3QgZmlsZSBpbiBhIGZvbGRlclxuICogQG1ldGhvZCBnZXRBbGxWQ3MgLSBHZXQgYWxsIHZlcmlmaWFibGUgY3JlZGVudGlhbHMgZnJvbSBHb29nbGUgRHJpdmVcbiAqIEBtZXRob2QgZ2V0QWxsU2Vzc2lvbnMgLSBHZXQgYWxsIHNlc3Npb25zIGZyb20gR29vZ2xlIERyaXZlXG4gKiBAbWV0aG9kIGRlbGV0ZSAtIERlbGV0ZSBhIGZpbGUgZnJvbSBHb29nbGUgRHJpdmVcbiAqL1xuZXhwb3J0IGNsYXNzIEdvb2dsZURyaXZlU3RvcmFnZSB7XG4gICAgYWNjZXNzVG9rZW47XG4gICAgZm9sZGVyQ2FjaGUgPSB7fTtcbiAgICBmaWxlSWRzQ2FjaGUgPSBudWxsO1xuICAgIGFzeW5jIHVwZGF0ZUZpbGVJZHNKc29uKG5ld0ZpbGVJZCkge1xuICAgICAgICBjb25zdCBjb25zdHJ1Y3RVcmwgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzJztcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XG4gICAgICAgICAgICAgICAgc3BhY2VzOiAnYXBwRGF0YUZvbGRlcicsXG4gICAgICAgICAgICAgICAgcTogXCJuYW1lPSdmaWxlX2lkcy5qc29uJ1wiLFxuICAgICAgICAgICAgICAgIGZpZWxkczogJ2ZpbGVzKGlkKScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIOKchSBGZXRjaCBgZmlsZV9pZHMuanNvbmAgSUQgb25jZSBwZXIgc2Vzc2lvbiAoY2FjaGVkKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmZpbGVJZHNDYWNoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nRmlsZSA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnN0cnVjdFVybCgpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0ZpbGUuZmlsZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbGVJZHNDYWNoZSA9IGV4aXN0aW5nRmlsZS5maWxlc1swXS5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBleGlzdGluZyBmaWxlX2lkcy5qc29uIGZvdW5kLCBjcmVhdGluZyBhIG5ldyBvbmUuJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZUlkc0NhY2hlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZXhpc3RpbmdGaWxlSWRzID0gW107XG4gICAgICAgICAgICAvLyDinIUgRmV0Y2ggZXhpc3RpbmcgZmlsZSBJRHMgKipvbmx5IGlmIGBmaWxlX2lkcy5qc29uYCBleGlzdHMqKlxuICAgICAgICAgICAgaWYgKHRoaXMuZmlsZUlkc0NhY2hlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZUNvbnRlbnQgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHt0aGlzLmZpbGVJZHNDYWNoZX0/YWx0PW1lZGlhYCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRmlsZUlkcyA9IGZpbGVDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGZldGNoaW5nIGV4aXN0aW5nIGZpbGVfaWRzLmpzb24gY29udGVudCwgY3JlYXRpbmcgbmV3IGxpc3QuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g4pyFIEFwcGVuZCB0aGUgbmV3IGZpbGUgSUQgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgIGV4aXN0aW5nRmlsZUlkcy5wdXNoKG5ld0ZpbGVJZCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSBJRCBzYXZlZCB0byBhcHBEYXRhRm9sZGVyLicsIHRoaXMuZmlsZUlkc0NhY2hlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGZpbGVfaWRzLmpzb246JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihhY2Nlc3NUb2tlbikge1xuICAgICAgICB0aGlzLmFjY2Vzc1Rva2VuID0gYWNjZXNzVG9rZW47XG4gICAgfVxuICAgIGFzeW5jIGZldGNoZXIoeyBtZXRob2QsIGhlYWRlcnMsIGJvZHksIHVybCB9KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hY2Nlc3NUb2tlbn1gLFxuICAgICAgICAgICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpIHx8ICcnO1xuICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICBpZiAoY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICAgICAgICAgIGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBSZXNwb25zZSBUeXBlOicsIHRleHQpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgSlNPTiByZXNwb25zZSBidXQgZ290OiAke2NvbnRlbnRUeXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBSZXNwb25zZTonLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGE/LmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yIG9jY3VycmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhdGE6JywgZXJyb3IubWVzc2FnZSB8fCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBnZXRGaWxlQ29udGVudChmaWxlSWQpIHtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzLyR7ZmlsZUlkfT9hbHQ9bWVkaWFgO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoZXIoeyBtZXRob2Q6ICdHRVQnLCBoZWFkZXJzOiB7fSwgdXJsIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZmV0Y2hpbmcgY29udGVudCBmb3IgZmlsZSBJRDogJHtmaWxlSWR9OmAsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggY29udGVudCBmb3IgZmlsZSBJRDogJHtmaWxlSWR9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2VhcmNoRmlsZXMocXVlcnkpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5mZXRjaGVyKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfSZ0cmFzaGVkPWZhbHNlJmZpZWxkcz1maWxlcyhpZCxuYW1lLG1pbWVUeXBlLHBhcmVudHMpYCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZmlsZXMgfHwgW107XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUZvbGRlcih7IGZvbGRlck5hbWUsIHBhcmVudEZvbGRlcklkIH0pIHtcbiAgICAgICAgaWYgKCFwYXJlbnRGb2xkZXJJZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBQYXJlbnQgZm9sZGVyIElEIG11c3QgYmUgcHJvdmlkZWQgd2hlbiBjcmVhdGluZyBmb2xkZXIgXCIke2ZvbGRlck5hbWV9XCIuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiBmb2xkZXJOYW1lLFxuICAgICAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLWFwcHMuZm9sZGVyJyxcbiAgICAgICAgICAgIHBhcmVudHM6IFtwYXJlbnRGb2xkZXJJZF0sXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgICAgICAgICAgdXJsOiAnaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coYEZvbGRlciBjcmVhdGVkOiBcIiR7Zm9sZGVyTmFtZX1cIiB3aXRoIElEOiAke2ZvbGRlci5pZH0sIFBhcmVudDogJHtwYXJlbnRGb2xkZXJJZH1gKTtcbiAgICAgICAgYXdhaXQgdGhpcy5mZXRjaGVyKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHtmb2xkZXIuaWR9L3Blcm1pc3Npb25zYCxcbiAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyByb2xlOiAncmVhZGVyJywgdHlwZTogJ2FueW9uZScgfSksXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZm9sZGVyO1xuICAgIH1cbiAgICBhc3luYyBnZXRNZWRpYUZvbGRlcklkKCkge1xuICAgICAgICBpZiAodGhpcy5mb2xkZXJDYWNoZVsnTUVESUFzJ10pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvbGRlckNhY2hlWydNRURJQXMnXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByb290Rm9sZGVycyA9IGF3YWl0IHRoaXMuZmluZEZvbGRlcnMoKTtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzRm9sZGVyID0gcm9vdEZvbGRlcnMuZmluZCgoZikgPT4gZi5uYW1lID09PSAnQ3JlZGVudGlhbHMnKTtcbiAgICAgICAgaWYgKCFjcmVkZW50aWFsc0ZvbGRlcikge1xuICAgICAgICAgICAgY3JlZGVudGlhbHNGb2xkZXIgPSBhd2FpdCB0aGlzLmNyZWF0ZUZvbGRlcih7IGZvbGRlck5hbWU6ICdDcmVkZW50aWFscycsIHBhcmVudEZvbGRlcklkOiAncm9vdCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHNGb2xkZXJJZCA9IGNyZWRlbnRpYWxzRm9sZGVyLmlkO1xuICAgICAgICBjb25zdCBzdWJmb2xkZXJzID0gYXdhaXQgdGhpcy5maW5kRm9sZGVycyhjcmVkZW50aWFsc0ZvbGRlci5pZCk7XG4gICAgICAgIGxldCBtZWRpYXNGb2xkZXIgPSBzdWJmb2xkZXJzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gJ01FRElBcycpO1xuICAgICAgICBpZiAoIW1lZGlhc0ZvbGRlcikge1xuICAgICAgICAgICAgbWVkaWFzRm9sZGVyID0gYXdhaXQgdGhpcy5jcmVhdGVGb2xkZXIoeyBmb2xkZXJOYW1lOiAnTUVESUFzJywgcGFyZW50Rm9sZGVySWQ6IGNyZWRlbnRpYWxzRm9sZGVySWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWVkaWFzRm9sZGVySWQgPSBtZWRpYXNGb2xkZXIuaWQ7XG4gICAgICAgIHRoaXMuZm9sZGVyQ2FjaGVbJ01FRElBcyddID0gbWVkaWFzRm9sZGVySWQ7XG4gICAgICAgIHJldHVybiBtZWRpYXNGb2xkZXJJZDtcbiAgICB9XG4gICAgYXN5bmMgdXBsb2FkQmluYXJ5RmlsZSh7IGZpbGUgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLmFjY2Vzc1Rva2VuOyAvLyBFbnN1cmUgYWNjZXNzIHRva2VuIGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKCFhY2Nlc3NUb2tlbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBHb29nbGUgT0F1dGggYWNjZXNzIHRva2VuLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZm9sZGVySWQgPSBhd2FpdCB0aGlzLmdldE1lZGlhRm9sZGVySWQoKTsgLy8gRW5zdXJlIGZvbGRlcklkIGlzIGNvcnJlY3RcbiAgICAgICAgICAgIC8vIOKchSBDb3JyZWN0IG1ldGFkYXRhIGZvciBHb29nbGUgRHJpdmUgQVBJXG4gICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsXG4gICAgICAgICAgICAgICAgbWltZVR5cGU6IGZpbGUudHlwZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRzOiBbZm9sZGVySWRdLCAvLyBTdG9yZSBpbiB0aGUgY29ycmVjdCBmb2xkZXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyDinIUgQ3JlYXRlIEZvcm1EYXRhIGZvciBtdWx0aXBhcnQgdXBsb2FkXG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdtZXRhZGF0YScsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtZXRhZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTtcbiAgICAgICAgICAgIC8vIOKchSBDb3JyZWN0IEdvb2dsZSBEcml2ZSBVcGxvYWQgVVJMXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzP3VwbG9hZFR5cGU9bXVsdGlwYXJ0JmZpZWxkcz1pZCxwYXJlbnRzYDtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCwgLy8g4pyFIEluY2x1ZGUgdmFsaWQgT0F1dGggdG9rZW5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgR29vZ2xlIERyaXZlIFVwbG9hZCBFcnJvcjogJHtkYXRhLmVycm9yPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTsgLy8gUmV0dXJucyB0aGUgdXBsb2FkZWQgZmlsZSBJRCBhbmQgcGFyZW50c1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwbG9hZGluZyBmaWxlIHRvIEdvb2dsZSBEcml2ZTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBzYXZlRmlsZSh7IGRhdGEsIGZvbGRlcklkIH0pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgfiBHb29nbGVEcml2ZVN0b3JhZ2UgfiBzYXZlRmlsZSB+IGRhdGE6JywgZGF0YSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWZvbGRlcklkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb2xkZXIgSUQgaXMgcmVxdWlyZWQgdG8gc2F2ZSBhIGZpbGUuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWxlTWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogZGF0YS5maWxlTmFtZSB8fCBkYXRhLm5hbWUgKyAnLmpzb24nIHx8IGRhdGEuY3JlZGVudGlhbFN1YmplY3QucGVyc29uLm5hbWUuZm9ybWF0dGVkTmFtZSArICcuanNvbicgfHwgJ1VudGl0bGVkIGZpbGUuanNvbicsXG4gICAgICAgICAgICAgICAgcGFyZW50czogW2ZvbGRlcklkXSxcbiAgICAgICAgICAgICAgICBtaW1lVHlwZTogZGF0YS5taW1lVHlwZSB8fCAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgZmlsZUJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcbiAgICAgICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ21ldGFkYXRhJywgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGZpbGVNZXRhZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlQmxvYik7XG4gICAgICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5mZXRjaGVyKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS91cGxvYWQvZHJpdmUvdjMvZmlsZXM/dXBsb2FkVHlwZT1tdWx0aXBhcnQmZmllbGRzPWlkLHBhcmVudHNgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBTZXQgcHVibGljIHJlYWQgcGVybWlzc2lvbnNcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHtmaWxlLmlkfS9wZXJtaXNzaW9uc2AsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICByb2xlOiAncmVhZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2FueW9uZScsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBGaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseTogJHtmaWxlLmlkfWApO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBzYXZlRmlsZTonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZmlsZSBmcm9tIGdvb2dsZSBkcml2ZSBieSBpZFxuICAgICAqIEBwYXJhbSBpZFxuICAgICAqIEByZXR1cm5zIGZpbGUgY29udGVudFxuICAgICAqL1xuICAgIGFzeW5jIHJldHJpZXZlKGlkKSB7XG4gICAgICAgIGNvbnN0IGRhdGFVcmwgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHtpZH0/YWx0PW1lZGlhYDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFSZXNwb25zZSA9IGF3YWl0IGZldGNoKGRhdGFVcmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3RoaXMuYWNjZXNzVG9rZW59YCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWRhdGFSZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IGRhdGFSZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJldHJpZXZlIGZpbGUgZGF0YSBmb3IgSUQgJHtpZH06YCwgZXJyb3JEYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gZGF0YVJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKTtcbiAgICAgICAgICAgIGxldCBmaWxlRGF0YTtcbiAgICAgICAgICAgIGlmIChjb250ZW50VHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICAgICAgICAgIGZpbGVEYXRhID0gYXdhaXQgZGF0YVJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnaW1hZ2UnKSB8fFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPy5pbmNsdWRlcygndmlkZW8nKSB8fFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXVkaW8nKSB8fFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJykgfHxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3BkZicpIHx8XG4gICAgICAgICAgICAgICAgY29udGVudFR5cGU/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9tc3dvcmQnKSB8fFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LndvcmRwcm9jZXNzaW5nbWwuZG9jdW1lbnQnKSB8fFxuICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsJykgfHxcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JykpIHtcbiAgICAgICAgICAgICAgICBmaWxlRGF0YSA9IGF3YWl0IGRhdGFSZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmaWxlRGF0YSA9IGF3YWl0IGRhdGFSZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZmlsZURhdGEsIGlkOiBpZCB9O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgcmV0cmlldmluZyBmaWxlIHdpdGggSUQgJHtpZH06YCwgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIGJ5IGZvbGRlcklkLCBpZiBmb2xkZXJJZCA9PSBudWxsIHlvdSB3aWxsIGhhdmUgdGhlbSBhbGxcbiAgICAgKiBAcGFyYW0gZm9sZGVySWQgW09wdGlvbmFsXVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgZmluZEZvbGRlcnMoZm9sZGVySWQpIHtcbiAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBmb2xkZXJJZCB8fCAncm9vdCc7XG4gICAgICAgIGlmICh0aGlzLmZvbGRlckNhY2hlW2NhY2hlS2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9sZGVyQ2FjaGVbY2FjaGVLZXldO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gZm9sZGVySWRcbiAgICAgICAgICAgID8gYCcke2ZvbGRlcklkfScgaW4gcGFyZW50cyBhbmQgbWltZVR5cGU9J2FwcGxpY2F0aW9uL3ZuZC5nb29nbGUtYXBwcy5mb2xkZXInYFxuICAgICAgICAgICAgOiBgJ3Jvb3QnIGluIHBhcmVudHMgYW5kIG1pbWVUeXBlPSdhcHBsaWNhdGlvbi92bmQuZ29vZ2xlLWFwcHMuZm9sZGVyJ2A7XG4gICAgICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCB0aGlzLnNlYXJjaEZpbGVzKHF1ZXJ5KTtcbiAgICAgICAgdGhpcy5mb2xkZXJDYWNoZVtjYWNoZUtleV0gPSBmb2xkZXJzO1xuICAgICAgICByZXR1cm4gZm9sZGVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBmaWxlcyBjb250ZW50IGZvciB0aGUgc3BlY2lmaWVkIHR5cGUgKCdLRVlQQUlScycgfCAnVkNzJyB8ICdTRVNTSU9OcycgfCAnRElEcycgfCAnUkVDT01NRU5EQVRJT05zJylcbiAgICAgKiBAcGFyYW0gdHlwZVxuICAgICAqIEByZXR1cm5zXG4gICAgICovXG4gICAgYXN5bmMgZ2V0QWxsRmlsZXNCeVR5cGUodHlwZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmZvbGRlckNhY2hlWydDcmVkZW50aWFscyddKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdEZvbGRlcnMgPSBhd2FpdCB0aGlzLmZpbmRGb2xkZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mb2xkZXJDYWNoZVsnQ3JlZGVudGlhbHMnXSA9IHJvb3RGb2xkZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY3JlZGVudGlhbHNGb2xkZXIgPSB0aGlzLmZvbGRlckNhY2hlWydDcmVkZW50aWFscyddLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gJ0NyZWRlbnRpYWxzJyk7XG4gICAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzRm9sZGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignQ3JlZGVudGlhbHMgZm9sZGVyIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ1ZDcycpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZm9sZGVyQ2FjaGVbJ1ZDcyddKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZjU3ViZm9sZGVyID0gYXdhaXQgdGhpcy5maW5kRm9sZGVycyhjcmVkZW50aWFsc0ZvbGRlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZjc0ZvbGRlciA9IHZjU3ViZm9sZGVyLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gJ1ZDcycpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2Y1N1YkZvbGRlcnMgPSBhd2FpdCB0aGlzLmZpbmRGb2xkZXJzKHZjc0ZvbGRlci5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9sZGVyQ2FjaGVbJ1ZDcyddID0gdmNTdWJGb2xkZXJzLmZpbHRlcigoZm9sZGVyKSA9PiBmb2xkZXIubmFtZS5zdGFydHNXaXRoKCdWQy0nKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHZjU3ViZm9sZGVycyA9IHRoaXMuZm9sZGVyQ2FjaGVbJ1ZDcyddO1xuICAgICAgICAgICAgICAgIGlmICghdmNTdWJmb2xkZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBObyBzdWJmb2xkZXJzIGZvdW5kIGZvciB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYWxsRmlsZXNOZXN0ZWQgPSBhd2FpdCBQcm9taXNlLmFsbCh2Y1N1YmZvbGRlcnMubWFwKGFzeW5jIChmb2xkZXIpID0+IGF3YWl0IHRoaXMuZmluZEZpbGVzVW5kZXJGb2xkZXIoZm9sZGVyLmlkKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFsbFZjSnNvbkZpbGVzID0gYWxsRmlsZXNOZXN0ZWQuZmxhdCgpLmZpbHRlcigoZmlsZSkgPT4gZmlsZS5taW1lVHlwZSA9PT0gJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlQ29udGVudHNSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKGFsbFZjSnNvbkZpbGVzLm1hcCgoZmlsZSkgPT4gdGhpcy5yZXRyaWV2ZShmaWxlLmlkKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkRmlsZUNvbnRlbnRzID0gZmlsZUNvbnRlbnRzUmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcpLm1hcCgocmVzdWx0KSA9PiByZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZEZpbGVDb250ZW50cy5maWx0ZXIoKGZpbGUpID0+IGZpbGUuZGF0YS5maWxlTmFtZSAhPT0gJ1JFTEFUSU9OUycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmZvbGRlckNhY2hlW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3ViZm9sZGVycyA9IGF3YWl0IHRoaXMuZmluZEZvbGRlcnMoY3JlZGVudGlhbHNGb2xkZXIuaWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEZvbGRlciA9IHN1YmZvbGRlcnMuZmluZCgoZikgPT4gZi5uYW1lID09PSB0eXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvbGRlckNhY2hlW3R5cGVdID0gdGFyZ2V0Rm9sZGVyID8gdGFyZ2V0Rm9sZGVyLmlkIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldEZvbGRlcklkID0gdGhpcy5mb2xkZXJDYWNoZVt0eXBlXTtcbiAgICAgICAgICAgIGlmICghdGFyZ2V0Rm9sZGVySWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGb2xkZXIgZm9yIHR5cGUgJHt0eXBlfSBub3QgZm91bmQuYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZmlsZXNSZXNwb25zZSA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcz9xPScke3RhcmdldEZvbGRlcklkfScgaW4gcGFyZW50cyBhbmQgdHJhc2hlZD1mYWxzZSZmaWVsZHM9ZmlsZXMoaWQsbmFtZSxtaW1lVHlwZSlgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmaWxlcyA9IGZpbGVzUmVzcG9uc2UuZmlsZXMgfHwgW107XG4gICAgICAgICAgICBjb25zdCBmaWxlQ29udGVudHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZmlsZXMubWFwKChmaWxlKSA9PiB0aGlzLnJldHJpZXZlKGZpbGUuaWQpKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+agCB+IEdvb2dsZURyaXZlU3RvcmFnZSB+IGdldEFsbEZpbGVzQnlUeXBlIH4gZmlsZUNvbnRlbnRzOicsIGZpbGVDb250ZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZUNvbnRlbnRzLmZpbHRlcigocmVzKSA9PiByZXMuc3RhdHVzID09PSAnZnVsZmlsbGVkJykubWFwKChyZXMpID0+IHJlcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBnZXR0aW5nIGZpbGVzIG9mIHR5cGUgJHt0eXBlfTpgLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBuYW1lIG9mIGEgZmlsZSBpbiBHb29nbGUgRHJpdmVcbiAgICAgKiBAcGFyYW0gZmlsZUlkIC0gVGhlIElEIG9mIHRoZSBmaWxlIHRvIHVwZGF0ZVxuICAgICAqIEBwYXJhbSBuZXdGaWxlTmFtZSAtIFRoZSBuZXcgbmFtZSBmb3IgdGhlIGZpbGVcbiAgICAgKiBAcmV0dXJucyBUaGUgdXBkYXRlZCBmaWxlIG1ldGFkYXRhLCBpbmNsdWRpbmcgdGhlIG5ldyBuYW1lXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlRmlsZU5hbWUoZmlsZUlkLCBuZXdGaWxlTmFtZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7IG5hbWU6IG5ld0ZpbGVOYW1lIH07XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkRmlsZSA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcy8ke2ZpbGVJZH1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSBuYW1lIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5OicsIHVwZGF0ZWRGaWxlLm5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRGaWxlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgZmlsZSBuYW1lOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZmluZEZpbGVCeU5hbWUobmFtZSkge1xuICAgICAgICBjb25zdCByb290Rm9sZGVycyA9IGF3YWl0IHRoaXMuZmluZEZvbGRlcnMoKTtcbiAgICAgICAgY29uc3QgY3JlZGVudGlhbHNGb2xkZXJJZCA9IHJvb3RGb2xkZXJzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gJ0NyZWRlbnRpYWxzJyk/LmlkO1xuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzRm9sZGVySWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NyZWRlbnRpYWxzIGZvbGRlciBub3QgZm91bmQnKTtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLnNlYXJjaEZpbGVzKGAnJHtjcmVkZW50aWFsc0ZvbGRlcklkfScgaW4gcGFyZW50cyBhbmQgbmFtZT0nJHtuYW1lfSdgKTtcbiAgICAgICAgcmV0dXJuIGZpbGVzWzBdO1xuICAgIH1cbiAgICBhc3luYyBmaW5kRmlsZXNVbmRlckZvbGRlcihmb2xkZXJJZCkge1xuICAgICAgICBpZiAoIWZvbGRlcklkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb2xkZXIgSUQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLnNlYXJjaEZpbGVzKGAnJHtmb2xkZXJJZH0nIGluIHBhcmVudHNgKTtcbiAgICAgICAgaWYgKGZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIGZpbGVzIGZvdW5kIGluIHRoZSBmb2xkZXIuJyk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlsZXNXaXRoQ29udGVudCA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChhc3luYyAoZmlsZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5nZXRGaWxlQ29udGVudChmaWxlLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5maWxlLCBjb250ZW50IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmZXRjaGluZyBjb250ZW50IGZvciBmaWxlIFwiJHtmaWxlLm5hbWV9XCIgKElEOiAke2ZpbGUuaWR9KTpgLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZmlsZSwgY29udGVudDogbnVsbCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBmaWxlc1dpdGhDb250ZW50O1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVGaWxlRGF0YShmaWxlSWQsIGRhdGEpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZVVybCA9IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcy8ke2ZpbGVJZH1gO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEZpbGUgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IGRhdGEuZmlsZU5hbWUgfSksXG4gICAgICAgICAgICAgICAgdXJsOiB1cGRhdGVVcmwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSByZW5hbWVkIHN1Y2Nlc3NmdWxseTonLCB1cGRhdGVkRmlsZSk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZEZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBnZXRGaWxlUGFyZW50cyhmaWxlSWQpIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9kcml2ZS92My9maWxlcy8ke2ZpbGVJZH0/ZmllbGRzPXBhcmVudHNgLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZJTEU6ICcsIGZpbGUpO1xuICAgICAgICByZXR1cm4gZmlsZS5wYXJlbnRzO1xuICAgIH1cbiAgICBhc3luYyB1cGRhdGVSZWxhdGlvbnNGaWxlKHsgcmVsYXRpb25zRmlsZUlkLCByZWNvbW1lbmRhdGlvbkZpbGVJZCB9KSB7XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uc0ZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShyZWxhdGlvbnNGaWxlSWQpO1xuICAgICAgICBjb25zdCByZWxhdGlvbnNEYXRhID0gcmVsYXRpb25zRmlsZUNvbnRlbnQuZGF0YS5ib2R5ID8gSlNPTi5wYXJzZShyZWxhdGlvbnNGaWxlQ29udGVudC5kYXRhLmJvZHkpIDogcmVsYXRpb25zRmlsZUNvbnRlbnQuZGF0YTtcbiAgICAgICAgcmVsYXRpb25zRGF0YS5yZWNvbW1lbmRhdGlvbnMucHVzaChyZWNvbW1lbmRhdGlvbkZpbGVJZCk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkocmVsYXRpb25zRGF0YSk7XG4gICAgICAgIGNvbnN0IHVwZGF0ZVJlc3BvbnNlID0gYXdhaXQgdGhpcy5mZXRjaGVyKHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogdXBkYXRlZENvbnRlbnQsXG4gICAgICAgICAgICB1cmw6IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS91cGxvYWQvZHJpdmUvdjMvZmlsZXMvJHtyZWxhdGlvbnNGaWxlSWR9P3VwbG9hZFR5cGU9bWVkaWFgLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cGRhdGVGaWxlSWRzSnNvbihyZWxhdGlvbnNGaWxlSWQpO1xuICAgICAgICByZXR1cm4gdXBkYXRlUmVzcG9uc2U7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZVJlbGF0aW9uc0ZpbGUoeyB2Y0ZvbGRlcklkIH0pIHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLmZpbmRGaWxlc1VuZGVyRm9sZGVyKHZjRm9sZGVySWQpO1xuICAgICAgICBjb25zdCB2Y0ZpbGUgPSBmaWxlcy5maW5kKChmaWxlKSA9PiBmaWxlLm5hbWUgPT09ICdWQycpO1xuICAgICAgICBjb25zdCB2Y0NvbnRlbnQgPSBhd2FpdCB0aGlzLmdldEZpbGVDb250ZW50KHZjRmlsZS5pZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIH4gR29vZ2xlRHJpdmVTdG9yYWdlIH4gY3JlYXRlUmVsYXRpb25zRmlsZSB+IHZjQ29udGVudDonLCB2Y0NvbnRlbnQpO1xuICAgICAgICBjb25zdCBzdWJqZWN0ID0gSlNPTi5wYXJzZSh2Y0NvbnRlbnQuYm9keSkuY3JlZGVudGlhbFN1YmplY3Q7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5qAIH4gR29vZ2xlRHJpdmVTdG9yYWdlIH4gY3JlYXRlUmVsYXRpb25zRmlsZSB+IHN1YmplY3Q6Jywgc3ViamVjdCk7XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uc0ZpbGUgPSBhd2FpdCB0aGlzLnNhdmVGaWxlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogJ1JFTEFUSU9OUycsXG4gICAgICAgICAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICAgIHZjOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlSWQ6IHZjQ29udGVudC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZm9sZGVySWQ6IHZjRm9sZGVySWQsXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUZpbGVJZHNKc29uKHJlbGF0aW9uc0ZpbGUuaWQpO1xuICAgICAgICByZXR1cm4gcmVsYXRpb25zRmlsZTtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlUmVzdW1lUmVsYXRpb24oeyBhdXRob3JGb2xkZXJJZCwgZHJhZnRGaWxlSWQsIHNpZ25lZEZpbGVJZCwgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVsYXRpb25GaWxlTmFtZSA9ICdyZWxhdGlvbnMuanNvbic7XG4gICAgICAgICAgICAvLyBTdGVwIDE6IENoZWNrIGlmIGByZWxhdGlvbnMuanNvbmAgZXhpc3RzIGluIFJFU1VNRVNfQVVUSE9SL1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdSZWxhdGlvbkZpbGVzID0gYXdhaXQgdGhpcy5zZWFyY2hGaWxlcyhgbmFtZT0nJHtyZWxhdGlvbkZpbGVOYW1lfScgYW5kICcke2F1dGhvckZvbGRlcklkfScgaW4gcGFyZW50c2ApO1xuICAgICAgICAgICAgbGV0IHJlbGF0aW9uRmlsZUlkID0gbnVsbDtcbiAgICAgICAgICAgIGxldCBleGlzdGluZ1JlbGF0aW9ucyA9IHt9O1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nUmVsYXRpb25GaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmVsYXRpb25GaWxlSWQgPSBleGlzdGluZ1JlbGF0aW9uRmlsZXNbMF0uaWQ7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdSZWxhdGlvbnMgPSBhd2FpdCB0aGlzLmdldEZpbGVDb250ZW50KHJlbGF0aW9uRmlsZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZWxhdGlvbnMuanNvbiBkb2VzIG5vdCBleGlzdC4gV2lsbCBjcmVhdGUgYSBuZXcgb25lLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAyOiBVcGRhdGUgcmVsYXRpb25zIG9iamVjdFxuICAgICAgICAgICAgZXhpc3RpbmdSZWxhdGlvbnNbZHJhZnRGaWxlSWRdID0gc2lnbmVkRmlsZUlkO1xuICAgICAgICAgICAgLy8gU3RlcCAzOiBDcmVhdGUgb3IgdXBkYXRlIHRoZSBmaWxlIG9uIERyaXZlXG4gICAgICAgICAgICBjb25zdCBmaWxlQmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShleGlzdGluZ1JlbGF0aW9ucywgbnVsbCwgMildLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVsYXRpb25GaWxlTmFtZSxcbiAgICAgICAgICAgICAgICBwYXJlbnRzOiBbYXV0aG9yRm9sZGVySWRdLFxuICAgICAgICAgICAgICAgIG1pbWVUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdtZXRhZGF0YScsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtZXRhZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlQmxvYik7XG4gICAgICAgICAgICBsZXQgdXBsb2FkZWRGaWxlO1xuICAgICAgICAgICAgaWYgKHJlbGF0aW9uRmlsZUlkKSB7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGV4aXN0aW5nIGZpbGVcbiAgICAgICAgICAgICAgICB1cGxvYWRlZEZpbGUgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vdXBsb2FkL2RyaXZlL3YzL2ZpbGVzLyR7cmVsYXRpb25GaWxlSWR9P3VwbG9hZFR5cGU9bXVsdGlwYXJ0JmZpZWxkcz1pZCxwYXJlbnRzYCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBuZXcgZmlsZVxuICAgICAgICAgICAgICAgIHVwbG9hZGVkRmlsZSA9IGF3YWl0IHRoaXMuZmV0Y2hlcih7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEsXG4gICAgICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3VwbG9hZC9kcml2ZS92My9maWxlcz91cGxvYWRUeXBlPW11bHRpcGFydCZmaWVsZHM9aWQscGFyZW50c2AsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFJlc3VtZSByZWxhdGlvbiB1cGRhdGVkLiBGaWxlIElEOiAke3VwbG9hZGVkRmlsZS5pZH1gKTtcbiAgICAgICAgICAgIHJldHVybiB1cGxvYWRlZEZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFpbGVkIHRvIHVwZGF0ZSByZXN1bWUgcmVsYXRpb246JywgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGZpbGUgYnkgaWRcbiAgICAgKiBAcGFyYW0gaWRcbiAgICAgKiBAcmV0dXJuc1xuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZShpZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vZHJpdmUvdjMvZmlsZXMvJHtpZH1gLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRmlsZSBkZWxldGVkOicsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGZpbGU6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlKGZpbGVJZCwgZGF0YSkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6IGRhdGEuZmlsZU5hbWUgfHwgJ3Jlc3VtZS5qc29uJyxcbiAgICAgICAgICAgIG1pbWVUeXBlOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVwbG9hZFVybCA9IGBodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS91cGxvYWQvZHJpdmUvdjMvZmlsZXMvJHtmaWxlSWR9P3VwbG9hZFR5cGU9bXVsdGlwYXJ0YDtcbiAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdtZXRhZGF0YScsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtZXRhZGF0YSldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShkYXRhLmJvZHkpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7fSxcbiAgICAgICAgICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICAgICAgICAgICAgICB1cmw6IGAke3VwbG9hZFVybH0mZmllbGRzPWlkLG5hbWUsbWltZVR5cGVgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgdXBkYXRlZCBzdWNjZXNzZnVsbHk6JywgcmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEVycm9yIHVwZGF0aW5nIEdvb2dsZSBEcml2ZSBmaWxlOicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIGdldEZpbGVJZHNGcm9tQXBwRGF0YUZvbGRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnN0cnVjdFVybCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBiYXNlVXJsID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzJztcbiAgICAgICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoe1xuICAgICAgICAgICAgICAgICAgICBzcGFjZXM6ICdhcHBEYXRhRm9sZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgcTogXCJuYW1lPSdmaWxlX2lkcy5qc29uJ1wiLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6ICdmaWxlcyhpZCknLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBgJHtiYXNlVXJsfT8ke3F1ZXJ5UGFyYW1zLnRvU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBTdGVwIDE6IFNlYXJjaCBmb3IgdGhlIGZpbGVfaWRzLmpzb24gZmlsZSBpbiB0aGUgYXBwRGF0YUZvbGRlclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoZXIoe1xuICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge30sXG4gICAgICAgICAgICAgICAgdXJsOiBjb25zdHJ1Y3RVcmwoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJzogIEdvb2dsZURyaXZlU3RvcmFnZSAgZ2V0RmlsZUlkc0Zyb21BcHBEYXRhRm9sZGVyICByZXNwb25zZScsIHJlc3BvbnNlKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMjogQ2hlY2sgaWYgdGhlIGZpbGUgZXhpc3RzXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmZpbGVzIHx8IHJlc3BvbnNlLmZpbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBmaWxlX2lkcy5qc29uIGZvdW5kIGluIGFwcERhdGFGb2xkZXIuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAzOiBHZXQgdGhlIGZpbGUgSUQgb2YgZmlsZV9pZHMuanNvblxuICAgICAgICAgICAgY29uc3QgZmlsZUlkID0gcmVzcG9uc2UuZmlsZXNbMF0uaWQ7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnOiAgR29vZ2xlRHJpdmVTdG9yYWdlICBnZXRGaWxlSWRzRnJvbUFwcERhdGFGb2xkZXIgIGZpbGVJZCcsIGZpbGVJZCk7XG4gICAgICAgICAgICAvLyBTdGVwIDQ6IEZldGNoIHRoZSBjb250ZW50IG9mIGZpbGVfaWRzLmpzb25cbiAgICAgICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gYXdhaXQgdGhpcy5mZXRjaGVyKHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHt9LFxuICAgICAgICAgICAgICAgIHVybDogYGh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL2RyaXZlL3YzL2ZpbGVzLyR7ZmlsZUlkfT9hbHQ9bWVkaWFgLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnOiAgR29vZ2xlRHJpdmVTdG9yYWdlICBnZXRGaWxlSWRzRnJvbUFwcERhdGFGb2xkZXIgIGZpbGVDb250ZW50JywgZmlsZUNvbnRlbnQpO1xuICAgICAgICAgICAgLy8gU3RlcCA1OiBQYXJzZSB0aGUgZmlsZSBjb250ZW50IChhcnJheSBvZiBmaWxlIElEcylcbiAgICAgICAgICAgIGNvbnN0IGZpbGVJZHMgPSBmaWxlQ29udGVudDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCc6ICBHb29nbGVEcml2ZVN0b3JhZ2UgIGdldEZpbGVJZHNGcm9tQXBwRGF0YUZvbGRlciAgZmlsZUlkcycsIGZpbGVJZHMpO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGVJZHM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmaWxlIElEcyBmcm9tIGFwcERhdGFGb2xkZXI6JywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0QWxsRmlsZXNEYXRhKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU3RlcCAxOiBHZXQgdGhlIGZpbGUgSURzIGZyb20gYXBwRGF0YUZvbGRlclxuICAgICAgICAgICAgY29uc3QgZmlsZUlkcyA9IGF3YWl0IHRoaXMuZ2V0RmlsZUlkc0Zyb21BcHBEYXRhRm9sZGVyKCk7XG4gICAgICAgICAgICBpZiAoZmlsZUlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gZmlsZXMgZm91bmQuJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU3RlcCAyOiBSZXR1cm4gdGhlIGFycmF5IG9mIGZpbGUgSURzXG4gICAgICAgICAgICByZXR1cm4gZmlsZUlkcztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGFsbCBmaWxlcyBkYXRhOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/models/GoogleDriveStorage.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/models/Resume.js":
/*!********************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/models/Resume.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Resume: () => (/* binding */ Resume),\n/* harmony export */   StorageHandler: () => (/* binding */ StorageHandler),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   resumeFolderTypes: () => (/* binding */ resumeFolderTypes)\n/* harmony export */ });\nconst resumeFolderTypes = {\n    root: 'RESUMES_AUTHOR',\n    nonSigned: 'NON_SIGNED_RESUMES',\n    signed: 'SIGNED_RESUMES',\n};\nclass StorageHandler {\n    storage;\n    folderCreationPromises = {};\n    createdFolders = {};\n    constructor(storage) {\n        this.storage = storage;\n    }\n    async getOrCreateFolder(folderName, parentId) {\n        const cacheKey = `${parentId}_${folderName}`;\n        // Check our local cache first (this is separate from the storage's cache)\n        if (this.createdFolders[cacheKey]) {\n            console.log(`Using cached folder ${folderName} (${this.createdFolders[cacheKey].id}) under ${parentId}`);\n            return this.createdFolders[cacheKey];\n        }\n        // If there's an existing promise for this folder, wait for it\n        if (this.folderCreationPromises[cacheKey]) {\n            console.log(`Waiting for existing folder creation: ${folderName} under ${parentId}`);\n            return this.folderCreationPromises[cacheKey];\n        }\n        // Create a new promise for this folder operation\n        this.folderCreationPromises[cacheKey] = (async () => {\n            try {\n                // Double-check if folder exists\n                console.log(`Searching for folder ${folderName} under ${parentId}`);\n                const folders = await this.storage.findFolders(parentId);\n                let folder = folders.find((f) => f.name === folderName);\n                if (folder) {\n                    console.log(`Found existing folder ${folderName} (${folder.id}) under ${parentId}`);\n                }\n                else {\n                    console.log(`Creating folder ${folderName} under ${parentId} (no existing folder found)`);\n                    folder = await this.storage.createFolder({\n                        folderName,\n                        parentFolderId: parentId,\n                    });\n                    console.log(`Created folder ${folderName} (${folder.id}) under ${parentId}`);\n                }\n                // Store in our local cache\n                this.createdFolders[cacheKey] = folder;\n                return folder;\n            }\n            catch (error) {\n                console.error(`Error in getOrCreateFolder(${folderName}, ${parentId}):`, error);\n                throw error;\n            }\n            finally {\n                // Clean up the promise after completion\n                delete this.folderCreationPromises[cacheKey];\n            }\n        })();\n        return this.folderCreationPromises[cacheKey];\n    }\n    async findFilesInFolder(folderName) {\n        const folders = await this.storage.findFolders();\n        const folder = folders.find((folder) => folder.name === folderName);\n        if (!folder) {\n            throw new Error(`${folderName} folder not found`);\n        }\n        return this.storage.findFilesUnderFolder(folder.id);\n    }\n}\nclass Resume extends StorageHandler {\n    constructor(storage) {\n        super(storage);\n    }\n    async saveResume({ resume, type }) {\n        try {\n            let rootFolder = await this.getOrCreateFolder(resumeFolderTypes.root, 'root');\n            console.log('🚀 ~ Resume ~ saveResume ~ rootFolder:', rootFolder);\n            // Get or create the subfolder\n            const subFolderName = type === 'sign' ? resumeFolderTypes.signed : resumeFolderTypes.nonSigned;\n            const subFolder = await this.getOrCreateFolder(subFolderName, rootFolder.id);\n            // Save the file in the subfolder\n            const savedResume = await this.storage.saveFile({\n                folderId: subFolder.id, // Ensure this points to the subfolder\n                data: resume,\n            });\n            return savedResume;\n        }\n        catch (error) {\n            throw new Error(`Error while saving ${type} resume: ${error.message}`);\n        }\n    }\n    async find() {\n        try {\n            const signedResumes = await this.getSignedResumes();\n            const nonSignedResumes = await this.getNonSignedResumes();\n            return {\n                signed: signedResumes,\n                nonSigned: nonSignedResumes,\n            };\n        }\n        catch (error) {\n            throw new Error('Error while fetching resume: ' + error.message);\n        }\n    }\n    async getSignedResumes() {\n        try {\n            // Find the root folder first\n            const rootFolder = await this.getOrCreateFolder(resumeFolderTypes.root, 'root');\n            // Find or create the signed resumes folder\n            const signedFolder = await this.getOrCreateFolder(resumeFolderTypes.signed, rootFolder.id);\n            // Retrieve all files from the signed folder\n            const files = await this.storage.findFilesUnderFolder(signedFolder.id);\n            return files;\n        }\n        catch (error) {\n            throw new Error('Error while fetching signed resumes: ' + error.message);\n        }\n    }\n    async getNonSignedResumes() {\n        try {\n            // Find the root folder first\n            const rootFolder = await this.getOrCreateFolder(resumeFolderTypes.root, 'root');\n            // Find or create the non-signed resumes folder\n            const nonSignedFolder = await this.getOrCreateFolder(resumeFolderTypes.nonSigned, rootFolder.id);\n            // Retrieve all files from the non-signed folder\n            const files = await this.storage.findFilesUnderFolder(nonSignedFolder.id);\n            return files;\n        }\n        catch (error) {\n            throw new Error('Error while fetching non-signed resumes: ' + error.message);\n        }\n    }\n    async saveResumeDraft(data, signedResumeId) {\n        try {\n            const fileName = `FinalDraft_${signedResumeId}.json`;\n            // 1. Find or create root and NON_SIGNED_RESUMES folder\n            const rootFolder = await this.getOrCreateFolder(resumeFolderTypes.root, 'root');\n            const nonSignedFolder = await this.getOrCreateFolder(resumeFolderTypes.nonSigned, rootFolder.id);\n            const dataWithFileName = {\n                ...data,\n                fileName: `FinalDraft_${signedResumeId}.json`,\n            };\n            // Save the file\n            const savedDraft = await this.storage.saveFile({\n                data: dataWithFileName,\n                folderId: nonSignedFolder.id,\n            });\n            console.log(`✅ Draft saved as ${fileName}`);\n            return savedDraft;\n        }\n        catch (error) {\n            console.error('❌ Error saving resume draft:', error);\n            throw new Error('Failed to save resume draft: ' + error.message);\n        }\n    }\n    isResumeFolderExist() { }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Resume);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9tb2RlbHMvUmVzdW1lLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixTQUFTLEdBQUcsV0FBVztBQUNuRDtBQUNBO0FBQ0EsK0NBQStDLFlBQVksR0FBRyxpQ0FBaUMsVUFBVSxTQUFTO0FBQ2xIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLFlBQVksUUFBUSxTQUFTO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxZQUFZLFFBQVEsU0FBUztBQUNqRjtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsWUFBWSxHQUFHLFVBQVUsVUFBVSxTQUFTO0FBQ3JHO0FBQ0E7QUFDQSxtREFBbUQsWUFBWSxRQUFRLFVBQVU7QUFDakY7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGtEQUFrRCxZQUFZLEdBQUcsVUFBVSxVQUFVLFNBQVM7QUFDOUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFdBQVcsSUFBSSxTQUFTO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsWUFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGNBQWM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELE1BQU0sVUFBVSxjQUFjO0FBQ2hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsZUFBZTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLE1BQU0sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL25vZGVfbW9kdWxlcy9AY29vcGVyYXRpb24vdmMtc3RvcmFnZS9kaXN0L21vZGVscy9SZXN1bWUuanM/N2I3YSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgcmVzdW1lRm9sZGVyVHlwZXMgPSB7XG4gICAgcm9vdDogJ1JFU1VNRVNfQVVUSE9SJyxcbiAgICBub25TaWduZWQ6ICdOT05fU0lHTkVEX1JFU1VNRVMnLFxuICAgIHNpZ25lZDogJ1NJR05FRF9SRVNVTUVTJyxcbn07XG5leHBvcnQgY2xhc3MgU3RvcmFnZUhhbmRsZXIge1xuICAgIHN0b3JhZ2U7XG4gICAgZm9sZGVyQ3JlYXRpb25Qcm9taXNlcyA9IHt9O1xuICAgIGNyZWF0ZWRGb2xkZXJzID0ge307XG4gICAgY29uc3RydWN0b3Ioc3RvcmFnZSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xuICAgIH1cbiAgICBhc3luYyBnZXRPckNyZWF0ZUZvbGRlcihmb2xkZXJOYW1lLCBwYXJlbnRJZCkge1xuICAgICAgICBjb25zdCBjYWNoZUtleSA9IGAke3BhcmVudElkfV8ke2ZvbGRlck5hbWV9YDtcbiAgICAgICAgLy8gQ2hlY2sgb3VyIGxvY2FsIGNhY2hlIGZpcnN0ICh0aGlzIGlzIHNlcGFyYXRlIGZyb20gdGhlIHN0b3JhZ2UncyBjYWNoZSlcbiAgICAgICAgaWYgKHRoaXMuY3JlYXRlZEZvbGRlcnNbY2FjaGVLZXldKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVXNpbmcgY2FjaGVkIGZvbGRlciAke2ZvbGRlck5hbWV9ICgke3RoaXMuY3JlYXRlZEZvbGRlcnNbY2FjaGVLZXldLmlkfSkgdW5kZXIgJHtwYXJlbnRJZH1gKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZWRGb2xkZXJzW2NhY2hlS2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGV4aXN0aW5nIHByb21pc2UgZm9yIHRoaXMgZm9sZGVyLCB3YWl0IGZvciBpdFxuICAgICAgICBpZiAodGhpcy5mb2xkZXJDcmVhdGlvblByb21pc2VzW2NhY2hlS2V5XSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFdhaXRpbmcgZm9yIGV4aXN0aW5nIGZvbGRlciBjcmVhdGlvbjogJHtmb2xkZXJOYW1lfSB1bmRlciAke3BhcmVudElkfWApO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9sZGVyQ3JlYXRpb25Qcm9taXNlc1tjYWNoZUtleV07XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IHByb21pc2UgZm9yIHRoaXMgZm9sZGVyIG9wZXJhdGlvblxuICAgICAgICB0aGlzLmZvbGRlckNyZWF0aW9uUHJvbWlzZXNbY2FjaGVLZXldID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gRG91YmxlLWNoZWNrIGlmIGZvbGRlciBleGlzdHNcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgU2VhcmNoaW5nIGZvciBmb2xkZXIgJHtmb2xkZXJOYW1lfSB1bmRlciAke3BhcmVudElkfWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvbGRlcnMgPSBhd2FpdCB0aGlzLnN0b3JhZ2UuZmluZEZvbGRlcnMocGFyZW50SWQpO1xuICAgICAgICAgICAgICAgIGxldCBmb2xkZXIgPSBmb2xkZXJzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gZm9sZGVyTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKGZvbGRlcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgRm91bmQgZXhpc3RpbmcgZm9sZGVyICR7Zm9sZGVyTmFtZX0gKCR7Zm9sZGVyLmlkfSkgdW5kZXIgJHtwYXJlbnRJZH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBDcmVhdGluZyBmb2xkZXIgJHtmb2xkZXJOYW1lfSB1bmRlciAke3BhcmVudElkfSAobm8gZXhpc3RpbmcgZm9sZGVyIGZvdW5kKWApO1xuICAgICAgICAgICAgICAgICAgICBmb2xkZXIgPSBhd2FpdCB0aGlzLnN0b3JhZ2UuY3JlYXRlRm9sZGVyKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbGRlck5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRGb2xkZXJJZDogcGFyZW50SWQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQ3JlYXRlZCBmb2xkZXIgJHtmb2xkZXJOYW1lfSAoJHtmb2xkZXIuaWR9KSB1bmRlciAke3BhcmVudElkfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTdG9yZSBpbiBvdXIgbG9jYWwgY2FjaGVcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZWRGb2xkZXJzW2NhY2hlS2V5XSA9IGZvbGRlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9sZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgaW4gZ2V0T3JDcmVhdGVGb2xkZXIoJHtmb2xkZXJOYW1lfSwgJHtwYXJlbnRJZH0pOmAsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIHRoZSBwcm9taXNlIGFmdGVyIGNvbXBsZXRpb25cbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5mb2xkZXJDcmVhdGlvblByb21pc2VzW2NhY2hlS2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9sZGVyQ3JlYXRpb25Qcm9taXNlc1tjYWNoZUtleV07XG4gICAgfVxuICAgIGFzeW5jIGZpbmRGaWxlc0luRm9sZGVyKGZvbGRlck5hbWUpIHtcbiAgICAgICAgY29uc3QgZm9sZGVycyA9IGF3YWl0IHRoaXMuc3RvcmFnZS5maW5kRm9sZGVycygpO1xuICAgICAgICBjb25zdCBmb2xkZXIgPSBmb2xkZXJzLmZpbmQoKGZvbGRlcikgPT4gZm9sZGVyLm5hbWUgPT09IGZvbGRlck5hbWUpO1xuICAgICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2ZvbGRlck5hbWV9IGZvbGRlciBub3QgZm91bmRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmZpbmRGaWxlc1VuZGVyRm9sZGVyKGZvbGRlci5pZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJlc3VtZSBleHRlbmRzIFN0b3JhZ2VIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzdG9yYWdlKSB7XG4gICAgICAgIHN1cGVyKHN0b3JhZ2UpO1xuICAgIH1cbiAgICBhc3luYyBzYXZlUmVzdW1lKHsgcmVzdW1lLCB0eXBlIH0pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCByb290Rm9sZGVyID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUZvbGRlcihyZXN1bWVGb2xkZXJUeXBlcy5yb290LCAncm9vdCcpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgfiBSZXN1bWUgfiBzYXZlUmVzdW1lIH4gcm9vdEZvbGRlcjonLCByb290Rm9sZGVyKTtcbiAgICAgICAgICAgIC8vIEdldCBvciBjcmVhdGUgdGhlIHN1YmZvbGRlclxuICAgICAgICAgICAgY29uc3Qgc3ViRm9sZGVyTmFtZSA9IHR5cGUgPT09ICdzaWduJyA/IHJlc3VtZUZvbGRlclR5cGVzLnNpZ25lZCA6IHJlc3VtZUZvbGRlclR5cGVzLm5vblNpZ25lZDtcbiAgICAgICAgICAgIGNvbnN0IHN1YkZvbGRlciA9IGF3YWl0IHRoaXMuZ2V0T3JDcmVhdGVGb2xkZXIoc3ViRm9sZGVyTmFtZSwgcm9vdEZvbGRlci5pZCk7XG4gICAgICAgICAgICAvLyBTYXZlIHRoZSBmaWxlIGluIHRoZSBzdWJmb2xkZXJcbiAgICAgICAgICAgIGNvbnN0IHNhdmVkUmVzdW1lID0gYXdhaXQgdGhpcy5zdG9yYWdlLnNhdmVGaWxlKHtcbiAgICAgICAgICAgICAgICBmb2xkZXJJZDogc3ViRm9sZGVyLmlkLCAvLyBFbnN1cmUgdGhpcyBwb2ludHMgdG8gdGhlIHN1YmZvbGRlclxuICAgICAgICAgICAgICAgIGRhdGE6IHJlc3VtZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNhdmVkUmVzdW1lO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciB3aGlsZSBzYXZpbmcgJHt0eXBlfSByZXN1bWU6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBmaW5kKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc2lnbmVkUmVzdW1lcyA9IGF3YWl0IHRoaXMuZ2V0U2lnbmVkUmVzdW1lcygpO1xuICAgICAgICAgICAgY29uc3Qgbm9uU2lnbmVkUmVzdW1lcyA9IGF3YWl0IHRoaXMuZ2V0Tm9uU2lnbmVkUmVzdW1lcygpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzaWduZWQ6IHNpZ25lZFJlc3VtZXMsXG4gICAgICAgICAgICAgICAgbm9uU2lnbmVkOiBub25TaWduZWRSZXN1bWVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgZmV0Y2hpbmcgcmVzdW1lOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0U2lnbmVkUmVzdW1lcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHJvb3QgZm9sZGVyIGZpcnN0XG4gICAgICAgICAgICBjb25zdCByb290Rm9sZGVyID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUZvbGRlcihyZXN1bWVGb2xkZXJUeXBlcy5yb290LCAncm9vdCcpO1xuICAgICAgICAgICAgLy8gRmluZCBvciBjcmVhdGUgdGhlIHNpZ25lZCByZXN1bWVzIGZvbGRlclxuICAgICAgICAgICAgY29uc3Qgc2lnbmVkRm9sZGVyID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUZvbGRlcihyZXN1bWVGb2xkZXJUeXBlcy5zaWduZWQsIHJvb3RGb2xkZXIuaWQpO1xuICAgICAgICAgICAgLy8gUmV0cmlldmUgYWxsIGZpbGVzIGZyb20gdGhlIHNpZ25lZCBmb2xkZXJcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gYXdhaXQgdGhpcy5zdG9yYWdlLmZpbmRGaWxlc1VuZGVyRm9sZGVyKHNpZ25lZEZvbGRlci5pZCk7XG4gICAgICAgICAgICByZXR1cm4gZmlsZXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHdoaWxlIGZldGNoaW5nIHNpZ25lZCByZXN1bWVzOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgZ2V0Tm9uU2lnbmVkUmVzdW1lcygpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEZpbmQgdGhlIHJvb3QgZm9sZGVyIGZpcnN0XG4gICAgICAgICAgICBjb25zdCByb290Rm9sZGVyID0gYXdhaXQgdGhpcy5nZXRPckNyZWF0ZUZvbGRlcihyZXN1bWVGb2xkZXJUeXBlcy5yb290LCAncm9vdCcpO1xuICAgICAgICAgICAgLy8gRmluZCBvciBjcmVhdGUgdGhlIG5vbi1zaWduZWQgcmVzdW1lcyBmb2xkZXJcbiAgICAgICAgICAgIGNvbnN0IG5vblNpZ25lZEZvbGRlciA9IGF3YWl0IHRoaXMuZ2V0T3JDcmVhdGVGb2xkZXIocmVzdW1lRm9sZGVyVHlwZXMubm9uU2lnbmVkLCByb290Rm9sZGVyLmlkKTtcbiAgICAgICAgICAgIC8vIFJldHJpZXZlIGFsbCBmaWxlcyBmcm9tIHRoZSBub24tc2lnbmVkIGZvbGRlclxuICAgICAgICAgICAgY29uc3QgZmlsZXMgPSBhd2FpdCB0aGlzLnN0b3JhZ2UuZmluZEZpbGVzVW5kZXJGb2xkZXIobm9uU2lnbmVkRm9sZGVyLmlkKTtcbiAgICAgICAgICAgIHJldHVybiBmaWxlcztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3Igd2hpbGUgZmV0Y2hpbmcgbm9uLXNpZ25lZCByZXN1bWVzOiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgc2F2ZVJlc3VtZURyYWZ0KGRhdGEsIHNpZ25lZFJlc3VtZUlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlTmFtZSA9IGBGaW5hbERyYWZ0XyR7c2lnbmVkUmVzdW1lSWR9Lmpzb25gO1xuICAgICAgICAgICAgLy8gMS4gRmluZCBvciBjcmVhdGUgcm9vdCBhbmQgTk9OX1NJR05FRF9SRVNVTUVTIGZvbGRlclxuICAgICAgICAgICAgY29uc3Qgcm9vdEZvbGRlciA9IGF3YWl0IHRoaXMuZ2V0T3JDcmVhdGVGb2xkZXIocmVzdW1lRm9sZGVyVHlwZXMucm9vdCwgJ3Jvb3QnKTtcbiAgICAgICAgICAgIGNvbnN0IG5vblNpZ25lZEZvbGRlciA9IGF3YWl0IHRoaXMuZ2V0T3JDcmVhdGVGb2xkZXIocmVzdW1lRm9sZGVyVHlwZXMubm9uU2lnbmVkLCByb290Rm9sZGVyLmlkKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFXaXRoRmlsZU5hbWUgPSB7XG4gICAgICAgICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICAgICAgICBmaWxlTmFtZTogYEZpbmFsRHJhZnRfJHtzaWduZWRSZXN1bWVJZH0uanNvbmAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gU2F2ZSB0aGUgZmlsZVxuICAgICAgICAgICAgY29uc3Qgc2F2ZWREcmFmdCA9IGF3YWl0IHRoaXMuc3RvcmFnZS5zYXZlRmlsZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YVdpdGhGaWxlTmFtZSxcbiAgICAgICAgICAgICAgICBmb2xkZXJJZDogbm9uU2lnbmVkRm9sZGVyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIERyYWZ0IHNhdmVkIGFzICR7ZmlsZU5hbWV9YCk7XG4gICAgICAgICAgICByZXR1cm4gc2F2ZWREcmFmdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBFcnJvciBzYXZpbmcgcmVzdW1lIGRyYWZ0OicsIGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhdmUgcmVzdW1lIGRyYWZ0OiAnICsgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaXNSZXN1bWVGb2xkZXJFeGlzdCgpIHsgfVxufVxuZXhwb3J0IGRlZmF1bHQgUmVzdW1lO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/models/Resume.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/models/ResumeVC.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/models/ResumeVC.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResumeVC: () => (/* binding */ ResumeVC)\n/* harmony export */ });\n/* harmony import */ var _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @digitalbazaar/ed25519-signature-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-signature-2020/lib/index.js\");\n/* harmony import */ var _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/digitalbazaar.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/digitalbazaar.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @digitalbazaar/vc */ \"(ssr)/./node_modules/@digitalbazaar/vc/lib/index.js\");\n/* harmony import */ var _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @digitalbazaar/ed25519-verification-key-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-verification-key-2020/lib/index.js\");\n/* harmony import */ var _utils_credential_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/credential.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/credential.js\");\n/* harmony import */ var _utils_context_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/context.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/context.js\");\n\n\n\n\n\n\n\nclass ResumeVC {\n    async sign({ formData, issuerDid, keyPair }) {\n        const unsignedCredential = this.generateUnsignedCredential({ formData, issuerDid });\n        const suite = new _digitalbazaar_ed25519_signature_2020__WEBPACK_IMPORTED_MODULE_0__.Ed25519Signature2020({\n            key: new _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_3__.Ed25519VerificationKey2020(keyPair), // Ensure proper initialization\n            verificationMethod: keyPair.id,\n        });\n        try {\n            const signedVC = await _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.issue({\n                credential: unsignedCredential,\n                suite,\n                documentLoader: _utils_digitalbazaar_js__WEBPACK_IMPORTED_MODULE_1__.customDocumentLoader,\n            });\n            console.log('Signed VC:', signedVC);\n        }\n        catch (error) {\n            console.error('Error signing VC:', error.message);\n            if (error.details) {\n                console.error('Error details:', JSON.stringify(error.details, null, 2));\n            }\n            throw error;\n        }\n        return unsignedCredential;\n    }\n    generateUnsignedCredential({ formData, issuerDid }) {\n        const unsignedResumeVC = {\n            '@context': ['https://www.w3.org/2018/credentials/v1', _utils_context_js__WEBPACK_IMPORTED_MODULE_5__.inlineResumeContext['@context']],\n            id: `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n            type: ['VerifiableCredential', 'LERRSCredential'],\n            issuer: issuerDid,\n            issuanceDate: new Date().toISOString(),\n            credentialSubject: {\n                type: 'Resume',\n                person: {\n                    name: {\n                        formattedName: formData.name || '',\n                    },\n                    primaryLanguage: 'en',\n                    contact: {\n                        fullName: formData.contact.fullName || '',\n                        email: formData.contact.email || '',\n                        phone: formData.contact.phone || '',\n                        location: {\n                            street: formData.contact.location.street || '',\n                            city: formData.contact.location.city || '',\n                            state: formData.contact.location.state || '',\n                            country: formData.contact.location.country || '',\n                            postalCode: formData.contact.location.postalCode || '',\n                        },\n                        socialLinks: {\n                            linkedin: formData.contact.socialLinks.linkedin || '',\n                            github: formData.contact.socialLinks.github || '',\n                            portfolio: formData.contact.socialLinks.portfolio || '',\n                            twitter: formData.contact.socialLinks.twitter || '',\n                        },\n                    },\n                },\n                narrative: {\n                    text: formData.summary || '',\n                },\n                employmentHistory: formData.experience.items.map((exp) => ({\n                    id: exp.id ? `urn:uuid${exp.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`, // Ensure each entry has an ID\n                    organization: {\n                        tradeName: exp.company || '',\n                    },\n                    title: exp.title || '',\n                    description: exp.description || '',\n                    duration: exp.duration || '',\n                    startDate: exp.startDate || '',\n                    endDate: exp.endDate || '',\n                    stillEmployed: exp.stillEmployed || false,\n                    verificationStatus: exp.verificationStatus || 'unverified',\n                    credentialLink: exp.credentialLink || null,\n                    verifiedCredentials: exp.verifiedCredentials || [],\n                })),\n                educationAndLearning: formData.education.items.map((edu) => ({\n                    id: edu.id ? `urn:uuid${edu.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    institution: edu.institution || '',\n                    degree: edu.degree || '',\n                    fieldOfStudy: edu.fieldOfStudy || '',\n                    duration: edu.duration || '',\n                    startDate: edu.startDate || '',\n                    endDate: edu.endDate || '',\n                    verificationStatus: edu.verificationStatus || 'unverified',\n                    credentialLink: edu.credentialLink || null,\n                    verifiedCredentials: edu.verifiedCredentials || [],\n                })),\n                skills: formData.skills.items.map((skill) => ({\n                    id: skill.id ? `urn:uuid${skill.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    name: skill.name || '',\n                    verificationStatus: skill.verificationStatus || 'unverified',\n                    credentialLink: skill.credentialLink || null,\n                    verifiedCredentials: skill.verifiedCredentials || [],\n                })),\n                certifications: formData.certifications.items.map((cert) => ({\n                    id: cert.id ? `urn:uuid:${cert.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    name: cert.name || '',\n                    issuer: cert.issuer || '',\n                    date: cert.date || '',\n                    url: cert.url || '',\n                    verificationStatus: cert.verificationStatus || 'unverified',\n                    credentialLink: cert.credentialLink || null,\n                    verifiedCredentials: cert.verifiedCredentials || [],\n                })),\n                projects: formData.projects.items.map((proj) => ({\n                    id: proj.id ? `urn:uuid${proj.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    name: proj.name || '',\n                    description: proj.description || '',\n                    url: proj.url || '',\n                    duration: proj.duration || '',\n                    startDate: proj.startDate || '',\n                    endDate: proj.endDate || '',\n                    verificationStatus: proj.verificationStatus || 'unverified',\n                    credentialLink: proj.credentialLink || null,\n                    verifiedCredentials: proj.verifiedCredentials || [],\n                })),\n                professionalAffiliations: formData.professionalAffiliations.items.map((aff) => ({\n                    id: aff.id ? `urn:uuid:${aff.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    name: aff.name || '',\n                    organization: aff.organization || '',\n                    startDate: aff.startDate || '',\n                    endDate: aff.endDate || '',\n                    activeAffiliation: aff.activeAffiliation || false,\n                    duration: aff.duration || '',\n                    verificationStatus: aff.verificationStatus || 'unverified',\n                    credentialLink: aff.credentialLink || '',\n                    selectedCredentials: aff.selectedCredentials || [],\n                })),\n                volunteerWork: formData.volunteerWork.items.map((vol) => ({\n                    id: vol.id ? `urn:uuid:${vol.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    role: vol.role || '',\n                    organization: vol.organization || '',\n                    location: vol.location || '',\n                    startDate: vol.startDate || '',\n                    endDate: vol.endDate || '',\n                    currentlyVolunteering: vol.currentlyVolunteering || false,\n                    description: vol.description || '',\n                    duration: vol.duration || '',\n                    verificationStatus: vol.verificationStatus || 'unverified',\n                    credentialLink: vol.credentialLink || '',\n                    selectedCredentials: vol.selectedCredentials || [],\n                })),\n                hobbiesAndInterests: formData.hobbiesAndInterests || [],\n                languages: formData.languages.items.map((lang) => ({\n                    id: lang.id ? `urn:uuid:${lang.id}` : `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_6__[\"default\"])()}`,\n                    name: lang.name || '',\n                    proficiency: lang.proficiency || '',\n                })),\n            },\n        };\n        console.log('🚀 ~ ResumeVC ~ generateUnsignedCredential ~ unsignedResumeVC:', JSON.stringify(unsignedResumeVC));\n        return unsignedResumeVC;\n    }\n    generateKeyPair = async (address) => {\n        // Generate the key pair using the library's method\n        const keyPair = await _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_3__.Ed25519VerificationKey2020.generate();\n        // Configure key pair attributes\n        const a = address || keyPair.publicKeyMultibase;\n        keyPair.controller = `did:key:${a}`;\n        keyPair.id = `${keyPair.controller}#${a}`;\n        keyPair.revoked = false;\n        // The `signer` is already provided by the `Ed25519VerificationKey2020` instance\n        return keyPair;\n    };\n    /**\n     * Create a new DID with Digital Bazaar's Ed25519VerificationKey2020 key pair.\n     * @returns {Promise<{didDocument: object, keyPair: object}>} The created DID document and key pair.\n     * @throws Will throw an error if DID creation fails.\n     */\n    async createDID({ keyPair }) {\n        try {\n            const didDocument = await (0,_utils_credential_js__WEBPACK_IMPORTED_MODULE_4__.generateDIDSchema)(keyPair);\n            return didDocument;\n        }\n        catch (error) {\n            console.error('Error creating DID:', error);\n            throw error;\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC9tb2RlbHMvUmVzdW1lVkMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNkU7QUFDWjtBQUM3QjtBQUNNO0FBQ2dEO0FBQy9CO0FBQ0Q7QUFDbkQ7QUFDUCxpQkFBaUIsOEJBQThCO0FBQy9DLHFFQUFxRSxxQkFBcUI7QUFDMUYsMEJBQTBCLHVGQUFvQjtBQUM5QyxxQkFBcUIsb0dBQTBCO0FBQy9DO0FBQ0EsU0FBUztBQUNUO0FBQ0EsbUNBQW1DLG9EQUFVO0FBQzdDO0FBQ0E7QUFDQSxnQ0FBZ0MseUVBQW9CO0FBQ3BELGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHFCQUFxQjtBQUN0RDtBQUNBLG1FQUFtRSxrRUFBbUI7QUFDdEYsNEJBQTRCLGdEQUFNLEdBQUc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNENBQTRDLE9BQU8sZ0JBQWdCLGdEQUFNLEdBQUc7QUFDNUU7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw0Q0FBNEMsT0FBTyxnQkFBZ0IsZ0RBQU0sR0FBRztBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw4Q0FBOEMsU0FBUyxnQkFBZ0IsZ0RBQU0sR0FBRztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDhDQUE4QyxRQUFRLGdCQUFnQixnREFBTSxHQUFHO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLFFBQVEsZ0JBQWdCLGdEQUFNLEdBQUc7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLE9BQU8sZ0JBQWdCLGdEQUFNLEdBQUc7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsNkNBQTZDLE9BQU8sZ0JBQWdCLGdEQUFNLEdBQUc7QUFDN0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsOENBQThDLFFBQVEsZ0JBQWdCLGdEQUFNLEdBQUc7QUFDL0U7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLG9HQUEwQjtBQUN4RDtBQUNBO0FBQ0Esd0NBQXdDLEVBQUU7QUFDMUMsd0JBQXdCLG1CQUFtQixHQUFHLEVBQUU7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLFNBQVMscUNBQXFDLEdBQUc7QUFDbEU7QUFDQTtBQUNBLHNCQUFzQixTQUFTO0FBQy9CO0FBQ0Esc0NBQXNDLHVFQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvbW9kZWxzL1Jlc3VtZVZDLmpzP2IzNjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWQyNTUxOVNpZ25hdHVyZTIwMjAgfSBmcm9tICdAZGlnaXRhbGJhemFhci9lZDI1NTE5LXNpZ25hdHVyZS0yMDIwJztcbmltcG9ydCB7IGN1c3RvbURvY3VtZW50TG9hZGVyIH0gZnJvbSAnLi4vdXRpbHMvZGlnaXRhbGJhemFhci5qcyc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCAqIGFzIGRiVmMgZnJvbSAnQGRpZ2l0YWxiYXphYXIvdmMnO1xuaW1wb3J0IHsgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjAgfSBmcm9tICdAZGlnaXRhbGJhemFhci9lZDI1NTE5LXZlcmlmaWNhdGlvbi1rZXktMjAyMCc7XG5pbXBvcnQgeyBnZW5lcmF0ZURJRFNjaGVtYSB9IGZyb20gJy4uL3V0aWxzL2NyZWRlbnRpYWwuanMnO1xuaW1wb3J0IHsgaW5saW5lUmVzdW1lQ29udGV4dCB9IGZyb20gJy4uL3V0aWxzL2NvbnRleHQuanMnO1xuZXhwb3J0IGNsYXNzIFJlc3VtZVZDIHtcbiAgICBhc3luYyBzaWduKHsgZm9ybURhdGEsIGlzc3VlckRpZCwga2V5UGFpciB9KSB7XG4gICAgICAgIGNvbnN0IHVuc2lnbmVkQ3JlZGVudGlhbCA9IHRoaXMuZ2VuZXJhdGVVbnNpZ25lZENyZWRlbnRpYWwoeyBmb3JtRGF0YSwgaXNzdWVyRGlkIH0pO1xuICAgICAgICBjb25zdCBzdWl0ZSA9IG5ldyBFZDI1NTE5U2lnbmF0dXJlMjAyMCh7XG4gICAgICAgICAgICBrZXk6IG5ldyBFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMChrZXlQYWlyKSwgLy8gRW5zdXJlIHByb3BlciBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uTWV0aG9kOiBrZXlQYWlyLmlkLFxuICAgICAgICB9KTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHNpZ25lZFZDID0gYXdhaXQgZGJWYy5pc3N1ZSh7XG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbDogdW5zaWduZWRDcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgIHN1aXRlLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50TG9hZGVyOiBjdXN0b21Eb2N1bWVudExvYWRlcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NpZ25lZCBWQzonLCBzaWduZWRWQyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzaWduaW5nIFZDOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgaWYgKGVycm9yLmRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZXRhaWxzOicsIEpTT04uc3RyaW5naWZ5KGVycm9yLmRldGFpbHMsIG51bGwsIDIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bnNpZ25lZENyZWRlbnRpYWw7XG4gICAgfVxuICAgIGdlbmVyYXRlVW5zaWduZWRDcmVkZW50aWFsKHsgZm9ybURhdGEsIGlzc3VlckRpZCB9KSB7XG4gICAgICAgIGNvbnN0IHVuc2lnbmVkUmVzdW1lVkMgPSB7XG4gICAgICAgICAgICAnQGNvbnRleHQnOiBbJ2h0dHBzOi8vd3d3LnczLm9yZy8yMDE4L2NyZWRlbnRpYWxzL3YxJywgaW5saW5lUmVzdW1lQ29udGV4dFsnQGNvbnRleHQnXV0sXG4gICAgICAgICAgICBpZDogYHVybjp1dWlkOiR7dXVpZHY0KCl9YCxcbiAgICAgICAgICAgIHR5cGU6IFsnVmVyaWZpYWJsZUNyZWRlbnRpYWwnLCAnTEVSUlNDcmVkZW50aWFsJ10sXG4gICAgICAgICAgICBpc3N1ZXI6IGlzc3VlckRpZCxcbiAgICAgICAgICAgIGlzc3VhbmNlRGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY3JlZGVudGlhbFN1YmplY3Q6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnUmVzdW1lJyxcbiAgICAgICAgICAgICAgICBwZXJzb246IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkTmFtZTogZm9ybURhdGEubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUxhbmd1YWdlOiAnZW4nLFxuICAgICAgICAgICAgICAgICAgICBjb250YWN0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdWxsTmFtZTogZm9ybURhdGEuY29udGFjdC5mdWxsTmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBmb3JtRGF0YS5jb250YWN0LmVtYWlsIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGZvcm1EYXRhLmNvbnRhY3QucGhvbmUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmVldDogZm9ybURhdGEuY29udGFjdC5sb2NhdGlvbi5zdHJlZXQgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2l0eTogZm9ybURhdGEuY29udGFjdC5sb2NhdGlvbi5jaXR5IHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiBmb3JtRGF0YS5jb250YWN0LmxvY2F0aW9uLnN0YXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50cnk6IGZvcm1EYXRhLmNvbnRhY3QubG9jYXRpb24uY291bnRyeSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBmb3JtRGF0YS5jb250YWN0LmxvY2F0aW9uLnBvc3RhbENvZGUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc29jaWFsTGlua3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5rZWRpbjogZm9ybURhdGEuY29udGFjdC5zb2NpYWxMaW5rcy5saW5rZWRpbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnaXRodWI6IGZvcm1EYXRhLmNvbnRhY3Quc29jaWFsTGlua3MuZ2l0aHViIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcnRmb2xpbzogZm9ybURhdGEuY29udGFjdC5zb2NpYWxMaW5rcy5wb3J0Zm9saW8gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHdpdHRlcjogZm9ybURhdGEuY29udGFjdC5zb2NpYWxMaW5rcy50d2l0dGVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG5hcnJhdGl2ZToge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmb3JtRGF0YS5zdW1tYXJ5IHx8ICcnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW1wbG95bWVudEhpc3Rvcnk6IGZvcm1EYXRhLmV4cGVyaWVuY2UuaXRlbXMubWFwKChleHApID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBleHAuaWQgPyBgdXJuOnV1aWQke2V4cC5pZH1gIDogYHVybjp1dWlkOiR7dXVpZHY0KCl9YCwgLy8gRW5zdXJlIGVhY2ggZW50cnkgaGFzIGFuIElEXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVOYW1lOiBleHAuY29tcGFueSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGV4cC50aXRsZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV4cC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGV4cC5kdXJhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBleHAuc3RhcnREYXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiBleHAuZW5kRGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3RpbGxFbXBsb3llZDogZXhwLnN0aWxsRW1wbG95ZWQgfHwgZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvblN0YXR1czogZXhwLnZlcmlmaWNhdGlvblN0YXR1cyB8fCAndW52ZXJpZmllZCcsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxMaW5rOiBleHAuY3JlZGVudGlhbExpbmsgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRDcmVkZW50aWFsczogZXhwLnZlcmlmaWVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGVkdWNhdGlvbkFuZExlYXJuaW5nOiBmb3JtRGF0YS5lZHVjYXRpb24uaXRlbXMubWFwKChlZHUpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBlZHUuaWQgPyBgdXJuOnV1aWQke2VkdS5pZH1gIDogYHVybjp1dWlkOiR7dXVpZHY0KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdGl0dXRpb246IGVkdS5pbnN0aXR1dGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZGVncmVlOiBlZHUuZGVncmVlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZE9mU3R1ZHk6IGVkdS5maWVsZE9mU3R1ZHkgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBlZHUuZHVyYXRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogZWR1LnN0YXJ0RGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogZWR1LmVuZERhdGUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvblN0YXR1czogZWR1LnZlcmlmaWNhdGlvblN0YXR1cyB8fCAndW52ZXJpZmllZCcsXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxMaW5rOiBlZHUuY3JlZGVudGlhbExpbmsgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRDcmVkZW50aWFsczogZWR1LnZlcmlmaWVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHNraWxsczogZm9ybURhdGEuc2tpbGxzLml0ZW1zLm1hcCgoc2tpbGwpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBza2lsbC5pZCA/IGB1cm46dXVpZCR7c2tpbGwuaWR9YCA6IGB1cm46dXVpZDoke3V1aWR2NCgpfWAsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHNraWxsLm5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvblN0YXR1czogc2tpbGwudmVyaWZpY2F0aW9uU3RhdHVzIHx8ICd1bnZlcmlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbExpbms6IHNraWxsLmNyZWRlbnRpYWxMaW5rIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWVkQ3JlZGVudGlhbHM6IHNraWxsLnZlcmlmaWVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGNlcnRpZmljYXRpb25zOiBmb3JtRGF0YS5jZXJ0aWZpY2F0aW9ucy5pdGVtcy5tYXAoKGNlcnQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBjZXJ0LmlkID8gYHVybjp1dWlkOiR7Y2VydC5pZH1gIDogYHVybjp1dWlkOiR7dXVpZHY0KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogY2VydC5uYW1lIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBpc3N1ZXI6IGNlcnQuaXNzdWVyIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBkYXRlOiBjZXJ0LmRhdGUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHVybDogY2VydC51cmwgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvblN0YXR1czogY2VydC52ZXJpZmljYXRpb25TdGF0dXMgfHwgJ3VudmVyaWZpZWQnLFxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsTGluazogY2VydC5jcmVkZW50aWFsTGluayB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICB2ZXJpZmllZENyZWRlbnRpYWxzOiBjZXJ0LnZlcmlmaWVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHByb2plY3RzOiBmb3JtRGF0YS5wcm9qZWN0cy5pdGVtcy5tYXAoKHByb2opID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBwcm9qLmlkID8gYHVybjp1dWlkJHtwcm9qLmlkfWAgOiBgdXJuOnV1aWQ6JHt1dWlkdjQoKX1gLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwcm9qLm5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBwcm9qLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHByb2oudXJsIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogcHJvai5kdXJhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBwcm9qLnN0YXJ0RGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogcHJvai5lbmREYXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICB2ZXJpZmljYXRpb25TdGF0dXM6IHByb2oudmVyaWZpY2F0aW9uU3RhdHVzIHx8ICd1bnZlcmlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbExpbms6IHByb2ouY3JlZGVudGlhbExpbmsgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpZWRDcmVkZW50aWFsczogcHJvai52ZXJpZmllZENyZWRlbnRpYWxzIHx8IFtdLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICBwcm9mZXNzaW9uYWxBZmZpbGlhdGlvbnM6IGZvcm1EYXRhLnByb2Zlc3Npb25hbEFmZmlsaWF0aW9ucy5pdGVtcy5tYXAoKGFmZikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGFmZi5pZCA/IGB1cm46dXVpZDoke2FmZi5pZH1gIDogYHVybjp1dWlkOiR7dXVpZHY0KCl9YCxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogYWZmLm5hbWUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogYWZmLm9yZ2FuaXphdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREYXRlOiBhZmYuc3RhcnREYXRlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBlbmREYXRlOiBhZmYuZW5kRGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlQWZmaWxpYXRpb246IGFmZi5hY3RpdmVBZmZpbGlhdGlvbiB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGFmZi5kdXJhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uU3RhdHVzOiBhZmYudmVyaWZpY2F0aW9uU3RhdHVzIHx8ICd1bnZlcmlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbExpbms6IGFmZi5jcmVkZW50aWFsTGluayB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDcmVkZW50aWFsczogYWZmLnNlbGVjdGVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHZvbHVudGVlcldvcms6IGZvcm1EYXRhLnZvbHVudGVlcldvcmsuaXRlbXMubWFwKCh2b2wpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB2b2wuaWQgPyBgdXJuOnV1aWQ6JHt2b2wuaWR9YCA6IGB1cm46dXVpZDoke3V1aWR2NCgpfWAsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IHZvbC5yb2xlIHx8ICcnLFxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6YXRpb246IHZvbC5vcmdhbml6YXRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB2b2wubG9jYXRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RGF0ZTogdm9sLnN0YXJ0RGF0ZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZW5kRGF0ZTogdm9sLmVuZERhdGUgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRseVZvbHVudGVlcmluZzogdm9sLmN1cnJlbnRseVZvbHVudGVlcmluZyB8fCBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHZvbC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IHZvbC5kdXJhdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uU3RhdHVzOiB2b2wudmVyaWZpY2F0aW9uU3RhdHVzIHx8ICd1bnZlcmlmaWVkJyxcbiAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbExpbms6IHZvbC5jcmVkZW50aWFsTGluayB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDcmVkZW50aWFsczogdm9sLnNlbGVjdGVkQ3JlZGVudGlhbHMgfHwgW10sXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGhvYmJpZXNBbmRJbnRlcmVzdHM6IGZvcm1EYXRhLmhvYmJpZXNBbmRJbnRlcmVzdHMgfHwgW10sXG4gICAgICAgICAgICAgICAgbGFuZ3VhZ2VzOiBmb3JtRGF0YS5sYW5ndWFnZXMuaXRlbXMubWFwKChsYW5nKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBpZDogbGFuZy5pZCA/IGB1cm46dXVpZDoke2xhbmcuaWR9YCA6IGB1cm46dXVpZDoke3V1aWR2NCgpfWAsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGxhbmcubmFtZSB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgcHJvZmljaWVuY3k6IGxhbmcucHJvZmljaWVuY3kgfHwgJycsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfmoAgfiBSZXN1bWVWQyB+IGdlbmVyYXRlVW5zaWduZWRDcmVkZW50aWFsIH4gdW5zaWduZWRSZXN1bWVWQzonLCBKU09OLnN0cmluZ2lmeSh1bnNpZ25lZFJlc3VtZVZDKSk7XG4gICAgICAgIHJldHVybiB1bnNpZ25lZFJlc3VtZVZDO1xuICAgIH1cbiAgICBnZW5lcmF0ZUtleVBhaXIgPSBhc3luYyAoYWRkcmVzcykgPT4ge1xuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUga2V5IHBhaXIgdXNpbmcgdGhlIGxpYnJhcnkncyBtZXRob2RcbiAgICAgICAgY29uc3Qga2V5UGFpciA9IGF3YWl0IEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwLmdlbmVyYXRlKCk7XG4gICAgICAgIC8vIENvbmZpZ3VyZSBrZXkgcGFpciBhdHRyaWJ1dGVzXG4gICAgICAgIGNvbnN0IGEgPSBhZGRyZXNzIHx8IGtleVBhaXIucHVibGljS2V5TXVsdGliYXNlO1xuICAgICAgICBrZXlQYWlyLmNvbnRyb2xsZXIgPSBgZGlkOmtleToke2F9YDtcbiAgICAgICAga2V5UGFpci5pZCA9IGAke2tleVBhaXIuY29udHJvbGxlcn0jJHthfWA7XG4gICAgICAgIGtleVBhaXIucmV2b2tlZCA9IGZhbHNlO1xuICAgICAgICAvLyBUaGUgYHNpZ25lcmAgaXMgYWxyZWFkeSBwcm92aWRlZCBieSB0aGUgYEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwYCBpbnN0YW5jZVxuICAgICAgICByZXR1cm4ga2V5UGFpcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBESUQgd2l0aCBEaWdpdGFsIEJhemFhcidzIEVkMjU1MTlWZXJpZmljYXRpb25LZXkyMDIwIGtleSBwYWlyLlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHtkaWREb2N1bWVudDogb2JqZWN0LCBrZXlQYWlyOiBvYmplY3R9Pn0gVGhlIGNyZWF0ZWQgRElEIGRvY3VtZW50IGFuZCBrZXkgcGFpci5cbiAgICAgKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgRElEIGNyZWF0aW9uIGZhaWxzLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZURJRCh7IGtleVBhaXIgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgZGlkRG9jdW1lbnQgPSBhd2FpdCBnZW5lcmF0ZURJRFNjaGVtYShrZXlQYWlyKTtcbiAgICAgICAgICAgIHJldHVybiBkaWREb2N1bWVudDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIERJRDonLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/models/ResumeVC.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/context.js":
/*!********************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/utils/context.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inlineResumeContext: () => (/* binding */ inlineResumeContext),\n/* harmony export */   localED25519Context: () => (/* binding */ localED25519Context),\n/* harmony export */   localOBContext: () => (/* binding */ localOBContext)\n/* harmony export */ });\nconst inlineResumeContext = {\n    '@context': {\n        '@vocab': 'https://schema.hropenstandards.org/4.4/',\n        // Basic details\n        name: 'https://schema.org/name',\n        formattedName: 'https://schema.org/formattedName',\n        primaryLanguage: 'https://schema.org/primaryLanguage',\n        // Narrative\n        narrative: 'https://schema.org/narrative',\n        text: 'https://schema.org/text',\n        // Contact Information\n        contact: 'https://schema.org/ContactPoint',\n        email: 'https://schema.org/email',\n        phone: 'https://schema.org/telephone',\n        location: 'https://schema.org/address',\n        street: 'https://schema.org/streetAddress',\n        city: 'https://schema.org/addressLocality',\n        state: 'https://schema.org/addressRegion',\n        country: 'https://schema.org/addressCountry',\n        postalCode: 'https://schema.org/postalCode',\n        socialLinks: {\n            '@id': 'https://schema.org/URL',\n            '@container': '@set',\n        },\n        linkedin: 'https://schema.org/sameAs',\n        github: 'https://schema.org/sameAs',\n        portfolio: 'https://schema.org/url',\n        twitter: 'https://schema.org/sameAs',\n        // Experience & Employment History\n        experience: {\n            '@id': 'https://schema.org/WorkExperience',\n            '@container': '@list',\n        },\n        employmentHistory: {\n            '@id': 'https://schema.org/employmentHistory',\n            '@container': '@list',\n        },\n        company: 'https://schema.org/worksFor',\n        position: 'https://schema.org/jobTitle',\n        description: 'https://schema.org/description',\n        startDate: 'https://schema.org/startDate',\n        endDate: 'https://schema.org/endDate',\n        stillEmployed: 'https://schema.org/Boolean',\n        duration: 'https://schema.org/temporalCoverage',\n        // Skills\n        skills: {\n            '@id': 'https://schema.org/skills',\n            '@container': '@list',\n        },\n        // Education\n        educationAndLearning: {\n            '@id': 'https://schema.org/EducationalOccupationalProgram',\n            '@container': '@list',\n        },\n        degree: 'https://schema.org/educationalCredentialAwarded',\n        fieldOfStudy: 'https://schema.org/studyField',\n        institution: 'https://schema.org/educationalInstitution',\n        year: 'https://schema.org/year',\n        // Awards\n        awards: {\n            '@id': 'https://schema.org/Achievement',\n            '@container': '@list',\n        },\n        title: 'https://schema.org/name',\n        issuer: 'https://schema.org/issuer',\n        date: 'https://schema.org/dateReceived',\n        // Publications\n        publications: {\n            '@id': 'https://schema.org/CreativeWork',\n            '@container': '@list',\n        },\n        publisher: 'https://schema.org/publisher',\n        url: 'https://schema.org/url',\n        // Certifications\n        certifications: {\n            '@id': 'https://schema.org/EducationalOccupationalCredential',\n            '@container': '@list',\n        },\n        // Professional Affiliations\n        professionalAffiliations: {\n            '@id': 'https://schema.org/OrganizationRole',\n            '@container': '@list',\n        },\n        organization: 'https://schema.org/memberOf',\n        role: 'https://schema.org/jobTitle',\n        activeAffiliation: 'https://schema.org/Boolean',\n        // Volunteer Work\n        volunteerWork: {\n            '@id': 'https://schema.org/VolunteerRole',\n            '@container': '@list',\n        },\n        currentlyVolunteering: 'https://schema.org/Boolean',\n        // Hobbies and Interests\n        hobbiesAndInterests: {\n            '@id': 'https://schema.org/knowsAbout',\n            '@container': '@set',\n        },\n        // Languages\n        languages: {\n            '@id': 'https://schema.org/knowsLanguage',\n            '@container': '@list',\n        },\n        language: 'https://schema.org/inLanguage',\n        proficiency: 'https://schema.org/proficiencyLevel',\n        // Testimonials\n        testimonials: {\n            '@id': 'https://schema.org/Review',\n            '@container': '@list',\n        },\n        author: 'https://schema.org/author',\n        // Projects\n        projects: {\n            '@id': 'https://schema.org/Project',\n            '@container': '@list',\n        },\n        // Issuance Information\n        issuanceDate: 'https://schema.org/issuanceDate',\n        credentialSubject: 'https://schema.org/credentialSubject',\n        person: 'https://schema.org/Person',\n        Resume: 'https://schema.hropenstandards.org/4.4#Resume',\n    },\n};\nconst localOBContext = {\n    '@context': {\n        '@protected': true,\n        id: '@id',\n        type: '@type',\n        OpenBadgeCredential: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#OpenBadgeCredential',\n        },\n        Achievement: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Achievement',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                achievementType: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#achievementType',\n                },\n                alignment: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#alignment',\n                    '@container': '@set',\n                },\n                creator: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#creator',\n                },\n                creditsAvailable: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#creditsAvailable',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#float',\n                },\n                criteria: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Criteria',\n                    '@type': '@id',\n                },\n                fieldOfStudy: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#fieldOfStudy',\n                },\n                humanCode: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#humanCode',\n                },\n                image: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#image',\n                    '@type': '@id',\n                },\n                otherIdentifier: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#otherIdentifier',\n                    '@container': '@set',\n                },\n                related: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#related',\n                    '@container': '@set',\n                },\n                resultDescription: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#resultDescription',\n                    '@container': '@set',\n                },\n                specialization: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#specialization',\n                },\n                tag: {\n                    '@id': 'https://schema.org/keywords',\n                    '@container': '@set',\n                },\n                version: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#version',\n                },\n                inLanguage: {\n                    '@id': 'https://schema.org/inLanguage',\n                },\n            },\n        },\n        AchievementCredential: {\n            '@id': 'OpenBadgeCredential',\n        },\n        AchievementSubject: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#AchievementSubject',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                achievement: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#achievement',\n                },\n                activityEndDate: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#activityEndDate',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#date',\n                },\n                activityStartDate: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#activityStartDate',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#date',\n                },\n                creditsEarned: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#creditsEarned',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#float',\n                },\n                identifier: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#identifier',\n                    '@container': '@set',\n                },\n                image: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#image',\n                    '@type': '@id',\n                },\n                licenseNumber: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#licenseNumber',\n                },\n                result: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#result',\n                    '@container': '@set',\n                },\n                role: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#role',\n                },\n                source: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#source',\n                    '@type': '@id',\n                },\n                term: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#term',\n                },\n            },\n        },\n        Address: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Address',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                addressCountry: {\n                    '@id': 'https://schema.org/addressCountry',\n                },\n                addressCountryCode: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#CountryCode',\n                },\n                addressLocality: {\n                    '@id': 'https://schema.org/addressLocality',\n                },\n                addressRegion: {\n                    '@id': 'https://schema.org/addressRegion',\n                },\n                geo: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#GeoCoordinates',\n                },\n                postOfficeBoxNumber: {\n                    '@id': 'https://schema.org/postOfficeBoxNumber',\n                },\n                postalCode: {\n                    '@id': 'https://schema.org/postalCode',\n                },\n                streetAddress: {\n                    '@id': 'https://schema.org/streetAddress',\n                },\n            },\n        },\n        Alignment: {\n            '@id': 'https://schema.org/AlignmentObject',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                targetCode: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#targetCode',\n                },\n                targetDescription: {\n                    '@id': 'https://schema.org/targetDescription',\n                },\n                targetFramework: {\n                    '@id': 'https://schema.org/targetFramework',\n                },\n                targetName: {\n                    '@id': 'https://schema.org/targetName',\n                },\n                targetType: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#targetType',\n                },\n                targetUrl: {\n                    '@id': 'https://schema.org/targetUrl',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#anyURI',\n                },\n            },\n        },\n        Criteria: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Criteria',\n        },\n        EndorsementCredential: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#EndorsementCredential',\n        },\n        EndorsementSubject: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#EndorsementSubject',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                endorsementComment: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#endorsementComment',\n                },\n            },\n        },\n        Evidence: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Evidence',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                audience: {\n                    '@id': 'https://schema.org/audience',\n                },\n                genre: {\n                    '@id': 'https://schema.org/genre',\n                },\n            },\n        },\n        GeoCoordinates: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#GeoCoordinates',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                latitude: {\n                    '@id': 'https://schema.org/latitude',\n                },\n                longitude: {\n                    '@id': 'https://schema.org/longitude',\n                },\n            },\n        },\n        IdentifierEntry: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#IdentifierEntry',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                identifier: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#identifier',\n                },\n                identifierType: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#identifierType',\n                },\n            },\n        },\n        IdentityObject: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#IdentityObject',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                hashed: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#hashed',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#boolean',\n                },\n                identityHash: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#identityHash',\n                },\n                identityType: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#identityType',\n                },\n                salt: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#salt',\n                },\n            },\n        },\n        Image: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Image',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                caption: {\n                    '@id': 'https://schema.org/caption',\n                },\n            },\n        },\n        Profile: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Profile',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                additionalName: {\n                    '@id': 'https://schema.org/additionalName',\n                },\n                address: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#address',\n                    '@type': '@id',\n                },\n                dateOfBirth: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#dateOfBirth',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#date',\n                },\n                email: {\n                    '@id': 'https://schema.org/email',\n                },\n                familyName: {\n                    '@id': 'https://schema.org/familyName',\n                },\n                familyNamePrefix: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#familyNamePrefix',\n                },\n                givenName: {\n                    '@id': 'https://schema.org/givenName',\n                },\n                honorificPrefix: {\n                    '@id': 'https://schema.org/honorificPrefix',\n                },\n                honorificSuffix: {\n                    '@id': 'https://schema.org/honorificSuffix',\n                },\n                image: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#image',\n                    '@type': '@id',\n                },\n                otherIdentifier: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#otherIdentifier',\n                    '@container': '@set',\n                },\n                parentOrg: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#parentOrg',\n                    '@type': '@id',\n                },\n                patronymicName: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#patronymicName',\n                },\n                phone: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#phone',\n                },\n                official: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#official',\n                },\n            },\n        },\n        Related: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Related',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                version: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#version',\n                },\n                inLanguage: {\n                    '@id': 'https://schema.org/inLanguage',\n                },\n            },\n        },\n        Result: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#Result',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                achievedLevel: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#achievedLevel',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#anyURI',\n                },\n                resultDescription: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#resultDescription',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#anyURI',\n                },\n                status: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#status',\n                },\n                value: {\n                    '@id': 'https://schema.org/value',\n                },\n            },\n        },\n        ResultDescription: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#ResultDescription',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                allowedValue: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#allowedValue',\n                    '@container': '@list',\n                },\n                requiredLevel: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#requiredLevel',\n                    '@type': 'https://www.w3.org/2001/XMLSchema#anyURI',\n                },\n                requiredValue: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#requiredValue',\n                },\n                resultType: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#resultType',\n                },\n                rubricCriterionLevel: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#rubricCriterionLevel',\n                    '@container': '@set',\n                },\n                valueMax: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#valueMax',\n                },\n                valueMin: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#valueMin',\n                },\n            },\n        },\n        RubricCriterionLevel: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#RubricCriterionLevel',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                level: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#level',\n                },\n                points: {\n                    '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#points',\n                },\n            },\n        },\n        alignment: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#alignment',\n            '@container': '@set',\n        },\n        description: {\n            '@id': 'https://schema.org/description',\n        },\n        endorsement: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#endorsement',\n            '@container': '@set',\n        },\n        image: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#image',\n            '@type': '@id',\n        },\n        inLanguage: {\n            '@id': 'https://schema.org/inLanguage',\n        },\n        name: {\n            '@id': 'https://schema.org/name',\n        },\n        narrative: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#narrative',\n        },\n        url: {\n            '@id': 'https://schema.org/url',\n            '@type': 'https://www.w3.org/2001/XMLSchema#anyURI',\n        },\n        awardedDate: {\n            '@id': 'https://purl.imsglobal.org/spec/vc/ob/vocab.html#awardedDate',\n            '@type': 'xsd:dateTime',\n        },\n    },\n};\nconst localED25519Context = {\n    '@context': {\n        id: '@id',\n        type: '@type',\n        '@protected': true,\n        proof: {\n            '@id': 'https://w3id.org/security#proof',\n            '@type': '@id',\n            '@container': '@graph',\n        },\n        Ed25519VerificationKey2020: {\n            '@id': 'https://w3id.org/security#Ed25519VerificationKey2020',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                controller: {\n                    '@id': 'https://w3id.org/security#controller',\n                    '@type': '@id',\n                },\n                revoked: {\n                    '@id': 'https://w3id.org/security#revoked',\n                    '@type': 'http://www.w3.org/2001/XMLSchema#dateTime',\n                },\n                publicKeyMultibase: {\n                    '@id': 'https://w3id.org/security#publicKeyMultibase',\n                    '@type': 'https://w3id.org/security#multibase',\n                },\n            },\n        },\n        Ed25519Signature2020: {\n            '@id': 'https://w3id.org/security#Ed25519Signature2020',\n            '@context': {\n                '@protected': true,\n                id: '@id',\n                type: '@type',\n                challenge: 'https://w3id.org/security#challenge',\n                created: {\n                    '@id': 'http://purl.org/dc/terms/created',\n                    '@type': 'http://www.w3.org/2001/XMLSchema#dateTime',\n                },\n                domain: 'https://w3id.org/security#domain',\n                expires: {\n                    '@id': 'https://w3id.org/security#expiration',\n                    '@type': 'http://www.w3.org/2001/XMLSchema#dateTime',\n                },\n                nonce: 'https://w3id.org/security#nonce',\n                proofPurpose: {\n                    '@id': 'https://w3id.org/security#proofPurpose',\n                    '@type': '@vocab',\n                    '@context': {\n                        '@protected': true,\n                        id: '@id',\n                        type: '@type',\n                        assertionMethod: {\n                            '@id': 'https://w3id.org/security#assertionMethod',\n                            '@type': '@id',\n                            '@container': '@set',\n                        },\n                        authentication: {\n                            '@id': 'https://w3id.org/security#authenticationMethod',\n                            '@type': '@id',\n                            '@container': '@set',\n                        },\n                        capabilityInvocation: {\n                            '@id': 'https://w3id.org/security#capabilityInvocationMethod',\n                            '@type': '@id',\n                            '@container': '@set',\n                        },\n                        capabilityDelegation: {\n                            '@id': 'https://w3id.org/security#capabilityDelegationMethod',\n                            '@type': '@id',\n                            '@container': '@set',\n                        },\n                        keyAgreement: {\n                            '@id': 'https://w3id.org/security#keyAgreementMethod',\n                            '@type': '@id',\n                            '@container': '@set',\n                        },\n                    },\n                },\n                proofValue: {\n                    '@id': 'https://w3id.org/security#proofValue',\n                    '@type': 'https://w3id.org/security#multibase',\n                },\n                verificationMethod: {\n                    '@id': 'https://w3id.org/security#verificationMethod',\n                    '@type': '@id',\n                },\n            },\n        },\n    },\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9jb250ZXh0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQytDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvdXRpbHMvY29udGV4dC5qcz82ODE1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBpbmxpbmVSZXN1bWVDb250ZXh0ID0ge1xuICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgJ0B2b2NhYic6ICdodHRwczovL3NjaGVtYS5ocm9wZW5zdGFuZGFyZHMub3JnLzQuNC8nLFxuICAgICAgICAvLyBCYXNpYyBkZXRhaWxzXG4gICAgICAgIG5hbWU6ICdodHRwczovL3NjaGVtYS5vcmcvbmFtZScsXG4gICAgICAgIGZvcm1hdHRlZE5hbWU6ICdodHRwczovL3NjaGVtYS5vcmcvZm9ybWF0dGVkTmFtZScsXG4gICAgICAgIHByaW1hcnlMYW5ndWFnZTogJ2h0dHBzOi8vc2NoZW1hLm9yZy9wcmltYXJ5TGFuZ3VhZ2UnLFxuICAgICAgICAvLyBOYXJyYXRpdmVcbiAgICAgICAgbmFycmF0aXZlOiAnaHR0cHM6Ly9zY2hlbWEub3JnL25hcnJhdGl2ZScsXG4gICAgICAgIHRleHQ6ICdodHRwczovL3NjaGVtYS5vcmcvdGV4dCcsXG4gICAgICAgIC8vIENvbnRhY3QgSW5mb3JtYXRpb25cbiAgICAgICAgY29udGFjdDogJ2h0dHBzOi8vc2NoZW1hLm9yZy9Db250YWN0UG9pbnQnLFxuICAgICAgICBlbWFpbDogJ2h0dHBzOi8vc2NoZW1hLm9yZy9lbWFpbCcsXG4gICAgICAgIHBob25lOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3RlbGVwaG9uZScsXG4gICAgICAgIGxvY2F0aW9uOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2FkZHJlc3MnLFxuICAgICAgICBzdHJlZXQ6ICdodHRwczovL3NjaGVtYS5vcmcvc3RyZWV0QWRkcmVzcycsXG4gICAgICAgIGNpdHk6ICdodHRwczovL3NjaGVtYS5vcmcvYWRkcmVzc0xvY2FsaXR5JyxcbiAgICAgICAgc3RhdGU6ICdodHRwczovL3NjaGVtYS5vcmcvYWRkcmVzc1JlZ2lvbicsXG4gICAgICAgIGNvdW50cnk6ICdodHRwczovL3NjaGVtYS5vcmcvYWRkcmVzc0NvdW50cnknLFxuICAgICAgICBwb3N0YWxDb2RlOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3Bvc3RhbENvZGUnLFxuICAgICAgICBzb2NpYWxMaW5rczoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvVVJMJyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICB9LFxuICAgICAgICBsaW5rZWRpbjogJ2h0dHBzOi8vc2NoZW1hLm9yZy9zYW1lQXMnLFxuICAgICAgICBnaXRodWI6ICdodHRwczovL3NjaGVtYS5vcmcvc2FtZUFzJyxcbiAgICAgICAgcG9ydGZvbGlvOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3VybCcsXG4gICAgICAgIHR3aXR0ZXI6ICdodHRwczovL3NjaGVtYS5vcmcvc2FtZUFzJyxcbiAgICAgICAgLy8gRXhwZXJpZW5jZSAmIEVtcGxveW1lbnQgSGlzdG9yeVxuICAgICAgICBleHBlcmllbmNlOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9Xb3JrRXhwZXJpZW5jZScsXG4gICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAbGlzdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGVtcGxveW1lbnRIaXN0b3J5OiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9lbXBsb3ltZW50SGlzdG9yeScsXG4gICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAbGlzdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBhbnk6ICdodHRwczovL3NjaGVtYS5vcmcvd29ya3NGb3InLFxuICAgICAgICBwb3NpdGlvbjogJ2h0dHBzOi8vc2NoZW1hLm9yZy9qb2JUaXRsZScsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2Rlc2NyaXB0aW9uJyxcbiAgICAgICAgc3RhcnREYXRlOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3N0YXJ0RGF0ZScsXG4gICAgICAgIGVuZERhdGU6ICdodHRwczovL3NjaGVtYS5vcmcvZW5kRGF0ZScsXG4gICAgICAgIHN0aWxsRW1wbG95ZWQ6ICdodHRwczovL3NjaGVtYS5vcmcvQm9vbGVhbicsXG4gICAgICAgIGR1cmF0aW9uOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3RlbXBvcmFsQ292ZXJhZ2UnLFxuICAgICAgICAvLyBTa2lsbHNcbiAgICAgICAgc2tpbGxzOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9za2lsbHMnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICAvLyBFZHVjYXRpb25cbiAgICAgICAgZWR1Y2F0aW9uQW5kTGVhcm5pbmc6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL0VkdWNhdGlvbmFsT2NjdXBhdGlvbmFsUHJvZ3JhbScsXG4gICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAbGlzdCcsXG4gICAgICAgIH0sXG4gICAgICAgIGRlZ3JlZTogJ2h0dHBzOi8vc2NoZW1hLm9yZy9lZHVjYXRpb25hbENyZWRlbnRpYWxBd2FyZGVkJyxcbiAgICAgICAgZmllbGRPZlN0dWR5OiAnaHR0cHM6Ly9zY2hlbWEub3JnL3N0dWR5RmllbGQnLFxuICAgICAgICBpbnN0aXR1dGlvbjogJ2h0dHBzOi8vc2NoZW1hLm9yZy9lZHVjYXRpb25hbEluc3RpdHV0aW9uJyxcbiAgICAgICAgeWVhcjogJ2h0dHBzOi8vc2NoZW1hLm9yZy95ZWFyJyxcbiAgICAgICAgLy8gQXdhcmRzXG4gICAgICAgIGF3YXJkczoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvQWNoaWV2ZW1lbnQnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICB0aXRsZTogJ2h0dHBzOi8vc2NoZW1hLm9yZy9uYW1lJyxcbiAgICAgICAgaXNzdWVyOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2lzc3VlcicsXG4gICAgICAgIGRhdGU6ICdodHRwczovL3NjaGVtYS5vcmcvZGF0ZVJlY2VpdmVkJyxcbiAgICAgICAgLy8gUHVibGljYXRpb25zXG4gICAgICAgIHB1YmxpY2F0aW9uczoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvQ3JlYXRpdmVXb3JrJyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BsaXN0JyxcbiAgICAgICAgfSxcbiAgICAgICAgcHVibGlzaGVyOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3B1Ymxpc2hlcicsXG4gICAgICAgIHVybDogJ2h0dHBzOi8vc2NoZW1hLm9yZy91cmwnLFxuICAgICAgICAvLyBDZXJ0aWZpY2F0aW9uc1xuICAgICAgICBjZXJ0aWZpY2F0aW9uczoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvRWR1Y2F0aW9uYWxPY2N1cGF0aW9uYWxDcmVkZW50aWFsJyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BsaXN0JyxcbiAgICAgICAgfSxcbiAgICAgICAgLy8gUHJvZmVzc2lvbmFsIEFmZmlsaWF0aW9uc1xuICAgICAgICBwcm9mZXNzaW9uYWxBZmZpbGlhdGlvbnM6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL09yZ2FuaXphdGlvblJvbGUnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICBvcmdhbml6YXRpb246ICdodHRwczovL3NjaGVtYS5vcmcvbWVtYmVyT2YnLFxuICAgICAgICByb2xlOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2pvYlRpdGxlJyxcbiAgICAgICAgYWN0aXZlQWZmaWxpYXRpb246ICdodHRwczovL3NjaGVtYS5vcmcvQm9vbGVhbicsXG4gICAgICAgIC8vIFZvbHVudGVlciBXb3JrXG4gICAgICAgIHZvbHVudGVlcldvcms6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL1ZvbHVudGVlclJvbGUnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICBjdXJyZW50bHlWb2x1bnRlZXJpbmc6ICdodHRwczovL3NjaGVtYS5vcmcvQm9vbGVhbicsXG4gICAgICAgIC8vIEhvYmJpZXMgYW5kIEludGVyZXN0c1xuICAgICAgICBob2JiaWVzQW5kSW50ZXJlc3RzOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9rbm93c0Fib3V0JyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICB9LFxuICAgICAgICAvLyBMYW5ndWFnZXNcbiAgICAgICAgbGFuZ3VhZ2VzOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9rbm93c0xhbmd1YWdlJyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BsaXN0JyxcbiAgICAgICAgfSxcbiAgICAgICAgbGFuZ3VhZ2U6ICdodHRwczovL3NjaGVtYS5vcmcvaW5MYW5ndWFnZScsXG4gICAgICAgIHByb2ZpY2llbmN5OiAnaHR0cHM6Ly9zY2hlbWEub3JnL3Byb2ZpY2llbmN5TGV2ZWwnLFxuICAgICAgICAvLyBUZXN0aW1vbmlhbHNcbiAgICAgICAgdGVzdGltb25pYWxzOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9SZXZpZXcnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICBhdXRob3I6ICdodHRwczovL3NjaGVtYS5vcmcvYXV0aG9yJyxcbiAgICAgICAgLy8gUHJvamVjdHNcbiAgICAgICAgcHJvamVjdHM6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL1Byb2plY3QnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGxpc3QnLFxuICAgICAgICB9LFxuICAgICAgICAvLyBJc3N1YW5jZSBJbmZvcm1hdGlvblxuICAgICAgICBpc3N1YW5jZURhdGU6ICdodHRwczovL3NjaGVtYS5vcmcvaXNzdWFuY2VEYXRlJyxcbiAgICAgICAgY3JlZGVudGlhbFN1YmplY3Q6ICdodHRwczovL3NjaGVtYS5vcmcvY3JlZGVudGlhbFN1YmplY3QnLFxuICAgICAgICBwZXJzb246ICdodHRwczovL3NjaGVtYS5vcmcvUGVyc29uJyxcbiAgICAgICAgUmVzdW1lOiAnaHR0cHM6Ly9zY2hlbWEuaHJvcGVuc3RhbmRhcmRzLm9yZy80LjQjUmVzdW1lJyxcbiAgICB9LFxufTtcbmNvbnN0IGxvY2FsT0JDb250ZXh0ID0ge1xuICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgJ0Bwcm90ZWN0ZWQnOiB0cnVlLFxuICAgICAgICBpZDogJ0BpZCcsXG4gICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgIE9wZW5CYWRnZUNyZWRlbnRpYWw6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI09wZW5CYWRnZUNyZWRlbnRpYWwnLFxuICAgICAgICB9LFxuICAgICAgICBBY2hpZXZlbWVudDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjQWNoaWV2ZW1lbnQnLFxuICAgICAgICAgICAgJ0Bjb250ZXh0Jzoge1xuICAgICAgICAgICAgICAgICdAcHJvdGVjdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpZDogJ0BpZCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0B0eXBlJyxcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudFR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjYWNoaWV2ZW1lbnRUeXBlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFsaWdubWVudDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNhbGlnbm1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjY3JlYXRvcicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjcmVkaXRzQXZhaWxhYmxlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2NyZWRpdHNBdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnaHR0cHM6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2Zsb2F0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyaXRlcmlhOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0NyaXRlcmlhJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0BpZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWVsZE9mU3R1ZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjZmllbGRPZlN0dWR5JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGh1bWFuQ29kZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNodW1hbkNvZGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjaW1hZ2UnLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG90aGVySWRlbnRpZmllcjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNvdGhlcklkZW50aWZpZXInLFxuICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlbGF0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcmVsYXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzdWx0RGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcmVzdWx0RGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNwZWNpYWxpemF0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3NwZWNpYWxpemF0aW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhZzoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9rZXl3b3JkcycsXG4gICAgICAgICAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCN2ZXJzaW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluTGFuZ3VhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvaW5MYW5ndWFnZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEFjaGlldmVtZW50Q3JlZGVudGlhbDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdPcGVuQmFkZ2VDcmVkZW50aWFsJyxcbiAgICAgICAgfSxcbiAgICAgICAgQWNoaWV2ZW1lbnRTdWJqZWN0OiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNBY2hpZXZlbWVudFN1YmplY3QnLFxuICAgICAgICAgICAgJ0Bjb250ZXh0Jzoge1xuICAgICAgICAgICAgICAgICdAcHJvdGVjdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpZDogJ0BpZCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ0B0eXBlJyxcbiAgICAgICAgICAgICAgICBhY2hpZXZlbWVudDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNhY2hpZXZlbWVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhY3Rpdml0eUVuZERhdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjYWN0aXZpdHlFbmREYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ2h0dHBzOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkYXRlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFjdGl2aXR5U3RhcnREYXRlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2FjdGl2aXR5U3RhcnREYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ2h0dHBzOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkYXRlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWRpdHNFYXJuZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjY3JlZGl0c0Vhcm5lZCcsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdodHRwczovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZmxvYXQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpZGVudGlmaWVyJyxcbiAgICAgICAgICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQHNldCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbGljZW5zZU51bWJlcjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNsaWNlbnNlTnVtYmVyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlc3VsdDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNyZXN1bHQnLFxuICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJvbGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcm9sZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjc291cmNlJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0BpZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0ZXJtOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3Rlcm0nLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBBZGRyZXNzOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNBZGRyZXNzJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgYWRkcmVzc0NvdW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvYWRkcmVzc0NvdW50cnknLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkcmVzc0NvdW50cnlDb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0NvdW50cnlDb2RlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZHJlc3NMb2NhbGl0eToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9hZGRyZXNzTG9jYWxpdHknLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYWRkcmVzc1JlZ2lvbjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9hZGRyZXNzUmVnaW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdlbzoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNHZW9Db29yZGluYXRlcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwb3N0T2ZmaWNlQm94TnVtYmVyOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3Bvc3RPZmZpY2VCb3hOdW1iZXInLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcG9zdGFsQ29kZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9wb3N0YWxDb2RlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN0cmVldEFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvc3RyZWV0QWRkcmVzcycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEFsaWdubWVudDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvQWxpZ25tZW50T2JqZWN0JyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgdGFyZ2V0Q29kZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCN0YXJnZXRDb2RlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhcmdldERlc2NyaXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3RhcmdldERlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhcmdldEZyYW1ld29yazoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy90YXJnZXRGcmFtZXdvcmsnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdGFyZ2V0TmFtZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy90YXJnZXROYW1lJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRhcmdldFR5cGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjdGFyZ2V0VHlwZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0YXJnZXRVcmw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvdGFyZ2V0VXJsJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ2h0dHBzOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNhbnlVUkknLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBDcml0ZXJpYToge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjQ3JpdGVyaWEnLFxuICAgICAgICB9LFxuICAgICAgICBFbmRvcnNlbWVudENyZWRlbnRpYWw6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0VuZG9yc2VtZW50Q3JlZGVudGlhbCcsXG4gICAgICAgIH0sXG4gICAgICAgIEVuZG9yc2VtZW50U3ViamVjdDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjRW5kb3JzZW1lbnRTdWJqZWN0JyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgZW5kb3JzZW1lbnRDb21tZW50OiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2VuZG9yc2VtZW50Q29tbWVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIEV2aWRlbmNlOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNFdmlkZW5jZScsXG4gICAgICAgICAgICAnQGNvbnRleHQnOiB7XG4gICAgICAgICAgICAgICAgJ0Bwcm90ZWN0ZWQnOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlkOiAnQGlkJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnQHR5cGUnLFxuICAgICAgICAgICAgICAgIGF1ZGllbmNlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2F1ZGllbmNlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGdlbnJlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2dlbnJlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgR2VvQ29vcmRpbmF0ZXM6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0dlb0Nvb3JkaW5hdGVzJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgbGF0aXR1ZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvbGF0aXR1ZGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2xvbmdpdHVkZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIElkZW50aWZpZXJFbnRyeToge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjSWRlbnRpZmllckVudHJ5JyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpZGVudGlmaWVyJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlkZW50aWZpZXJUeXBlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2lkZW50aWZpZXJUeXBlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgSWRlbnRpdHlPYmplY3Q6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0lkZW50aXR5T2JqZWN0JyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgaGFzaGVkOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2hhc2hlZCcsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdodHRwczovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjYm9vbGVhbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpZGVudGl0eUhhc2g6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjaWRlbnRpdHlIYXNoJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlkZW50aXR5VHlwZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpZGVudGl0eVR5cGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2FsdDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNzYWx0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgSW1hZ2U6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI0ltYWdlJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9jYXB0aW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUHJvZmlsZToge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjUHJvZmlsZScsXG4gICAgICAgICAgICAnQGNvbnRleHQnOiB7XG4gICAgICAgICAgICAgICAgJ0Bwcm90ZWN0ZWQnOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlkOiAnQGlkJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnQHR5cGUnLFxuICAgICAgICAgICAgICAgIGFkZGl0aW9uYWxOYW1lOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2FkZGl0aW9uYWxOYW1lJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjYWRkcmVzcycsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0ZU9mQmlydGg6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjZGF0ZU9mQmlydGgnLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnaHR0cHM6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2RhdGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW1haWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvZW1haWwnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmFtaWx5TmFtZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9mYW1pbHlOYW1lJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZhbWlseU5hbWVQcmVmaXg6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjZmFtaWx5TmFtZVByZWZpeCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBnaXZlbk5hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvZ2l2ZW5OYW1lJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhvbm9yaWZpY1ByZWZpeDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9ob25vcmlmaWNQcmVmaXgnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaG9ub3JpZmljU3VmZml4OiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL2hvbm9yaWZpY1N1ZmZpeCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbWFnZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3RoZXJJZGVudGlmaWVyOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI290aGVySWRlbnRpZmllcicsXG4gICAgICAgICAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGFyZW50T3JnOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3BhcmVudE9yZycsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGF0cm9ueW1pY05hbWU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcGF0cm9ueW1pY05hbWUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcGhvbmU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcGhvbmUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb2ZmaWNpYWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjb2ZmaWNpYWwnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBSZWxhdGVkOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNSZWxhdGVkJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCN2ZXJzaW9uJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGluTGFuZ3VhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvaW5MYW5ndWFnZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIFJlc3VsdDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjUmVzdWx0JyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgYWNoaWV2ZWRMZXZlbDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNhY2hpZXZlZExldmVsJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ2h0dHBzOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNhbnlVUkknLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcmVzdWx0RGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcmVzdWx0RGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnaHR0cHM6Ly93d3cudzMub3JnLzIwMDEvWE1MU2NoZW1hI2FueVVSSScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjc3RhdHVzJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3ZhbHVlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUmVzdWx0RGVzY3JpcHRpb246IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI1Jlc3VsdERlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgYWxsb3dlZFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2FsbG93ZWRWYWx1ZScsXG4gICAgICAgICAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BsaXN0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkTGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcmVxdWlyZWRMZXZlbCcsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdodHRwczovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjYW55VVJJJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcmVxdWlyZWRWYWx1ZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByZXN1bHRUeXBlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3Jlc3VsdFR5cGUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcnVicmljQ3JpdGVyaW9uTGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjcnVicmljQ3JpdGVyaW9uTGV2ZWwnLFxuICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlTWF4OiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3ZhbHVlTWF4JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZhbHVlTWluOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3ZhbHVlTWluJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgUnVicmljQ3JpdGVyaW9uTGV2ZWw6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI1J1YnJpY0NyaXRlcmlvbkxldmVsJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjbGV2ZWwnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcG9pbnRzOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI3BvaW50cycsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgICAgIGFsaWdubWVudDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjYWxpZ25tZW50JyxcbiAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICB9LFxuICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvZGVzY3JpcHRpb24nLFxuICAgICAgICB9LFxuICAgICAgICBlbmRvcnNlbWVudDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3B1cmwuaW1zZ2xvYmFsLm9yZy9zcGVjL3ZjL29iL3ZvY2FiLmh0bWwjZW5kb3JzZW1lbnQnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQHNldCcsXG4gICAgICAgIH0sXG4gICAgICAgIGltYWdlOiB7XG4gICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvdmMvb2Ivdm9jYWIuaHRtbCNpbWFnZScsXG4gICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgfSxcbiAgICAgICAgaW5MYW5ndWFnZToge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvaW5MYW5ndWFnZScsXG4gICAgICAgIH0sXG4gICAgICAgIG5hbWU6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9zY2hlbWEub3JnL25hbWUnLFxuICAgICAgICB9LFxuICAgICAgICBuYXJyYXRpdmU6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI25hcnJhdGl2ZScsXG4gICAgICAgIH0sXG4gICAgICAgIHVybDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3NjaGVtYS5vcmcvdXJsJyxcbiAgICAgICAgICAgICdAdHlwZSc6ICdodHRwczovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjYW55VVJJJyxcbiAgICAgICAgfSxcbiAgICAgICAgYXdhcmRlZERhdGU6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy92Yy9vYi92b2NhYi5odG1sI2F3YXJkZWREYXRlJyxcbiAgICAgICAgICAgICdAdHlwZSc6ICd4c2Q6ZGF0ZVRpbWUnLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuY29uc3QgbG9jYWxFRDI1NTE5Q29udGV4dCA9IHtcbiAgICAnQGNvbnRleHQnOiB7XG4gICAgICAgIGlkOiAnQGlkJyxcbiAgICAgICAgdHlwZTogJ0B0eXBlJyxcbiAgICAgICAgJ0Bwcm90ZWN0ZWQnOiB0cnVlLFxuICAgICAgICBwcm9vZjoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I3Byb29mJyxcbiAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQGdyYXBoJyxcbiAgICAgICAgfSxcbiAgICAgICAgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjA6IHtcbiAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMCcsXG4gICAgICAgICAgICAnQGNvbnRleHQnOiB7XG4gICAgICAgICAgICAgICAgJ0Bwcm90ZWN0ZWQnOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlkOiAnQGlkJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnQHR5cGUnLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I2NvbnRyb2xsZXInLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJldm9rZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I3Jldm9rZWQnLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnaHR0cDovL3d3dy53My5vcmcvMjAwMS9YTUxTY2hlbWEjZGF0ZVRpbWUnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcHVibGljS2V5TXVsdGliYXNlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNwdWJsaWNLZXlNdWx0aWJhc2UnLFxuICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNtdWx0aWJhc2UnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICBFZDI1NTE5U2lnbmF0dXJlMjAyMDoge1xuICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I0VkMjU1MTlTaWduYXR1cmUyMDIwJyxcbiAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAnQHByb3RlY3RlZCc6IHRydWUsXG4gICAgICAgICAgICAgICAgaWQ6ICdAaWQnLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgY2hhbGxlbmdlOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNjaGFsbGVuZ2UnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwOi8vcHVybC5vcmcvZGMvdGVybXMvY3JlYXRlZCcsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkYXRlVGltZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkb21haW46ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I2RvbWFpbicsXG4gICAgICAgICAgICAgICAgZXhwaXJlczoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjZXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdodHRwOi8vd3d3LnczLm9yZy8yMDAxL1hNTFNjaGVtYSNkYXRlVGltZScsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBub25jZTogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjbm9uY2UnLFxuICAgICAgICAgICAgICAgIHByb29mUHVycG9zZToge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjcHJvb2ZQdXJwb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0B2b2NhYicsXG4gICAgICAgICAgICAgICAgICAgICdAY29udGV4dCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdAcHJvdGVjdGVkJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnQGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdAdHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NlcnRpb25NZXRob2Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjYXNzZXJ0aW9uTWV0aG9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNhdXRoZW50aWNhdGlvbk1ldGhvZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0BpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0Bjb250YWluZXInOiAnQHNldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FwYWJpbGl0eUludm9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjY2FwYWJpbGl0eUludm9jYXRpb25NZXRob2QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdAdHlwZSc6ICdAaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdAY29udGFpbmVyJzogJ0BzZXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcGFiaWxpdHlEZWxlZ2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0BpZCc6ICdodHRwczovL3czaWQub3JnL3NlY3VyaXR5I2NhcGFiaWxpdHlEZWxlZ2F0aW9uTWV0aG9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlBZ3JlZW1lbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkja2V5QWdyZWVtZW50TWV0aG9kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQHR5cGUnOiAnQGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQGNvbnRhaW5lcic6ICdAc2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwcm9vZlZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICdAaWQnOiAnaHR0cHM6Ly93M2lkLm9yZy9zZWN1cml0eSNwcm9vZlZhbHVlJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjbXVsdGliYXNlJyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHZlcmlmaWNhdGlvbk1ldGhvZDoge1xuICAgICAgICAgICAgICAgICAgICAnQGlkJzogJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkjdmVyaWZpY2F0aW9uTWV0aG9kJyxcbiAgICAgICAgICAgICAgICAgICAgJ0B0eXBlJzogJ0BpZCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG5leHBvcnQgeyBsb2NhbE9CQ29udGV4dCwgbG9jYWxFRDI1NTE5Q29udGV4dCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/context.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/credential.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/utils/credential.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractKeyPairFromCredential: () => (/* binding */ extractKeyPairFromCredential),\n/* harmony export */   generateDIDSchema: () => (/* binding */ generateDIDSchema),\n/* harmony export */   generateUnsignedRecommendation: () => (/* binding */ generateUnsignedRecommendation),\n/* harmony export */   generateUnsignedVC: () => (/* binding */ generateUnsignedVC)\n/* harmony export */ });\n/* harmony import */ var _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @digitalbazaar/ed25519-verification-key-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-verification-key-2020/lib/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(ssr)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto-js */ \"(ssr)/./node_modules/crypto-js/index.js\");\n\n\n\n/**\n * Utility function to generate a hashed ID for a credential.\n * Excludes the `id` field when hashing.\n * @param {object} credential - The credential object to hash.\n * @returns {string} The generated hashed ID.\n */\nfunction generateHashedId(credential) {\n    // Exclude the `id` field from the hash\n    const credentialWithoutId = { ...credential, id: undefined };\n    const serialized = JSON.stringify(credentialWithoutId);\n    return crypto_js__WEBPACK_IMPORTED_MODULE_1__.SHA256(serialized).toString(crypto_js__WEBPACK_IMPORTED_MODULE_1__.enc.Hex);\n}\n/**\n * Create a DID document using the provided key pair.\n * @param {KeyPair} keyPair - The key pair used to create the DID document.\n * @returns {Promise<DidDocument>} The created DID document.\n * @throws Will throw an error if the DID document generation fails.\n */\nconst generateDIDSchema = async (keyPair) => {\n    try {\n        const DID = keyPair.controller;\n        return {\n            '@context': ['https://www.w3.org/ns/did/v1'],\n            id: DID,\n            publicKey: [\n                {\n                    id: keyPair.id,\n                    type: 'Ed25519VerificationKey2020',\n                    controller: DID,\n                    publicKeyMultibase: keyPair.publicKeyMultibase,\n                },\n            ],\n            authentication: [keyPair.id],\n            assertionMethod: [keyPair.id],\n            capabilityDelegation: [keyPair.id],\n            capabilityInvocation: [keyPair.id],\n            keyAgreement: [\n                {\n                    id: `${keyPair.id}-keyAgreement`,\n                    type: 'X25519KeyAgreementKey2020',\n                    controller: DID,\n                    publicKeyMultibase: keyPair.publicKeyMultibase,\n                },\n            ],\n        };\n    }\n    catch (error) {\n        console.error('Error creating DID document:', error);\n        throw error;\n    }\n};\n/**\n * Generate an unsigned Verifiable Credential (VC).\n * Hashes the credential to create a unique ID.\n * @param {FormDataI} params\n * @param {string} params.FormData - The form dta to include in the VC.\n * @param {string} params.issuerDid - The DID of the issuer.\n * @returns {Credential} The created unsigned VC.\n * @throws Will throw an error if the VC creation fails or if issuance date exceeds expiration date.\n */\nfunction generateUnsignedVC({ formData, issuerDid }) {\n    const issuanceDate = new Date().toISOString();\n    if (issuanceDate > formData.expirationDate)\n        throw new Error('issuanceDate cannot be after expirationDate');\n    const unsignedCredential = {\n        '@context': [\n            'https://www.w3.org/2018/credentials/v1',\n            'https://purl.imsglobal.org/spec/ob/v3p0/context-3.0.3.json',\n            {\n                duration: 'https://schema.org/duration',\n                fullName: 'https://schema.org/name',\n                portfolio: 'https://schema.org/portfolio',\n                evidenceLink: 'https://schema.org/evidenceLink',\n                evidenceDescription: 'https://schema.org/evidenceDescription',\n                credentialType: 'https://schema.org/credentialType',\n            },\n        ],\n        id: '', // Will be set after hashing\n        type: ['VerifiableCredential', 'OpenBadgeCredential'],\n        issuer: {\n            id: issuerDid,\n            type: ['Profile'],\n        },\n        issuanceDate,\n        expirationDate: formData.expirationDate,\n        credentialSubject: {\n            type: ['AchievementSubject'],\n            name: formData.fullName,\n            portfolio: formData.portfolio.map((item) => ({\n                '@type': 'schema:CreativeWork',\n                name: item.name,\n                url: item.url,\n            })),\n            evidenceLink: formData.evidenceLink,\n            evidenceDescription: formData.achievementDescription,\n            duration: formData.duration,\n            credentialType: formData.credentialType,\n            achievement: [\n                {\n                    id: `urn:uuid:${(0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])()}`,\n                    type: ['Achievement'],\n                    criteria: {\n                        narrative: formData.criteriaNarrative,\n                    },\n                    description: formData.achievementDescription,\n                    name: formData.achievementName,\n                    image: formData.evidenceLink\n                        ? {\n                            id: formData.evidenceLink,\n                            type: 'Image',\n                        }\n                        : undefined,\n                },\n            ],\n        },\n    };\n    // Generate the hashed ID\n    unsignedCredential.id = 'urn:' + generateHashedId(unsignedCredential);\n    return unsignedCredential;\n}\n/**\n * Generate an unsigned Recommendation Credential.\n * Uses the hash of the VC to set the `id` for consistency.\n * @param {object} params\n * @param {VerifiableCredential} params.vc - The Verifiable Credential to base the recommendation on.\n * @param {RecommendationFormDataI} params.recommendation - The recommendation form data.\n * @param {string} params.issuerDid - The DID of the issuer.\n * @returns {RecommendationCredential} The created unsigned Recommendation Credential.\n * @throws Will throw an error if the recommendation creation fails or if issuance date exceeds expiration date.\n */\nfunction generateUnsignedRecommendation({ vcId, recommendation, issuerDid, }) {\n    const issuanceDate = new Date().toISOString();\n    if (issuanceDate > recommendation.expirationDate)\n        throw new Error('issuanceDate cannot be after expirationDate');\n    const unsignedRecommendation = {\n        '@context': [\n            'https://www.w3.org/2018/credentials/v1',\n            'https://purl.imsglobal.org/spec/ob/v3p0/context-3.0.3.json',\n            {\n                howKnow: 'https://schema.org/howKnow',\n                recommendationText: 'https://schema.org/recommendationText',\n                qualifications: 'https://schema.org/qualifications',\n                explainAnswer: 'https://schema.org/explainAnswer',\n                portfolio: 'https://schema.org/portfolio',\n            },\n        ],\n        id: `urn:${generateHashedId({ id: vcId })}`,\n        type: ['VerifiableCredential', 'https://schema.org/RecommendationCredential'],\n        issuer: {\n            id: issuerDid,\n            type: ['Profile'],\n        },\n        issuanceDate,\n        expirationDate: recommendation.expirationDate,\n        credentialSubject: {\n            name: recommendation.fullName,\n            howKnow: recommendation.howKnow,\n            recommendationText: recommendation.recommendationText,\n            qualifications: recommendation.qualifications,\n            explainAnswer: recommendation.explainAnswer,\n            portfolio: recommendation.portfolio.map((item) => ({\n                name: item.name,\n                url: item.url,\n            })),\n        },\n    };\n    return unsignedRecommendation;\n}\n/**\n * Extracts the keypair from a Verifiable Credential\n * @param {Object} credential - The signed Verifiable Credential\n * @returns {Ed25519VerificationKey2020} keyPair - The generated keypair object\n */\nasync function extractKeyPairFromCredential(credential) {\n    const verificationMethod = credential.proof.verificationMethod;\n    const issuer = credential.issuer.id;\n    // Example of extracting the public key from the DID fragment (verification method)\n    const publicKeyMultibase = verificationMethod.split('#')[1];\n    // Generate the keypair using Ed25519VerificationKey2020\n    const keyPair = await _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__.Ed25519VerificationKey2020.from({\n        id: verificationMethod,\n        controller: issuer,\n        publicKeyMultibase: publicKeyMultibase,\n    });\n    return keyPair;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9jcmVkZW50aWFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBMEY7QUFDdEQ7QUFDSDtBQUNqQztBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLFdBQVcsNkNBQWUsc0JBQXNCLDBDQUFZO0FBQzVEO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUztBQUNwQixhQUFhLHNCQUFzQjtBQUNuQztBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLFdBQVc7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFdBQVc7QUFDdEIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixhQUFhLFlBQVk7QUFDekI7QUFDQTtBQUNPLDhCQUE4QixxQkFBcUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxnREFBTSxHQUFHO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxzQkFBc0I7QUFDakMsV0FBVyx5QkFBeUI7QUFDcEMsV0FBVyxRQUFRO0FBQ25CLGFBQWEsMEJBQTBCO0FBQ3ZDO0FBQ0E7QUFDTywwQ0FBMEMsa0NBQWtDO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsbUJBQW1CLG1CQUFtQixVQUFVLEVBQUU7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLDRCQUE0QjtBQUN6QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixvR0FBMEI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9jcmVkZW50aWFsLmpzP2RkZGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjAgfSBmcm9tICdAZGlnaXRhbGJhemFhci9lZDI1NTE5LXZlcmlmaWNhdGlvbi1rZXktMjAyMCc7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnO1xuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgaGFzaGVkIElEIGZvciBhIGNyZWRlbnRpYWwuXG4gKiBFeGNsdWRlcyB0aGUgYGlkYCBmaWVsZCB3aGVuIGhhc2hpbmcuXG4gKiBAcGFyYW0ge29iamVjdH0gY3JlZGVudGlhbCAtIFRoZSBjcmVkZW50aWFsIG9iamVjdCB0byBoYXNoLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGdlbmVyYXRlZCBoYXNoZWQgSUQuXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlSGFzaGVkSWQoY3JlZGVudGlhbCkge1xuICAgIC8vIEV4Y2x1ZGUgdGhlIGBpZGAgZmllbGQgZnJvbSB0aGUgaGFzaFxuICAgIGNvbnN0IGNyZWRlbnRpYWxXaXRob3V0SWQgPSB7IC4uLmNyZWRlbnRpYWwsIGlkOiB1bmRlZmluZWQgfTtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbFdpdGhvdXRJZCk7XG4gICAgcmV0dXJuIENyeXB0b0pTLlNIQTI1NihzZXJpYWxpemVkKS50b1N0cmluZyhDcnlwdG9KUy5lbmMuSGV4KTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgRElEIGRvY3VtZW50IHVzaW5nIHRoZSBwcm92aWRlZCBrZXkgcGFpci5cbiAqIEBwYXJhbSB7S2V5UGFpcn0ga2V5UGFpciAtIFRoZSBrZXkgcGFpciB1c2VkIHRvIGNyZWF0ZSB0aGUgRElEIGRvY3VtZW50LlxuICogQHJldHVybnMge1Byb21pc2U8RGlkRG9jdW1lbnQ+fSBUaGUgY3JlYXRlZCBESUQgZG9jdW1lbnQuXG4gKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIERJRCBkb2N1bWVudCBnZW5lcmF0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVESURTY2hlbWEgPSBhc3luYyAoa2V5UGFpcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IERJRCA9IGtleVBhaXIuY29udHJvbGxlcjtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdAY29udGV4dCc6IFsnaHR0cHM6Ly93d3cudzMub3JnL25zL2RpZC92MSddLFxuICAgICAgICAgICAgaWQ6IERJRCxcbiAgICAgICAgICAgIHB1YmxpY0tleTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGtleVBhaXIuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMCcsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IERJRCxcbiAgICAgICAgICAgICAgICAgICAgcHVibGljS2V5TXVsdGliYXNlOiBrZXlQYWlyLnB1YmxpY0tleU11bHRpYmFzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uOiBba2V5UGFpci5pZF0sXG4gICAgICAgICAgICBhc3NlcnRpb25NZXRob2Q6IFtrZXlQYWlyLmlkXSxcbiAgICAgICAgICAgIGNhcGFiaWxpdHlEZWxlZ2F0aW9uOiBba2V5UGFpci5pZF0sXG4gICAgICAgICAgICBjYXBhYmlsaXR5SW52b2NhdGlvbjogW2tleVBhaXIuaWRdLFxuICAgICAgICAgICAga2V5QWdyZWVtZW50OiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogYCR7a2V5UGFpci5pZH0ta2V5QWdyZWVtZW50YCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ1gyNTUxOUtleUFncmVlbWVudEtleTIwMjAnLFxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBESUQsXG4gICAgICAgICAgICAgICAgICAgIHB1YmxpY0tleU11bHRpYmFzZToga2V5UGFpci5wdWJsaWNLZXlNdWx0aWJhc2UsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBESUQgZG9jdW1lbnQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLyoqXG4gKiBHZW5lcmF0ZSBhbiB1bnNpZ25lZCBWZXJpZmlhYmxlIENyZWRlbnRpYWwgKFZDKS5cbiAqIEhhc2hlcyB0aGUgY3JlZGVudGlhbCB0byBjcmVhdGUgYSB1bmlxdWUgSUQuXG4gKiBAcGFyYW0ge0Zvcm1EYXRhSX0gcGFyYW1zXG4gKiBAcGFyYW0ge3N0cmluZ30gcGFyYW1zLkZvcm1EYXRhIC0gVGhlIGZvcm0gZHRhIHRvIGluY2x1ZGUgaW4gdGhlIFZDLlxuICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5pc3N1ZXJEaWQgLSBUaGUgRElEIG9mIHRoZSBpc3N1ZXIuXG4gKiBAcmV0dXJucyB7Q3JlZGVudGlhbH0gVGhlIGNyZWF0ZWQgdW5zaWduZWQgVkMuXG4gKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIFZDIGNyZWF0aW9uIGZhaWxzIG9yIGlmIGlzc3VhbmNlIGRhdGUgZXhjZWVkcyBleHBpcmF0aW9uIGRhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVuc2lnbmVkVkMoeyBmb3JtRGF0YSwgaXNzdWVyRGlkIH0pIHtcbiAgICBjb25zdCBpc3N1YW5jZURhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgaWYgKGlzc3VhbmNlRGF0ZSA+IGZvcm1EYXRhLmV4cGlyYXRpb25EYXRlKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lzc3VhbmNlRGF0ZSBjYW5ub3QgYmUgYWZ0ZXIgZXhwaXJhdGlvbkRhdGUnKTtcbiAgICBjb25zdCB1bnNpZ25lZENyZWRlbnRpYWwgPSB7XG4gICAgICAgICdAY29udGV4dCc6IFtcbiAgICAgICAgICAgICdodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MScsXG4gICAgICAgICAgICAnaHR0cHM6Ly9wdXJsLmltc2dsb2JhbC5vcmcvc3BlYy9vYi92M3AwL2NvbnRleHQtMy4wLjMuanNvbicsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246ICdodHRwczovL3NjaGVtYS5vcmcvZHVyYXRpb24nLFxuICAgICAgICAgICAgICAgIGZ1bGxOYW1lOiAnaHR0cHM6Ly9zY2hlbWEub3JnL25hbWUnLFxuICAgICAgICAgICAgICAgIHBvcnRmb2xpbzogJ2h0dHBzOi8vc2NoZW1hLm9yZy9wb3J0Zm9saW8nLFxuICAgICAgICAgICAgICAgIGV2aWRlbmNlTGluazogJ2h0dHBzOi8vc2NoZW1hLm9yZy9ldmlkZW5jZUxpbmsnLFxuICAgICAgICAgICAgICAgIGV2aWRlbmNlRGVzY3JpcHRpb246ICdodHRwczovL3NjaGVtYS5vcmcvZXZpZGVuY2VEZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbFR5cGU6ICdodHRwczovL3NjaGVtYS5vcmcvY3JlZGVudGlhbFR5cGUnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgaWQ6ICcnLCAvLyBXaWxsIGJlIHNldCBhZnRlciBoYXNoaW5nXG4gICAgICAgIHR5cGU6IFsnVmVyaWZpYWJsZUNyZWRlbnRpYWwnLCAnT3BlbkJhZGdlQ3JlZGVudGlhbCddLFxuICAgICAgICBpc3N1ZXI6IHtcbiAgICAgICAgICAgIGlkOiBpc3N1ZXJEaWQsXG4gICAgICAgICAgICB0eXBlOiBbJ1Byb2ZpbGUnXSxcbiAgICAgICAgfSxcbiAgICAgICAgaXNzdWFuY2VEYXRlLFxuICAgICAgICBleHBpcmF0aW9uRGF0ZTogZm9ybURhdGEuZXhwaXJhdGlvbkRhdGUsXG4gICAgICAgIGNyZWRlbnRpYWxTdWJqZWN0OiB7XG4gICAgICAgICAgICB0eXBlOiBbJ0FjaGlldmVtZW50U3ViamVjdCddLFxuICAgICAgICAgICAgbmFtZTogZm9ybURhdGEuZnVsbE5hbWUsXG4gICAgICAgICAgICBwb3J0Zm9saW86IGZvcm1EYXRhLnBvcnRmb2xpby5tYXAoKGl0ZW0pID0+ICh7XG4gICAgICAgICAgICAgICAgJ0B0eXBlJzogJ3NjaGVtYTpDcmVhdGl2ZVdvcmsnLFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgZXZpZGVuY2VMaW5rOiBmb3JtRGF0YS5ldmlkZW5jZUxpbmssXG4gICAgICAgICAgICBldmlkZW5jZURlc2NyaXB0aW9uOiBmb3JtRGF0YS5hY2hpZXZlbWVudERlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZHVyYXRpb246IGZvcm1EYXRhLmR1cmF0aW9uLFxuICAgICAgICAgICAgY3JlZGVudGlhbFR5cGU6IGZvcm1EYXRhLmNyZWRlbnRpYWxUeXBlLFxuICAgICAgICAgICAgYWNoaWV2ZW1lbnQ6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBgdXJuOnV1aWQ6JHt1dWlkdjQoKX1gLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBbJ0FjaGlldmVtZW50J10sXG4gICAgICAgICAgICAgICAgICAgIGNyaXRlcmlhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYXJyYXRpdmU6IGZvcm1EYXRhLmNyaXRlcmlhTmFycmF0aXZlLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZm9ybURhdGEuYWNoaWV2ZW1lbnREZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZm9ybURhdGEuYWNoaWV2ZW1lbnROYW1lLFxuICAgICAgICAgICAgICAgICAgICBpbWFnZTogZm9ybURhdGEuZXZpZGVuY2VMaW5rXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogZm9ybURhdGEuZXZpZGVuY2VMaW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdJbWFnZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIC8vIEdlbmVyYXRlIHRoZSBoYXNoZWQgSURcbiAgICB1bnNpZ25lZENyZWRlbnRpYWwuaWQgPSAndXJuOicgKyBnZW5lcmF0ZUhhc2hlZElkKHVuc2lnbmVkQ3JlZGVudGlhbCk7XG4gICAgcmV0dXJuIHVuc2lnbmVkQ3JlZGVudGlhbDtcbn1cbi8qKlxuICogR2VuZXJhdGUgYW4gdW5zaWduZWQgUmVjb21tZW5kYXRpb24gQ3JlZGVudGlhbC5cbiAqIFVzZXMgdGhlIGhhc2ggb2YgdGhlIFZDIHRvIHNldCB0aGUgYGlkYCBmb3IgY29uc2lzdGVuY3kuXG4gKiBAcGFyYW0ge29iamVjdH0gcGFyYW1zXG4gKiBAcGFyYW0ge1ZlcmlmaWFibGVDcmVkZW50aWFsfSBwYXJhbXMudmMgLSBUaGUgVmVyaWZpYWJsZSBDcmVkZW50aWFsIHRvIGJhc2UgdGhlIHJlY29tbWVuZGF0aW9uIG9uLlxuICogQHBhcmFtIHtSZWNvbW1lbmRhdGlvbkZvcm1EYXRhSX0gcGFyYW1zLnJlY29tbWVuZGF0aW9uIC0gVGhlIHJlY29tbWVuZGF0aW9uIGZvcm0gZGF0YS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMuaXNzdWVyRGlkIC0gVGhlIERJRCBvZiB0aGUgaXNzdWVyLlxuICogQHJldHVybnMge1JlY29tbWVuZGF0aW9uQ3JlZGVudGlhbH0gVGhlIGNyZWF0ZWQgdW5zaWduZWQgUmVjb21tZW5kYXRpb24gQ3JlZGVudGlhbC5cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcmVjb21tZW5kYXRpb24gY3JlYXRpb24gZmFpbHMgb3IgaWYgaXNzdWFuY2UgZGF0ZSBleGNlZWRzIGV4cGlyYXRpb24gZGF0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVW5zaWduZWRSZWNvbW1lbmRhdGlvbih7IHZjSWQsIHJlY29tbWVuZGF0aW9uLCBpc3N1ZXJEaWQsIH0pIHtcbiAgICBjb25zdCBpc3N1YW5jZURhdGUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgaWYgKGlzc3VhbmNlRGF0ZSA+IHJlY29tbWVuZGF0aW9uLmV4cGlyYXRpb25EYXRlKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2lzc3VhbmNlRGF0ZSBjYW5ub3QgYmUgYWZ0ZXIgZXhwaXJhdGlvbkRhdGUnKTtcbiAgICBjb25zdCB1bnNpZ25lZFJlY29tbWVuZGF0aW9uID0ge1xuICAgICAgICAnQGNvbnRleHQnOiBbXG4gICAgICAgICAgICAnaHR0cHM6Ly93d3cudzMub3JnLzIwMTgvY3JlZGVudGlhbHMvdjEnLFxuICAgICAgICAgICAgJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvb2IvdjNwMC9jb250ZXh0LTMuMC4zLmpzb24nLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhvd0tub3c6ICdodHRwczovL3NjaGVtYS5vcmcvaG93S25vdycsXG4gICAgICAgICAgICAgICAgcmVjb21tZW5kYXRpb25UZXh0OiAnaHR0cHM6Ly9zY2hlbWEub3JnL3JlY29tbWVuZGF0aW9uVGV4dCcsXG4gICAgICAgICAgICAgICAgcXVhbGlmaWNhdGlvbnM6ICdodHRwczovL3NjaGVtYS5vcmcvcXVhbGlmaWNhdGlvbnMnLFxuICAgICAgICAgICAgICAgIGV4cGxhaW5BbnN3ZXI6ICdodHRwczovL3NjaGVtYS5vcmcvZXhwbGFpbkFuc3dlcicsXG4gICAgICAgICAgICAgICAgcG9ydGZvbGlvOiAnaHR0cHM6Ly9zY2hlbWEub3JnL3BvcnRmb2xpbycsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBpZDogYHVybjoke2dlbmVyYXRlSGFzaGVkSWQoeyBpZDogdmNJZCB9KX1gLFxuICAgICAgICB0eXBlOiBbJ1ZlcmlmaWFibGVDcmVkZW50aWFsJywgJ2h0dHBzOi8vc2NoZW1hLm9yZy9SZWNvbW1lbmRhdGlvbkNyZWRlbnRpYWwnXSxcbiAgICAgICAgaXNzdWVyOiB7XG4gICAgICAgICAgICBpZDogaXNzdWVyRGlkLFxuICAgICAgICAgICAgdHlwZTogWydQcm9maWxlJ10sXG4gICAgICAgIH0sXG4gICAgICAgIGlzc3VhbmNlRGF0ZSxcbiAgICAgICAgZXhwaXJhdGlvbkRhdGU6IHJlY29tbWVuZGF0aW9uLmV4cGlyYXRpb25EYXRlLFxuICAgICAgICBjcmVkZW50aWFsU3ViamVjdDoge1xuICAgICAgICAgICAgbmFtZTogcmVjb21tZW5kYXRpb24uZnVsbE5hbWUsXG4gICAgICAgICAgICBob3dLbm93OiByZWNvbW1lbmRhdGlvbi5ob3dLbm93LFxuICAgICAgICAgICAgcmVjb21tZW5kYXRpb25UZXh0OiByZWNvbW1lbmRhdGlvbi5yZWNvbW1lbmRhdGlvblRleHQsXG4gICAgICAgICAgICBxdWFsaWZpY2F0aW9uczogcmVjb21tZW5kYXRpb24ucXVhbGlmaWNhdGlvbnMsXG4gICAgICAgICAgICBleHBsYWluQW5zd2VyOiByZWNvbW1lbmRhdGlvbi5leHBsYWluQW5zd2VyLFxuICAgICAgICAgICAgcG9ydGZvbGlvOiByZWNvbW1lbmRhdGlvbi5wb3J0Zm9saW8ubWFwKChpdGVtKSA9PiAoe1xuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICB1cmw6IGl0ZW0udXJsLFxuICAgICAgICAgICAgfSkpLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIHVuc2lnbmVkUmVjb21tZW5kYXRpb247XG59XG4vKipcbiAqIEV4dHJhY3RzIHRoZSBrZXlwYWlyIGZyb20gYSBWZXJpZmlhYmxlIENyZWRlbnRpYWxcbiAqIEBwYXJhbSB7T2JqZWN0fSBjcmVkZW50aWFsIC0gVGhlIHNpZ25lZCBWZXJpZmlhYmxlIENyZWRlbnRpYWxcbiAqIEByZXR1cm5zIHtFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMH0ga2V5UGFpciAtIFRoZSBnZW5lcmF0ZWQga2V5cGFpciBvYmplY3RcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4dHJhY3RLZXlQYWlyRnJvbUNyZWRlbnRpYWwoY3JlZGVudGlhbCkge1xuICAgIGNvbnN0IHZlcmlmaWNhdGlvbk1ldGhvZCA9IGNyZWRlbnRpYWwucHJvb2YudmVyaWZpY2F0aW9uTWV0aG9kO1xuICAgIGNvbnN0IGlzc3VlciA9IGNyZWRlbnRpYWwuaXNzdWVyLmlkO1xuICAgIC8vIEV4YW1wbGUgb2YgZXh0cmFjdGluZyB0aGUgcHVibGljIGtleSBmcm9tIHRoZSBESUQgZnJhZ21lbnQgKHZlcmlmaWNhdGlvbiBtZXRob2QpXG4gICAgY29uc3QgcHVibGljS2V5TXVsdGliYXNlID0gdmVyaWZpY2F0aW9uTWV0aG9kLnNwbGl0KCcjJylbMV07XG4gICAgLy8gR2VuZXJhdGUgdGhlIGtleXBhaXIgdXNpbmcgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjBcbiAgICBjb25zdCBrZXlQYWlyID0gYXdhaXQgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjAuZnJvbSh7XG4gICAgICAgIGlkOiB2ZXJpZmljYXRpb25NZXRob2QsXG4gICAgICAgIGNvbnRyb2xsZXI6IGlzc3VlcixcbiAgICAgICAgcHVibGljS2V5TXVsdGliYXNlOiBwdWJsaWNLZXlNdWx0aWJhc2UsXG4gICAgfSk7XG4gICAgcmV0dXJuIGtleVBhaXI7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/credential.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/digitalbazaar.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/utils/digitalbazaar.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customDocumentLoader: () => (/* binding */ customDocumentLoader)\n/* harmony export */ });\n/* harmony import */ var _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @digitalbazaar/ed25519-verification-key-2020 */ \"(ssr)/./node_modules/@digitalbazaar/ed25519-verification-key-2020/lib/index.js\");\n/* harmony import */ var _digitalbazaar_did_method_key__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @digitalbazaar/did-method-key */ \"(ssr)/./node_modules/@digitalbazaar/did-method-key/lib/index.js\");\n/* harmony import */ var _digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @digitalbazaar/vc */ \"(ssr)/./node_modules/@digitalbazaar/vc/lib/index.js\");\n/* harmony import */ var _utils_context_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/context.js */ \"(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/context.js\");\n\n\n\n\n// Initialize the DID method key driver\nconst didKeyDriverInstance = (0,_digitalbazaar_did_method_key__WEBPACK_IMPORTED_MODULE_1__.driver)();\ndidKeyDriverInstance.use({\n    multibaseMultikeyHeader: 'z6Mk',\n    fromMultibase: _digitalbazaar_ed25519_verification_key_2020__WEBPACK_IMPORTED_MODULE_0__.Ed25519VerificationKey2020.from,\n});\n// Custom document loader\nconst customDocumentLoader = async (url) => {\n    // Context map for local contexts\n    const contextMap = {\n        'https://purl.imsglobal.org/spec/ob/v3p0/context-3.0.3.json': _utils_context_js__WEBPACK_IMPORTED_MODULE_3__.localOBContext,\n        'https://w3id.org/security/suites/ed25519-2020/v1': _utils_context_js__WEBPACK_IMPORTED_MODULE_3__.localED25519Context,\n    };\n    // Return local context if it matches the URL\n    if (contextMap[url]) {\n        return {\n            contextUrl: null,\n            documentUrl: url,\n            document: contextMap[url],\n        };\n    }\n    // Handle did:key resolution\n    if (url.startsWith('did:key:')) {\n        const didDocument = await didKeyDriverInstance.get({ did: url });\n        return {\n            contextUrl: null,\n            documentUrl: url,\n            document: didDocument,\n        };\n    }\n    // Fallback to the default document loader for unknown URLs\n    return (0,_digitalbazaar_vc__WEBPACK_IMPORTED_MODULE_2__.defaultDocumentLoader)(url);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9kaWdpdGFsYmF6YWFyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTBGO0FBQ25CO0FBQ2I7QUFDZ0I7QUFDMUU7QUFDQSw2QkFBNkIscUVBQVk7QUFDekM7QUFDQTtBQUNBLG1CQUFtQixvR0FBMEI7QUFDN0MsQ0FBQztBQUNEO0FBQ087QUFDUDtBQUNBO0FBQ0Esc0VBQXNFLDZEQUFjO0FBQ3BGLDREQUE0RCxrRUFBbUI7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxVQUFVO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyx3RUFBcUI7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9kaWdpdGFsYmF6YWFyLmpzPzRmMDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWQyNTUxOVZlcmlmaWNhdGlvbktleTIwMjAgfSBmcm9tICdAZGlnaXRhbGJhemFhci9lZDI1NTE5LXZlcmlmaWNhdGlvbi1rZXktMjAyMCc7XG5pbXBvcnQgeyBkcml2ZXIgYXMgZGlkS2V5RHJpdmVyIH0gZnJvbSAnQGRpZ2l0YWxiYXphYXIvZGlkLW1ldGhvZC1rZXknO1xuaW1wb3J0IHsgZGVmYXVsdERvY3VtZW50TG9hZGVyIH0gZnJvbSAnQGRpZ2l0YWxiYXphYXIvdmMnO1xuaW1wb3J0IHsgbG9jYWxPQkNvbnRleHQsIGxvY2FsRUQyNTUxOUNvbnRleHQgfSBmcm9tICcuLi91dGlscy9jb250ZXh0LmpzJztcbi8vIEluaXRpYWxpemUgdGhlIERJRCBtZXRob2Qga2V5IGRyaXZlclxuY29uc3QgZGlkS2V5RHJpdmVySW5zdGFuY2UgPSBkaWRLZXlEcml2ZXIoKTtcbmRpZEtleURyaXZlckluc3RhbmNlLnVzZSh7XG4gICAgbXVsdGliYXNlTXVsdGlrZXlIZWFkZXI6ICd6Nk1rJyxcbiAgICBmcm9tTXVsdGliYXNlOiBFZDI1NTE5VmVyaWZpY2F0aW9uS2V5MjAyMC5mcm9tLFxufSk7XG4vLyBDdXN0b20gZG9jdW1lbnQgbG9hZGVyXG5leHBvcnQgY29uc3QgY3VzdG9tRG9jdW1lbnRMb2FkZXIgPSBhc3luYyAodXJsKSA9PiB7XG4gICAgLy8gQ29udGV4dCBtYXAgZm9yIGxvY2FsIGNvbnRleHRzXG4gICAgY29uc3QgY29udGV4dE1hcCA9IHtcbiAgICAgICAgJ2h0dHBzOi8vcHVybC5pbXNnbG9iYWwub3JnL3NwZWMvb2IvdjNwMC9jb250ZXh0LTMuMC4zLmpzb24nOiBsb2NhbE9CQ29udGV4dCxcbiAgICAgICAgJ2h0dHBzOi8vdzNpZC5vcmcvc2VjdXJpdHkvc3VpdGVzL2VkMjU1MTktMjAyMC92MSc6IGxvY2FsRUQyNTUxOUNvbnRleHQsXG4gICAgfTtcbiAgICAvLyBSZXR1cm4gbG9jYWwgY29udGV4dCBpZiBpdCBtYXRjaGVzIHRoZSBVUkxcbiAgICBpZiAoY29udGV4dE1hcFt1cmxdKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250ZXh0VXJsOiBudWxsLFxuICAgICAgICAgICAgZG9jdW1lbnRVcmw6IHVybCxcbiAgICAgICAgICAgIGRvY3VtZW50OiBjb250ZXh0TWFwW3VybF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIEhhbmRsZSBkaWQ6a2V5IHJlc29sdXRpb25cbiAgICBpZiAodXJsLnN0YXJ0c1dpdGgoJ2RpZDprZXk6JykpIHtcbiAgICAgICAgY29uc3QgZGlkRG9jdW1lbnQgPSBhd2FpdCBkaWRLZXlEcml2ZXJJbnN0YW5jZS5nZXQoeyBkaWQ6IHVybCB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRleHRVcmw6IG51bGwsXG4gICAgICAgICAgICBkb2N1bWVudFVybDogdXJsLFxuICAgICAgICAgICAgZG9jdW1lbnQ6IGRpZERvY3VtZW50LFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBGYWxsYmFjayB0byB0aGUgZGVmYXVsdCBkb2N1bWVudCBsb2FkZXIgZm9yIHVua25vd24gVVJMc1xuICAgIHJldHVybiBkZWZhdWx0RG9jdW1lbnRMb2FkZXIodXJsKTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/digitalbazaar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/google.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/utils/google.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractGoogleDriveFileId: () => (/* binding */ extractGoogleDriveFileId),\n/* harmony export */   generateViewLink: () => (/* binding */ generateViewLink),\n/* harmony export */   getVCWithRecommendations: () => (/* binding */ getVCWithRecommendations),\n/* harmony export */   saveToGoogleDrive: () => (/* binding */ saveToGoogleDrive),\n/* harmony export */   uploadToGoogleDrive: () => (/* binding */ uploadToGoogleDrive)\n/* harmony export */ });\nconst getVCWithRecommendations = async ({ vcId, storage }) => {\n    try {\n        const vcFolderId = await storage.getFileParents(vcId);\n        const files = await storage.findFilesUnderFolder(vcFolderId);\n        const relationsFile = files.find((f) => f.name === 'RELATIONS');\n        const relationsContent = await storage.retrieve(relationsFile.id);\n        const relationsData = relationsContent.data.body ? JSON.parse(relationsContent.data.body) : relationsContent.data;\n        const recommendationIds = relationsData.recommendations || [];\n        const vc = await storage.retrieve(vcId);\n        return { vc: vc, recommendationIds, relationsFileId: relationsFile.id };\n    }\n    catch (error) {\n        console.error('Error getting VC with recommendations:', error);\n        throw error;\n    }\n};\n/**\n * Save data to Google Drive in the specified folder type.\n * @param {object} data - The data to save.\n * @param {FileType} data.type - The type of data being saved.\n * @returns {Promise<object>} - The file object saved to Google Drive.\n * @param {string} data.vcId - Optional unique identifier for the VC to link the recommendations.\n * @throws Will throw an error if the save operation fails.\n */\nasync function saveToGoogleDrive({ storage, data, type }) {\n    try {\n        const fileData = {\n            fileName: type === 'VC' ? 'VC' : `${type}-${Date.now()}`,\n            mimeType: 'application/json',\n            body: JSON.stringify(data),\n        };\n        // Get all root folders\n        const rootFolders = await storage.findFolders();\n        // Find or create the \"Credentials\" folder\n        let credentialsFolder = rootFolders.find((f) => f.name === 'Credentials');\n        let credentialsFolderId;\n        if (!credentialsFolder) {\n            credentialsFolder = await storage.createFolder({ folderName: 'Credentials', parentFolderId: 'root' });\n        }\n        credentialsFolderId = credentialsFolder.id;\n        // Get subfolders within the \"Credentials\" folder\n        const subfolders = await storage.findFolders(credentialsFolderId);\n        // Find or create the specific subfolder (DIDs or VCs)\n        let typeFolder = subfolders.find((f) => f.name === `${type}s`);\n        let typeFolderId;\n        if (!typeFolder) {\n            typeFolder = await storage.createFolder({ folderName: `${type}s`, parentFolderId: credentialsFolderId });\n        }\n        typeFolderId = typeFolder.id;\n        if (type === 'VC') {\n            // save the data in Credentials/VCs/VC-timestamp/vc.json\n            const vcFolder = await storage.createFolder({ folderName: `${fileData.fileName}-${Date.now()}`, parentFolderId: typeFolderId });\n            const file = await storage.saveFile({ data: fileData, folderId: vcFolder.id });\n            return file;\n        }\n        // Save the file in the specific subfolder\n        const file = await storage.saveFile({ data: fileData, folderId: typeFolderId });\n        return file;\n    }\n    catch (error) {\n        console.error('Error saving to Google Drive:', error);\n        throw error;\n    }\n}\n/**\n * Upload any type of file to Google Drive in the Credentials/MEDIAs folder.\n * @param {GoogleDriveStorage} storage - The GoogleDriveStorage instance.\n * @param {File} file - The file to upload.\n * @param {string} folderName - The name of the folder where the file will be saved (default is 'MEDIAs').\n * @returns {Promise<{ id: string }>} - The uploaded file object.\n * @throws Will throw an error if the upload operation fails.\n */\nasync function uploadToGoogleDrive(storage, file, folderName = 'MEDIAs') {\n    try {\n        const rootFolders = await storage.findFolders();\n        let credentialsFolder = rootFolders.find((f) => f.name === 'Credentials');\n        if (!credentialsFolder) {\n            console.log('Creating Credentials folder...');\n            credentialsFolder = await storage.createFolder({ folderName: 'Credentials', parentFolderId: 'root' });\n        }\n        const credentialsFolderId = credentialsFolder.id;\n        const subfolders = await storage.findFolders(credentialsFolder.id);\n        let mediasFolder = subfolders.find((f) => f.name === 'MEDIAs');\n        if (!mediasFolder) {\n            mediasFolder = await storage.createFolder({ folderName: 'MEDIAs', parentFolderId: credentialsFolderId });\n        }\n        const mediasFolderId = mediasFolder.id;\n        // Prepare the image file data\n        const fileMetaData = {\n            fileName: file.name,\n            mimeType: file.type,\n            body: file,\n        };\n        // SaveFile the image in the \"MEDIAs\" folder\n        const uploadedImage = await storage.saveFile({\n            data: fileMetaData,\n            folderId: mediasFolderId,\n        });\n        return uploadedImage;\n    }\n    catch (error) {\n        console.error('Error uploading image to Google Drive:', error);\n        throw error;\n    }\n}\nfunction generateViewLink(fileId) {\n    if (!fileId) {\n        throw new Error('File ID is required to generate a view link.');\n    }\n    // Construct the view URL based on the file ID\n    return `https://drive.google.com/file/d/${fileId}/view`;\n}\nfunction extractGoogleDriveFileId(url) {\n    const regex = /\\/d\\/([a-zA-Z0-9_-]+)\\//;\n    const match = url.match(regex);\n    if (match && match[1]) {\n        return match[1]; // Return the file ID\n    }\n    else {\n        console.error('Invalid Google Drive URL: File ID not found.');\n        return null;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9nb29nbGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTywwQ0FBMEMsZUFBZTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxVQUFVO0FBQ3JCLGFBQWEsaUJBQWlCO0FBQzlCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ08sbUNBQW1DLHFCQUFxQjtBQUMvRDtBQUNBO0FBQ0EsZ0RBQWdELEtBQUssR0FBRyxXQUFXO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxtREFBbUQ7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxLQUFLO0FBQ25FO0FBQ0E7QUFDQSxzREFBc0QsZUFBZSxLQUFLLHlDQUF5QztBQUNuSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxlQUFlLGtCQUFrQixHQUFHLFdBQVcsaUNBQWlDO0FBQzFJLGtEQUFrRCx1Q0FBdUM7QUFDekY7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHdDQUF3QztBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG9CQUFvQjtBQUMvQixXQUFXLE1BQU07QUFDakIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsVUFBVSxZQUFZLEdBQUc7QUFDdEM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxtREFBbUQ7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCwyREFBMkQ7QUFDbkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxPQUFPO0FBQ3JEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvdXRpbHMvZ29vZ2xlLmpzP2E4MDQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IGdldFZDV2l0aFJlY29tbWVuZGF0aW9ucyA9IGFzeW5jICh7IHZjSWQsIHN0b3JhZ2UgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZjRm9sZGVySWQgPSBhd2FpdCBzdG9yYWdlLmdldEZpbGVQYXJlbnRzKHZjSWQpO1xuICAgICAgICBjb25zdCBmaWxlcyA9IGF3YWl0IHN0b3JhZ2UuZmluZEZpbGVzVW5kZXJGb2xkZXIodmNGb2xkZXJJZCk7XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uc0ZpbGUgPSBmaWxlcy5maW5kKChmKSA9PiBmLm5hbWUgPT09ICdSRUxBVElPTlMnKTtcbiAgICAgICAgY29uc3QgcmVsYXRpb25zQ29udGVudCA9IGF3YWl0IHN0b3JhZ2UucmV0cmlldmUocmVsYXRpb25zRmlsZS5pZCk7XG4gICAgICAgIGNvbnN0IHJlbGF0aW9uc0RhdGEgPSByZWxhdGlvbnNDb250ZW50LmRhdGEuYm9keSA/IEpTT04ucGFyc2UocmVsYXRpb25zQ29udGVudC5kYXRhLmJvZHkpIDogcmVsYXRpb25zQ29udGVudC5kYXRhO1xuICAgICAgICBjb25zdCByZWNvbW1lbmRhdGlvbklkcyA9IHJlbGF0aW9uc0RhdGEucmVjb21tZW5kYXRpb25zIHx8IFtdO1xuICAgICAgICBjb25zdCB2YyA9IGF3YWl0IHN0b3JhZ2UucmV0cmlldmUodmNJZCk7XG4gICAgICAgIHJldHVybiB7IHZjOiB2YywgcmVjb21tZW5kYXRpb25JZHMsIHJlbGF0aW9uc0ZpbGVJZDogcmVsYXRpb25zRmlsZS5pZCB9O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBWQyB3aXRoIHJlY29tbWVuZGF0aW9uczonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vKipcbiAqIFNhdmUgZGF0YSB0byBHb29nbGUgRHJpdmUgaW4gdGhlIHNwZWNpZmllZCBmb2xkZXIgdHlwZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gVGhlIGRhdGEgdG8gc2F2ZS5cbiAqIEBwYXJhbSB7RmlsZVR5cGV9IGRhdGEudHlwZSAtIFRoZSB0eXBlIG9mIGRhdGEgYmVpbmcgc2F2ZWQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZTxvYmplY3Q+fSAtIFRoZSBmaWxlIG9iamVjdCBzYXZlZCB0byBHb29nbGUgRHJpdmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YS52Y0lkIC0gT3B0aW9uYWwgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBWQyB0byBsaW5rIHRoZSByZWNvbW1lbmRhdGlvbnMuXG4gKiBAdGhyb3dzIFdpbGwgdGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNhdmUgb3BlcmF0aW9uIGZhaWxzLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZVRvR29vZ2xlRHJpdmUoeyBzdG9yYWdlLCBkYXRhLCB0eXBlIH0pIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBmaWxlRGF0YSA9IHtcbiAgICAgICAgICAgIGZpbGVOYW1lOiB0eXBlID09PSAnVkMnID8gJ1ZDJyA6IGAke3R5cGV9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgICAgICAgbWltZVR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICAvLyBHZXQgYWxsIHJvb3QgZm9sZGVyc1xuICAgICAgICBjb25zdCByb290Rm9sZGVycyA9IGF3YWl0IHN0b3JhZ2UuZmluZEZvbGRlcnMoKTtcbiAgICAgICAgLy8gRmluZCBvciBjcmVhdGUgdGhlIFwiQ3JlZGVudGlhbHNcIiBmb2xkZXJcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzRm9sZGVyID0gcm9vdEZvbGRlcnMuZmluZCgoZikgPT4gZi5uYW1lID09PSAnQ3JlZGVudGlhbHMnKTtcbiAgICAgICAgbGV0IGNyZWRlbnRpYWxzRm9sZGVySWQ7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHNGb2xkZXIpIHtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzRm9sZGVyID0gYXdhaXQgc3RvcmFnZS5jcmVhdGVGb2xkZXIoeyBmb2xkZXJOYW1lOiAnQ3JlZGVudGlhbHMnLCBwYXJlbnRGb2xkZXJJZDogJ3Jvb3QnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNyZWRlbnRpYWxzRm9sZGVySWQgPSBjcmVkZW50aWFsc0ZvbGRlci5pZDtcbiAgICAgICAgLy8gR2V0IHN1YmZvbGRlcnMgd2l0aGluIHRoZSBcIkNyZWRlbnRpYWxzXCIgZm9sZGVyXG4gICAgICAgIGNvbnN0IHN1YmZvbGRlcnMgPSBhd2FpdCBzdG9yYWdlLmZpbmRGb2xkZXJzKGNyZWRlbnRpYWxzRm9sZGVySWQpO1xuICAgICAgICAvLyBGaW5kIG9yIGNyZWF0ZSB0aGUgc3BlY2lmaWMgc3ViZm9sZGVyIChESURzIG9yIFZDcylcbiAgICAgICAgbGV0IHR5cGVGb2xkZXIgPSBzdWJmb2xkZXJzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gYCR7dHlwZX1zYCk7XG4gICAgICAgIGxldCB0eXBlRm9sZGVySWQ7XG4gICAgICAgIGlmICghdHlwZUZvbGRlcikge1xuICAgICAgICAgICAgdHlwZUZvbGRlciA9IGF3YWl0IHN0b3JhZ2UuY3JlYXRlRm9sZGVyKHsgZm9sZGVyTmFtZTogYCR7dHlwZX1zYCwgcGFyZW50Rm9sZGVySWQ6IGNyZWRlbnRpYWxzRm9sZGVySWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdHlwZUZvbGRlcklkID0gdHlwZUZvbGRlci5pZDtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdWQycpIHtcbiAgICAgICAgICAgIC8vIHNhdmUgdGhlIGRhdGEgaW4gQ3JlZGVudGlhbHMvVkNzL1ZDLXRpbWVzdGFtcC92Yy5qc29uXG4gICAgICAgICAgICBjb25zdCB2Y0ZvbGRlciA9IGF3YWl0IHN0b3JhZ2UuY3JlYXRlRm9sZGVyKHsgZm9sZGVyTmFtZTogYCR7ZmlsZURhdGEuZmlsZU5hbWV9LSR7RGF0ZS5ub3coKX1gLCBwYXJlbnRGb2xkZXJJZDogdHlwZUZvbGRlcklkIH0pO1xuICAgICAgICAgICAgY29uc3QgZmlsZSA9IGF3YWl0IHN0b3JhZ2Uuc2F2ZUZpbGUoeyBkYXRhOiBmaWxlRGF0YSwgZm9sZGVySWQ6IHZjRm9sZGVyLmlkIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2F2ZSB0aGUgZmlsZSBpbiB0aGUgc3BlY2lmaWMgc3ViZm9sZGVyXG4gICAgICAgIGNvbnN0IGZpbGUgPSBhd2FpdCBzdG9yYWdlLnNhdmVGaWxlKHsgZGF0YTogZmlsZURhdGEsIGZvbGRlcklkOiB0eXBlRm9sZGVySWQgfSk7XG4gICAgICAgIHJldHVybiBmaWxlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHRvIEdvb2dsZSBEcml2ZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogVXBsb2FkIGFueSB0eXBlIG9mIGZpbGUgdG8gR29vZ2xlIERyaXZlIGluIHRoZSBDcmVkZW50aWFscy9NRURJQXMgZm9sZGVyLlxuICogQHBhcmFtIHtHb29nbGVEcml2ZVN0b3JhZ2V9IHN0b3JhZ2UgLSBUaGUgR29vZ2xlRHJpdmVTdG9yYWdlIGluc3RhbmNlLlxuICogQHBhcmFtIHtGaWxlfSBmaWxlIC0gVGhlIGZpbGUgdG8gdXBsb2FkLlxuICogQHBhcmFtIHtzdHJpbmd9IGZvbGRlck5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgZm9sZGVyIHdoZXJlIHRoZSBmaWxlIHdpbGwgYmUgc2F2ZWQgKGRlZmF1bHQgaXMgJ01FRElBcycpLlxuICogQHJldHVybnMge1Byb21pc2U8eyBpZDogc3RyaW5nIH0+fSAtIFRoZSB1cGxvYWRlZCBmaWxlIG9iamVjdC5cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgdXBsb2FkIG9wZXJhdGlvbiBmYWlscy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwbG9hZFRvR29vZ2xlRHJpdmUoc3RvcmFnZSwgZmlsZSwgZm9sZGVyTmFtZSA9ICdNRURJQXMnKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgcm9vdEZvbGRlcnMgPSBhd2FpdCBzdG9yYWdlLmZpbmRGb2xkZXJzKCk7XG4gICAgICAgIGxldCBjcmVkZW50aWFsc0ZvbGRlciA9IHJvb3RGb2xkZXJzLmZpbmQoKGYpID0+IGYubmFtZSA9PT0gJ0NyZWRlbnRpYWxzJyk7XG4gICAgICAgIGlmICghY3JlZGVudGlhbHNGb2xkZXIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmVhdGluZyBDcmVkZW50aWFscyBmb2xkZXIuLi4nKTtcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzRm9sZGVyID0gYXdhaXQgc3RvcmFnZS5jcmVhdGVGb2xkZXIoeyBmb2xkZXJOYW1lOiAnQ3JlZGVudGlhbHMnLCBwYXJlbnRGb2xkZXJJZDogJ3Jvb3QnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxzRm9sZGVySWQgPSBjcmVkZW50aWFsc0ZvbGRlci5pZDtcbiAgICAgICAgY29uc3Qgc3ViZm9sZGVycyA9IGF3YWl0IHN0b3JhZ2UuZmluZEZvbGRlcnMoY3JlZGVudGlhbHNGb2xkZXIuaWQpO1xuICAgICAgICBsZXQgbWVkaWFzRm9sZGVyID0gc3ViZm9sZGVycy5maW5kKChmKSA9PiBmLm5hbWUgPT09ICdNRURJQXMnKTtcbiAgICAgICAgaWYgKCFtZWRpYXNGb2xkZXIpIHtcbiAgICAgICAgICAgIG1lZGlhc0ZvbGRlciA9IGF3YWl0IHN0b3JhZ2UuY3JlYXRlRm9sZGVyKHsgZm9sZGVyTmFtZTogJ01FRElBcycsIHBhcmVudEZvbGRlcklkOiBjcmVkZW50aWFsc0ZvbGRlcklkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1lZGlhc0ZvbGRlcklkID0gbWVkaWFzRm9sZGVyLmlkO1xuICAgICAgICAvLyBQcmVwYXJlIHRoZSBpbWFnZSBmaWxlIGRhdGFcbiAgICAgICAgY29uc3QgZmlsZU1ldGFEYXRhID0ge1xuICAgICAgICAgICAgZmlsZU5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgICBib2R5OiBmaWxlLFxuICAgICAgICB9O1xuICAgICAgICAvLyBTYXZlRmlsZSB0aGUgaW1hZ2UgaW4gdGhlIFwiTUVESUFzXCIgZm9sZGVyXG4gICAgICAgIGNvbnN0IHVwbG9hZGVkSW1hZ2UgPSBhd2FpdCBzdG9yYWdlLnNhdmVGaWxlKHtcbiAgICAgICAgICAgIGRhdGE6IGZpbGVNZXRhRGF0YSxcbiAgICAgICAgICAgIGZvbGRlcklkOiBtZWRpYXNGb2xkZXJJZCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB1cGxvYWRlZEltYWdlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBsb2FkaW5nIGltYWdlIHRvIEdvb2dsZSBEcml2ZTonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVZpZXdMaW5rKGZpbGVJZCkge1xuICAgIGlmICghZmlsZUlkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmlsZSBJRCBpcyByZXF1aXJlZCB0byBnZW5lcmF0ZSBhIHZpZXcgbGluay4nKTtcbiAgICB9XG4gICAgLy8gQ29uc3RydWN0IHRoZSB2aWV3IFVSTCBiYXNlZCBvbiB0aGUgZmlsZSBJRFxuICAgIHJldHVybiBgaHR0cHM6Ly9kcml2ZS5nb29nbGUuY29tL2ZpbGUvZC8ke2ZpbGVJZH0vdmlld2A7XG59XG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEdvb2dsZURyaXZlRmlsZUlkKHVybCkge1xuICAgIGNvbnN0IHJlZ2V4ID0gL1xcL2RcXC8oW2EtekEtWjAtOV8tXSspXFwvLztcbiAgICBjb25zdCBtYXRjaCA9IHVybC5tYXRjaChyZWdleCk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzFdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaFsxXTsgLy8gUmV0dXJuIHRoZSBmaWxlIElEXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIEdvb2dsZSBEcml2ZSBVUkw6IEZpbGUgSUQgbm90IGZvdW5kLicpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/google.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/presentation.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@cooperation/vc-storage/dist/utils/presentation.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAndSignVerifiablePresentation: () => (/* binding */ createAndSignVerifiablePresentation)\n/* harmony export */ });\n/**\n * Create and sign a Verifiable Presentation (VP) from a given Verifiable Credential (VC) file and any associated recommendations.\n * @param {string} accessTokens - The access tokens for the user.\n * @param {string} vcFileId - The ID of the Verifiable Credential (VC) file in Google Drive.\n * @returns {Promise<{ signedPresentation: object } | null>} - The signed Verifiable Presentation (VP) or null if an error occurs.\n * @throws Will throw an error if the VC is not found, a matching key pair cannot be located, or any part of the signing process fails.\n */\nconst createAndSignVerifiablePresentation = async (accessTokens, vcFileId) => {\n    if (!accessTokens || !vcFileId) {\n        console.error('Invalid input: Access tokens and VC file ID are required.');\n        return null;\n    }\n    try {\n        // const storage = new GoogleDriveStorage(accessTokens);\n        // const engine = new CredentialEngine(accessTokens);\n        // // Fetch Verifiable Credential (VC)\n        // const verifiableCredential = await storage.retrieve(vcFileId);\n        // if (!verifiableCredential) {\n        // \tthrow new Error('Verifiable Credential not found.');\n        // }\n        // // Fetch VC comments (potential recommendations)\n        // const verifiableCredentialComments = await storage.getFileComments(vcFileId);\n        // let recommendations: object[] = [];\n        // // Extract recommendations from comments if present\n        // if (verifiableCredentialComments.length > 0) {\n        // \tfor (const comment of verifiableCredentialComments) {\n        // \t\tconsole.log('🚀 ~ createAndSignVerifiablePresentation ~ comment', comment);\n        // \t\tconst recommendationFile = await storage.retrieve(extractGoogleDriveFileId(comment.content));\n        // \t\tconsole.log('🚀 ~ createAndSignVerifiablePresentation ~ recommendationFile', recommendationFile);\n        // \t\tif (recommendationFile) {\n        // \t\t\trecommendations.push(recommendationFile);\n        // \t\t}\n        // \t}\n        // }\n        // // Create Verifiable Presentation (VP) with the retrieved VC\n        // const presentation = await engine.createPresentation([verifiableCredential.data, ...recommendations]); //! do not edit the array order!!\n        // // Use the key pair to sign the presentation\n        // const signedPresentation = await engine.signPresentation(presentation);\n        // return {};\n    }\n    catch (error) {\n        console.error('Error during Verifiable Presentation creation and signing:', error);\n        return null;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGNvb3BlcmF0aW9uL3ZjLXN0b3JhZ2UvZGlzdC91dGlscy9wcmVzZW50YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLGFBQWEsVUFBVSw2QkFBNkIsU0FBUztBQUM3RDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrSEFBa0g7QUFDbEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLy4vbm9kZV9tb2R1bGVzL0Bjb29wZXJhdGlvbi92Yy1zdG9yYWdlL2Rpc3QvdXRpbHMvcHJlc2VudGF0aW9uLmpzP2RjMmYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGUgYW5kIHNpZ24gYSBWZXJpZmlhYmxlIFByZXNlbnRhdGlvbiAoVlApIGZyb20gYSBnaXZlbiBWZXJpZmlhYmxlIENyZWRlbnRpYWwgKFZDKSBmaWxlIGFuZCBhbnkgYXNzb2NpYXRlZCByZWNvbW1lbmRhdGlvbnMuXG4gKiBAcGFyYW0ge3N0cmluZ30gYWNjZXNzVG9rZW5zIC0gVGhlIGFjY2VzcyB0b2tlbnMgZm9yIHRoZSB1c2VyLlxuICogQHBhcmFtIHtzdHJpbmd9IHZjRmlsZUlkIC0gVGhlIElEIG9mIHRoZSBWZXJpZmlhYmxlIENyZWRlbnRpYWwgKFZDKSBmaWxlIGluIEdvb2dsZSBEcml2ZS5cbiAqIEByZXR1cm5zIHtQcm9taXNlPHsgc2lnbmVkUHJlc2VudGF0aW9uOiBvYmplY3QgfSB8IG51bGw+fSAtIFRoZSBzaWduZWQgVmVyaWZpYWJsZSBQcmVzZW50YXRpb24gKFZQKSBvciBudWxsIGlmIGFuIGVycm9yIG9jY3Vycy5cbiAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgVkMgaXMgbm90IGZvdW5kLCBhIG1hdGNoaW5nIGtleSBwYWlyIGNhbm5vdCBiZSBsb2NhdGVkLCBvciBhbnkgcGFydCBvZiB0aGUgc2lnbmluZyBwcm9jZXNzIGZhaWxzLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQW5kU2lnblZlcmlmaWFibGVQcmVzZW50YXRpb24gPSBhc3luYyAoYWNjZXNzVG9rZW5zLCB2Y0ZpbGVJZCkgPT4ge1xuICAgIGlmICghYWNjZXNzVG9rZW5zIHx8ICF2Y0ZpbGVJZCkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGlucHV0OiBBY2Nlc3MgdG9rZW5zIGFuZCBWQyBmaWxlIElEIGFyZSByZXF1aXJlZC4nKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIGNvbnN0IHN0b3JhZ2UgPSBuZXcgR29vZ2xlRHJpdmVTdG9yYWdlKGFjY2Vzc1Rva2Vucyk7XG4gICAgICAgIC8vIGNvbnN0IGVuZ2luZSA9IG5ldyBDcmVkZW50aWFsRW5naW5lKGFjY2Vzc1Rva2Vucyk7XG4gICAgICAgIC8vIC8vIEZldGNoIFZlcmlmaWFibGUgQ3JlZGVudGlhbCAoVkMpXG4gICAgICAgIC8vIGNvbnN0IHZlcmlmaWFibGVDcmVkZW50aWFsID0gYXdhaXQgc3RvcmFnZS5yZXRyaWV2ZSh2Y0ZpbGVJZCk7XG4gICAgICAgIC8vIGlmICghdmVyaWZpYWJsZUNyZWRlbnRpYWwpIHtcbiAgICAgICAgLy8gXHR0aHJvdyBuZXcgRXJyb3IoJ1ZlcmlmaWFibGUgQ3JlZGVudGlhbCBub3QgZm91bmQuJyk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gLy8gRmV0Y2ggVkMgY29tbWVudHMgKHBvdGVudGlhbCByZWNvbW1lbmRhdGlvbnMpXG4gICAgICAgIC8vIGNvbnN0IHZlcmlmaWFibGVDcmVkZW50aWFsQ29tbWVudHMgPSBhd2FpdCBzdG9yYWdlLmdldEZpbGVDb21tZW50cyh2Y0ZpbGVJZCk7XG4gICAgICAgIC8vIGxldCByZWNvbW1lbmRhdGlvbnM6IG9iamVjdFtdID0gW107XG4gICAgICAgIC8vIC8vIEV4dHJhY3QgcmVjb21tZW5kYXRpb25zIGZyb20gY29tbWVudHMgaWYgcHJlc2VudFxuICAgICAgICAvLyBpZiAodmVyaWZpYWJsZUNyZWRlbnRpYWxDb21tZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFx0Zm9yIChjb25zdCBjb21tZW50IG9mIHZlcmlmaWFibGVDcmVkZW50aWFsQ29tbWVudHMpIHtcbiAgICAgICAgLy8gXHRcdGNvbnNvbGUubG9nKCfwn5qAIH4gY3JlYXRlQW5kU2lnblZlcmlmaWFibGVQcmVzZW50YXRpb24gfiBjb21tZW50JywgY29tbWVudCk7XG4gICAgICAgIC8vIFx0XHRjb25zdCByZWNvbW1lbmRhdGlvbkZpbGUgPSBhd2FpdCBzdG9yYWdlLnJldHJpZXZlKGV4dHJhY3RHb29nbGVEcml2ZUZpbGVJZChjb21tZW50LmNvbnRlbnQpKTtcbiAgICAgICAgLy8gXHRcdGNvbnNvbGUubG9nKCfwn5qAIH4gY3JlYXRlQW5kU2lnblZlcmlmaWFibGVQcmVzZW50YXRpb24gfiByZWNvbW1lbmRhdGlvbkZpbGUnLCByZWNvbW1lbmRhdGlvbkZpbGUpO1xuICAgICAgICAvLyBcdFx0aWYgKHJlY29tbWVuZGF0aW9uRmlsZSkge1xuICAgICAgICAvLyBcdFx0XHRyZWNvbW1lbmRhdGlvbnMucHVzaChyZWNvbW1lbmRhdGlvbkZpbGUpO1xuICAgICAgICAvLyBcdFx0fVxuICAgICAgICAvLyBcdH1cbiAgICAgICAgLy8gfVxuICAgICAgICAvLyAvLyBDcmVhdGUgVmVyaWZpYWJsZSBQcmVzZW50YXRpb24gKFZQKSB3aXRoIHRoZSByZXRyaWV2ZWQgVkNcbiAgICAgICAgLy8gY29uc3QgcHJlc2VudGF0aW9uID0gYXdhaXQgZW5naW5lLmNyZWF0ZVByZXNlbnRhdGlvbihbdmVyaWZpYWJsZUNyZWRlbnRpYWwuZGF0YSwgLi4ucmVjb21tZW5kYXRpb25zXSk7IC8vISBkbyBub3QgZWRpdCB0aGUgYXJyYXkgb3JkZXIhIVxuICAgICAgICAvLyAvLyBVc2UgdGhlIGtleSBwYWlyIHRvIHNpZ24gdGhlIHByZXNlbnRhdGlvblxuICAgICAgICAvLyBjb25zdCBzaWduZWRQcmVzZW50YXRpb24gPSBhd2FpdCBlbmdpbmUuc2lnblByZXNlbnRhdGlvbihwcmVzZW50YXRpb24pO1xuICAgICAgICAvLyByZXR1cm4ge307XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgVmVyaWZpYWJsZSBQcmVzZW50YXRpb24gY3JlYXRpb24gYW5kIHNpZ25pbmc6JywgZXJyb3IpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@cooperation/vc-storage/dist/utils/presentation.js\n");

/***/ })

};
;